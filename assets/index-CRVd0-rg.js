(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function h1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wh={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function d1(){if(Hy)return Xo;Hy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:h,ref:l!==void 0?l:null,props:c}}return Xo.Fragment=t,Xo.jsx=i,Xo.jsxs=i,Xo}var Gy;function m1(){return Gy||(Gy=1,Wh.exports=d1()),Wh.exports}var tt=m1(),td={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function p1(){if(Fy)return Rt;Fy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function U(V,it,ut){this.props=V,this.context=it,this.refs=F,this.updater=ut||L}U.prototype.isReactComponent={},U.prototype.setState=function(V,it){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,it,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function K(V,it,ut){this.props=V,this.context=it,this.refs=F,this.updater=ut||L}var Q=K.prototype=new Y;Q.constructor=K,N(Q,U.prototype),Q.isPureReactComponent=!0;var rt=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},gt=Object.prototype.hasOwnProperty;function x(V,it,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:r,type:V,key:it,ref:ut!==void 0?ut:null,props:Dt}}function R(V,it){return x(V.type,it,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var it={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return it[ut]})}var M=/\/+/g;function P(V,it){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):it.toString(36)}function D(){}function be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(it){V.status==="pending"&&(V.status="fulfilled",V.value=it)},function(it){V.status==="pending"&&(V.status="rejected",V.reason=it)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,it,ut,at,yt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(Dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case r:case t:bt=!0;break;case E:return bt=V._init,ee(bt(V._payload),it,ut,at,yt)}}if(bt)return yt=yt(V),bt=at===""?"."+P(V,0):at,rt(yt)?(ut="",bt!=null&&(ut=bt.replace(M,"$&/")+"/"),ee(yt,it,ut,"",function(kn){return kn})):yt!=null&&(w(yt)&&(yt=R(yt,ut+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(M,"$&/")+"/")+bt)),it.push(yt)),1;bt=0;var xe=at===""?".":at+":";if(rt(V))for(var Wt=0;Wt<V.length;Wt++)at=V[Wt],Dt=xe+P(at,Wt),bt+=ee(at,it,ut,Dt,yt);else if(Wt=S(V),typeof Wt=="function")for(V=Wt.call(V),Wt=0;!(at=V.next()).done;)at=at.value,Dt=xe+P(at,Wt++),bt+=ee(at,it,ut,Dt,yt);else if(Dt==="object"){if(typeof V.then=="function")return ee(be(V),it,ut,at,yt);throw it=String(V),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return bt}function $(V,it,ut){if(V==null)return V;var at=[],yt=0;return ee(V,at,"","",function(Dt){return it.call(ut,Dt,yt++)}),at}function ot(V){if(V._status===-1){var it=V._result;it=it(),it.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=it)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return Rt.Children={map:$,forEach:function(V,it,ut){$(V,function(){it.apply(this,arguments)},ut)},count:function(V){var it=0;return $(V,function(){it++}),it},toArray:function(V){return $(V,function(it){return it})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=U,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=K,Rt.StrictMode=s,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return lt.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,it,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=N({},V.props),yt=V.key,Dt=void 0;if(it!=null)for(bt in it.ref!==void 0&&(Dt=void 0),it.key!==void 0&&(yt=""+it.key),it)!gt.call(it,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&it.ref===void 0||(at[bt]=it[bt]);var bt=arguments.length-2;if(bt===1)at.children=ut;else if(1<bt){for(var xe=Array(bt),Wt=0;Wt<bt;Wt++)xe[Wt]=arguments[Wt+2];at.children=xe}return x(V.type,yt,void 0,void 0,Dt,at)},Rt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Rt.createElement=function(V,it,ut){var at,yt={},Dt=null;if(it!=null)for(at in it.key!==void 0&&(Dt=""+it.key),it)gt.call(it,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=it[at]);var bt=arguments.length-2;if(bt===1)yt.children=ut;else if(1<bt){for(var xe=Array(bt),Wt=0;Wt<bt;Wt++)xe[Wt]=arguments[Wt+2];yt.children=xe}if(V&&V.defaultProps)for(at in bt=V.defaultProps,bt)yt[at]===void 0&&(yt[at]=bt[at]);return x(V,Dt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:m,render:V}},Rt.isValidElement=w,Rt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ot}},Rt.memo=function(V,it){return{$$typeof:y,type:V,compare:it===void 0?null:it}},Rt.startTransition=function(V){var it=lt.T,ut={};lt.T=ut;try{var at=V(),yt=lt.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Bt,dt)}catch(Dt){dt(Dt)}finally{lt.T=it}},Rt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Rt.use=function(V){return lt.H.use(V)},Rt.useActionState=function(V,it,ut){return lt.H.useActionState(V,it,ut)},Rt.useCallback=function(V,it){return lt.H.useCallback(V,it)},Rt.useContext=function(V){return lt.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,it){return lt.H.useDeferredValue(V,it)},Rt.useEffect=function(V,it,ut){var at=lt.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(V,it)},Rt.useId=function(){return lt.H.useId()},Rt.useImperativeHandle=function(V,it,ut){return lt.H.useImperativeHandle(V,it,ut)},Rt.useInsertionEffect=function(V,it){return lt.H.useInsertionEffect(V,it)},Rt.useLayoutEffect=function(V,it){return lt.H.useLayoutEffect(V,it)},Rt.useMemo=function(V,it){return lt.H.useMemo(V,it)},Rt.useOptimistic=function(V,it){return lt.H.useOptimistic(V,it)},Rt.useReducer=function(V,it,ut){return lt.H.useReducer(V,it,ut)},Rt.useRef=function(V){return lt.H.useRef(V)},Rt.useState=function(V){return lt.H.useState(V)},Rt.useSyncExternalStore=function(V,it,ut){return lt.H.useSyncExternalStore(V,it,ut)},Rt.useTransition=function(){return lt.H.useTransition()},Rt.version="19.1.0",Rt}var Qy;function Gd(){return Qy||(Qy=1,td.exports=p1()),td.exports}var q=Gd();const kt=h1(q);var ed={exports:{}},Ko={},nd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function g1(){return Yy||(Yy=1,function(r){function t($,ot){var dt=$.length;$.push(ot);t:for(;0<dt;){var Bt=dt-1>>>1,V=$[Bt];if(0<l(V,ot))$[Bt]=ot,$[dt]=V,dt=Bt;else break t}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ot=$[0],dt=$.pop();if(dt!==ot){$[0]=dt;t:for(var Bt=0,V=$.length,it=V>>>1;Bt<it;){var ut=2*(Bt+1)-1,at=$[ut],yt=ut+1,Dt=$[yt];if(0>l(at,dt))yt<V&&0>l(Dt,at)?($[Bt]=Dt,$[yt]=dt,Bt=yt):($[Bt]=at,$[ut]=dt,Bt=ut);else if(yt<V&&0>l(Dt,dt))$[Bt]=Dt,$[yt]=dt,Bt=yt;else break t}}return ot}function l($,ot){var dt=$.sortIndex-ot.sortIndex;return dt!==0?dt:$.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],y=[],E=1,A=null,S=3,L=!1,N=!1,F=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function rt($){for(var ot=i(y);ot!==null;){if(ot.callback===null)s(y);else if(ot.startTime<=$)s(y),ot.sortIndex=ot.expirationTime,t(g,ot);else break;ot=i(y)}}function lt($){if(F=!1,rt($),!N)if(i(g)!==null)N=!0,gt||(gt=!0,P());else{var ot=i(y);ot!==null&&ee(lt,ot.startTime-$)}}var gt=!1,x=-1,R=5,w=-1;function I(){return U?!0:!(r.unstable_now()-w<R)}function M(){if(U=!1,gt){var $=r.unstable_now();w=$;var ot=!0;try{t:{N=!1,F&&(F=!1,K(x),x=-1),L=!0;var dt=S;try{e:{for(rt($),A=i(g);A!==null&&!(A.expirationTime>$&&I());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,S=A.priorityLevel;var V=Bt(A.expirationTime<=$);if($=r.unstable_now(),typeof V=="function"){A.callback=V,rt($),ot=!0;break e}A===i(g)&&s(g),rt($)}else s(g);A=i(g)}if(A!==null)ot=!0;else{var it=i(y);it!==null&&ee(lt,it.startTime-$),ot=!1}}break t}finally{A=null,S=dt,L=!1}ot=void 0}}finally{ot?P():gt=!1}}}var P;if(typeof Q=="function")P=function(){Q(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,be=D.port2;D.port1.onmessage=M,P=function(){be.postMessage(null)}}else P=function(){Y(M,0)};function ee($,ot){x=Y(function(){$(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var dt=S;S=ot;try{return $()}finally{S=dt}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function($,ot){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var dt=S;S=$;try{return ot()}finally{S=dt}},r.unstable_scheduleCallback=function($,ot,dt){var Bt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Bt+dt:Bt):dt=Bt,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,$={id:E++,callback:ot,priorityLevel:$,startTime:dt,expirationTime:V,sortIndex:-1},dt>Bt?($.sortIndex=dt,t(y,$),i(g)===null&&$===i(y)&&(F?(K(x),x=-1):F=!0,ee(lt,dt-Bt))):($.sortIndex=V,t(g,$),N||L||(N=!0,gt||(gt=!0,P()))),$},r.unstable_shouldYield=I,r.unstable_wrapCallback=function($){var ot=S;return function(){var dt=S;S=ot;try{return $.apply(this,arguments)}finally{S=dt}}}}(id)),id}var Xy;function y1(){return Xy||(Xy=1,nd.exports=g1()),nd.exports}var rd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function _1(){if(Ky)return Qe;Ky=1;var r=Gd();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(g,y,null,E)},Qe.flushSync=function(g){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:S,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return h.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var $y;function v1(){if($y)return rd.exports;$y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rd.exports=_1(),rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function E1(){if(Zy)return Ko;Zy=1;var r=y1(),t=Gd(),i=v1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===o)return m(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,o=d;break}if(T===o){v=!0,o=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=f;break}if(T===o){v=!0,o=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case U:return"Profiler";case F:return"StrictMode";case lt:return"Suspense";case gt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case K:return(e._context.displayName||"Context")+".Consumer";case rt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:be(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return be(e(n))}catch{}}return null}var ee=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Bt=[],V=-1;function it(e){return{current:e}}function ut(e){0>V||(e.current=Bt[V],Bt[V]=null,V--)}function at(e,n){V++,Bt[V]=e.current,e.current=n}var yt=it(null),Dt=it(null),bt=it(null),xe=it(null);function Wt(e,n){switch(at(bt,n),at(Dt,e),at(yt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yy(n),e=_y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(yt),at(yt,e)}function kn(){ut(yt),ut(Dt),ut(bt)}function Hi(e){e.memoizedState!==null&&at(xe,e);var n=yt.current,a=_y(n,e.type);n!==a&&(at(Dt,e),at(yt,a))}function ui(e){Dt.current===e&&(ut(yt),ut(Dt)),xe.current===e&&(ut(xe),Ho._currentValue=dt)}var Ir=Object.prototype.hasOwnProperty,Vr=r.unstable_scheduleCallback,Nr=r.unstable_cancelCallback,ks=r.unstable_shouldYield,Cl=r.unstable_requestPaint,gn=r.unstable_now,Jc=r.unstable_getCurrentPriorityLevel,Bs=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,Or=r.unstable_NormalPriority,Wc=r.unstable_LowPriority,Ra=r.unstable_IdlePriority,js=r.log,Dl=r.unstable_setDisableYieldValue,le=null,Gt=null;function sn(e){if(typeof js=="function"&&Dl(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:Mr,xl=Math.log,tf=Math.LN2;function Mr(e){return e>>>=0,e===0?32:31-(xl(e)/tf|0)|0}var Lr=256,Ur=4194304;function In(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wa(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=In(o):(v&=T,v!==0?f=In(v):a||(a=T&~e,a!==0&&(f=In(a))))):(T=o&~d,T!==0?f=In(T):v!==0?f=In(v):a||(a=o&~e,a!==0&&(f=In(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Pr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var e=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),e}function Gs(){var e=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fs(e,n,a,o,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Ge(a),W=1<<Z;T[Z]=0,C[Z]=-1;var H=j[Z];if(H!==null)for(j[Z]=null,Z=0;Z<H.length;Z++){var G=H[Z];G!==null&&(G.lane&=-536870913)}a&=~W}o!==0&&Bn(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Bn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Qs(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Ge(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ca(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Py(e.type))}function Il(e,n){var a=ot.p;try{return ot.p=e,n()}finally{ot.p=a}}var ie=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ie,pe="__reactProps$"+ie,yn="__reactContainer$"+ie,Ys="__reactEvents$"+ie,ef="__reactListeners$"+ie,Qi="__reactHandles$"+ie,Vl="__reactResources$"+ie,zr="__reactMarker$"+ie;function Yi(e){delete e[Ae],delete e[pe],delete e[Ys],delete e[ef],delete e[Qi]}function hi(e){var n=e[Ae];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yn]||a[Ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=by(e);e!==null;){if(a=e[Ae])return a;e=by(e)}return n}e=a,a=e.parentNode}return null}function jn(e){if(e=e[Ae]||e[yn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function $e(e){var n=e[Vl];return n||(n=e[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(e){e[zr]=!0}var Xs=new Set,Da={};function Vn(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Da[e]=n,e=0;e<n.length;e++)Xs.add(n[e])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},kr={};function Ml(e){return Ir.call(kr,e)?!0:Ir.call(Ol,e)?!1:Nl.test(e)?kr[e]=!0:(Ol[e]=!0,!1)}function Xi(e,n,a){if(Ml(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Hn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Br,Ll;function mi(e){if(Br===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Br=n&&n[1]||"",Ll=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+e+Ll}var xa=!1;function Ia(e,n){if(!e||xa)return"";xa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var H=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){H=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){H=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),j=T.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===j.length)for(o=C.length-1,f=j.length-1;1<=o&&0<=f&&C[o]!==j[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==j[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==j[f]){var Z=`
`+C[o].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=o&&0<=f);break}}}finally{xa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function Ks(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ia(e.type,!1);case 11:return Ia(e.type.render,!1);case 1:return Ia(e.type,!0);case 31:return mi("Activity");default:return""}}function Va(e){try{var n="";do n+=Ks(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $s(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nf(e){var n=$s(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Na(e){e._valueTracker||(e._valueTracker=nf(e))}function Zs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=$s(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rf=/[\n"\\]/g;function ge(e){return e.replace(rf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(e,n,a,o,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ki(e,v,Ze(n)):a!=null?Ki(e,v,Ze(a)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function qr(e,n,a,o,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ki(e,n,a){n==="number"&&jr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pi(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Yt(e,n,a){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ze(a):""}function Hr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ee(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ze(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function _n(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Gr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Gr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Js(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&Ul(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Ul(e,d,n[d])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(e){return sf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,_i=null;function to(e){var n=jn(e);if(n&&(e=n.stateNode)){var a=e[pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(on(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[pe]||null;if(!f)throw Error(s(90));on(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Zs(o)}break t;case"textarea":Yt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&pi(e,!!a.multiple,n,!1)}}}var Gn=!1;function Pl(e,n,a){if(Gn)return e(n,a);Gn=!0;try{var o=e(n);return o}finally{if(Gn=!1,(yi!==null||_i!==null)&&(Iu(),yi&&(n=yi,e=_i,_i=yi=null,to(n),e)))for(n=0;n<e.length;n++)to(e[n])}}function Fr(e,n){var a=e.stateNode;if(a===null)return null;var o=a[pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Nn)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{En=!1}var Fn=null,$i=null,vi=null;function eo(){if(vi)return vi;var e,n=$i,a=n.length,o,f="value"in Fn?Fn.value:Fn.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===f[d-o];o++);return vi=f.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function no(){return!1}function Ie(e){function n(a,o,f,d,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:no,this.isPropagationStopped=no,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Ie(qt),Yr=E({},qt,{view:0,detail:0}),zl=Ie(Yr),La,Ua,Xn,Xr=E({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(La=e.screenX-Xn.screenX,Ua=e.screenY-Xn.screenY):Ua=La=0,Xn=e),La)},movementY:function(e){return"movementY"in e?e.movementY:Ua}}),Tn=Ie(Xr),kl=E({},Xr,{dataTransfer:0}),of=Ie(kl),Kr=E({},Yr,{relatedTarget:0}),Pa=Ie(Kr),io=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Ie(io),Bl=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ka=Ie(Bl),lf=E({},qt,{data:0}),ro=Ie(lf),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ao(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ql[e])?!!n[e]:!1}function Zr(){return ao}var Hl=E({},Yr,{key:function(e){if(e.key){var n=$r[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ba=Ie(Hl),Gl=E({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=Ie(Gl),Ei=E({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Fl=Ie(Ei),Ql=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yl=Ie(Ql),Xl=E({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ie(Xl),Je=E({},qt,{newState:0,oldState:0}),Kl=Ie(Je),$l=[9,13,27,32],Kn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var p=Nn&&"TextEvent"in window&&!u,_=Nn&&(!Kn||u&&8<u&&11>=u),b=" ",k=!1;function X(e,n){switch(e){case"keyup":return $l.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function Se(e,n){switch(e){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(k=!0,b);case"textInput":return e=n.data,e===b&&k?null:e;default:return null}}function Mt(e,n){if(Ot)return e==="compositionend"||!Kn&&X(e,n)?(e=eo(),vi=$i=Fn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ve[e.type]:n==="textarea"}function Ti(e,n,a,o){yi?_i?_i.push(o):_i=[o]:yi=o,n=Uu(n,"onChange"),0<n.length&&(a=new Ma("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Pe=null,$n=null;function oo(e){hy(e,0)}function Zl(e){var n=qn(e);if(Zs(n))return e}function Om(e,n){if(e==="change")return n}var Mm=!1;if(Nn){var uf;if(Nn){var cf="oninput"in document;if(!cf){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),cf=typeof Lm.oninput=="function"}uf=cf}else uf=!1;Mm=uf&&(!document.documentMode||9<document.documentMode)}function Um(){Pe&&(Pe.detachEvent("onpropertychange",Pm),$n=Pe=null)}function Pm(e){if(e.propertyName==="value"&&Zl($n)){var n=[];Ti(n,$n,e,vn(e)),Pl(oo,n)}}function qE(e,n,a){e==="focusin"?(Um(),Pe=n,$n=a,Pe.attachEvent("onpropertychange",Pm)):e==="focusout"&&Um()}function HE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl($n)}function GE(e,n){if(e==="click")return Zl(n)}function FE(e,n){if(e==="input"||e==="change")return Zl(n)}function QE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:QE;function lo(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Ir.call(n,f)||!ln(e[f],n[f]))return!1}return!0}function zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function km(e,n){var a=zm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=zm(a)}}function Bm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=jr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=jr(e.document)}return n}function ff(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YE=Nn&&"documentMode"in document&&11>=document.documentMode,qa=null,hf=null,uo=null,df=!1;function qm(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||qa==null||qa!==jr(o)||(o=qa,"selectionStart"in o&&ff(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),uo&&lo(uo,o)||(uo=o,o=Uu(hf,"onSelect"),0<o.length&&(n=new Ma("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=qa)))}function Jr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ha={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},mf={},Hm={};Nn&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Wr(e){if(mf[e])return mf[e];if(!Ha[e])return e;var n=Ha[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hm)return mf[e]=n[a];return e}var Gm=Wr("animationend"),Fm=Wr("animationiteration"),Qm=Wr("animationstart"),XE=Wr("transitionrun"),KE=Wr("transitionstart"),$E=Wr("transitioncancel"),Ym=Wr("transitionend"),Xm=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function On(e,n){Xm.set(e,n),Vn(n,[e])}var Km=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var a=Km.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Va(n)},Km.set(e,n),n)}return{value:e,source:n,stack:Va(n)}}var An=[],Ga=0,gf=0;function Jl(){for(var e=Ga,n=gf=Ga=0;n<e;){var a=An[n];An[n++]=null;var o=An[n];An[n++]=null;var f=An[n];An[n++]=null;var d=An[n];if(An[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}d!==0&&$m(a,f,d)}}function Wl(e,n,a,o){An[Ga++]=e,An[Ga++]=n,An[Ga++]=a,An[Ga++]=o,gf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function yf(e,n,a,o){return Wl(e,n,a,o),tu(e)}function Fa(e,n){return Wl(e,null,null,n),tu(e)}function $m(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-Ge(a),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=a|536870912),d):null}function tu(e){if(50<Lo)throw Lo=0,Ah=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Qa={};function ZE(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,a,o){return new ZE(e,n,a,o)}function _f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var a=e.alternate;return a===null?(a=un(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function eu(e,n,a,o,f,d){var v=0;if(o=e,typeof e=="function")_f(e)&&(v=1);else if(typeof e=="string")v=WT(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=un(31,a,n,f),e.elementType=w,e.lanes=d,e;case N:return ta(a.children,f,d,n);case F:v=8,f|=24;break;case U:return e=un(12,a,n,f|2),e.elementType=U,e.lanes=d,e;case lt:return e=un(13,a,n,f),e.elementType=lt,e.lanes=d,e;case gt:return e=un(19,a,n,f),e.elementType=gt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:case Q:v=10;break t;case K:v=9;break t;case rt:v=11;break t;case x:v=14;break t;case R:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=un(v,a,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function ta(e,n,a,o){return e=un(7,e,o,n),e.lanes=a,e}function vf(e,n,a){return e=un(6,e,null,n),e.lanes=a,e}function Ef(e,n,a){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ya=[],Xa=0,nu=null,iu=0,Sn=[],Rn=0,ea=null,Ai=1,Si="";function na(e,n){Ya[Xa++]=iu,Ya[Xa++]=nu,nu=e,iu=n}function Jm(e,n,a){Sn[Rn++]=Ai,Sn[Rn++]=Si,Sn[Rn++]=ea,ea=e;var o=Ai;e=Si;var f=32-Ge(o)-1;o&=~(1<<f),a+=1;var d=32-Ge(n)+f;if(30<d){var v=f-f%5;d=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Ai=1<<32-Ge(n)+f|a<<f|o,Si=d+e}else Ai=1<<d|a<<f|o,Si=e}function Tf(e){e.return!==null&&(na(e,1),Jm(e,1,0))}function bf(e){for(;e===nu;)nu=Ya[--Xa],Ya[Xa]=null,iu=Ya[--Xa],Ya[Xa]=null;for(;e===ea;)ea=Sn[--Rn],Sn[Rn]=null,Si=Sn[--Rn],Sn[Rn]=null,Ai=Sn[--Rn],Sn[Rn]=null}var We=null,ue=null,jt=!1,ia=null,Zn=!1,Af=Error(s(519));function ra(e){var n=Error(s(418,""));throw ho(bn(n,e)),Af}function Wm(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[pe]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Po.length;a++)Vt(Po[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),qr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Na(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Hr(n,o.value,o.defaultValue,o.children),Na(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||gy(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Pu),n=!0):n=!1,n||ra(e)}function tp(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:We=We.return}}function co(e){if(e!==We)return!1;if(!jt)return tp(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kh(e.type,e.memoizedProps)),a=!a),a&&ue&&ra(e),tp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ue=Ln(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ue=null}}else n===27?(n=ue,hr(e.type)?(e=Hh,Hh=null,ue=e):ue=n):ue=We?Ln(e.stateNode.nextSibling):null;return!0}function fo(){ue=We=null,jt=!1}function ep(){var e=ia;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ia=null),e}function ho(e){ia===null?ia=[e]:ia.push(e)}var Sf=it(null),aa=null,Ri=null;function Zi(e,n,a){at(Sf,n._currentValue),n._currentValue=a}function wi(e){e._currentValue=Sf.current,ut(Sf)}function Rf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function wf(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,e),o||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function mo(e,n,a,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;ln(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===xe.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ho):e=[Ho])}f=f.return}e!==null&&wf(n,e,a,o),n.flags|=262144}function ru(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){aa=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return np(aa,e)}function au(e,n){return aa===null&&sa(e),np(e,n)}function np(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ri===null){if(e===null)throw Error(s(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return a}var JE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},WE=r.unstable_scheduleCallback,tT=r.unstable_NormalPriority,we={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new JE,data:new Map,refCount:0}}function po(e){e.refCount--,e.refCount===0&&WE(tT,function(){e.controller.abort()})}var go=null,Df=0,Ka=0,$a=null;function eT(e,n){if(go===null){var a=go=[];Df=0,Ka=Ih(),$a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Df++,n.then(ip,ip),n}function ip(){if(--Df===0&&go!==null){$a!==null&&($a.status="fulfilled");var e=go;go=null,Ka=0,$a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var rp=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&eT(e,n),rp!==null&&rp(e,n)};var oa=it(null);function xf(){var e=oa.current;return e!==null?e:te.pooledCache}function su(e,n){n===null?at(oa,oa.current):at(oa,n.pool)}function ap(){var e=xf();return e===null?null:{parent:we._currentValue,pool:e}}var yo=Error(s(460)),sp=Error(s(474)),ou=Error(s(542)),If={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lu(){}function lp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(lu,lu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e;default:if(typeof n.status=="string")n.then(lu,lu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e}throw _o=n,yo}}var _o=null;function up(){if(_o===null)throw Error(s(459));var e=_o;return _o=null,e}function cp(e){if(e===yo||e===ou)throw Error(s(483))}var Ji=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=tu(e),$m(e,null,a),n}return Wl(e,o,n,a),tu(e)}function vo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Qs(e,a)}}function Of(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Mf=!1;function Eo(){if(Mf){var e=$a;if(e!==null)throw e}}function To(e,n,a,o){Mf=!1;var f=e.updateQueue;Ji=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,j=C.next;C.next=null,v===null?d=j:v.next=j,v=C;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=j:T.next=j,Z.lastBaseUpdate=C))}if(d!==null){var W=f.baseState;v=0,Z=j=C=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Lt&H)===H:(o&H)===H){H!==0&&H===Ka&&(Mf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,_t=T;H=n;var $t=a;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){W=Tt.call($t,W,H);break t}W=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,H=typeof Tt=="function"?Tt.call($t,W,H):Tt,H==null)break t;W=E({},W,H);break t;case 2:Ji=!0}}H=T.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(j=Z=G,C=W):Z=Z.next=G,v|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Z===null&&(C=W),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),lr|=v,e.lanes=v,e.memoizedState=W}}function fp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)fp(a[e],n)}var Za=it(null),uu=it(0);function dp(e,n){e=Oi,at(uu,e),at(Za,n),Oi=e|n.baseLanes}function Lf(){at(uu,Oi),at(Za,Za.current)}function Uf(){Oi=uu.current,ut(Za),ut(uu)}var er=0,wt=null,Xt=null,ye=null,cu=!1,Ja=!1,la=!1,fu=0,bo=0,Wa=null,iT=0;function he(){throw Error(s(321))}function Pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ln(e[a],n[a]))return!1;return!0}function zf(e,n,a,o,f,d){return er=d,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?$p:Zp,la=!1,d=a(o,f),la=!1,Ja&&(d=pp(n,a,o,f)),mp(e),d}function mp(e){$.H=yu;var n=Xt!==null&&Xt.next!==null;if(er=0,ye=Xt=wt=null,cu=!1,bo=0,Wa=null,n)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&ru(e)&&(Ne=!0))}function pp(e,n,a,o){wt=e;var f=0;do{if(Ja&&(Wa=null),bo=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,ye=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=cT,d=n(a,o)}while(Ja);return d}function rT(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Ao(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),n}function kf(){var e=fu!==0;return fu=0,e}function Bf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function jf(e){if(cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}cu=!1}er=0,ye=Xt=wt=null,Ja=!1,bo=fu=0,Wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?wt.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=ye===null?wt.memoizedState:ye.next;if(n!==null)ye=n,Xt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ye===null?wt.memoizedState=ye=e:ye=ye.next=e}return ye}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(e){var n=bo;return bo+=1,Wa===null&&(Wa=[]),e=lp(Wa,e,n),n=wt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?$p:Zp),e}function hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ao(e);if(e.$$typeof===Q)return Fe(e)}throw Error(s(438,String(e)))}function Hf(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qf(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=I;return n.index++,a}function Ci(e,n){return typeof n=="function"?n(e):n}function du(e){var n=_e();return Gf(n,Xt,e)}function Gf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=v=null,C=null,j=n,Z=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(Lt&W)===W:(er&W)===W){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===Ka&&(Z=!0);else if((er&H)===H){j=j.next,H===Ka&&(Z=!0);continue}else W={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=W,v=d):C=C.next=W,wt.lanes|=H,lr|=H;W=j.action,la&&a(d,W),d=j.hasEagerState?j.eagerState:a(d,W)}else H={lane:W,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,wt.lanes|=W,lr|=W;j=j.next}while(j!==null&&j!==n);if(C===null?v=d:C.next=T,!ln(d,e.memoizedState)&&(Ne=!0,Z&&(a=$a,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ff(e){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);ln(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function gp(e,n,a){var o=wt,f=_e(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!ln((Xt||f).memoizedState,a);v&&(f.memoizedState=a,Ne=!0),f=f.queue;var T=vp.bind(null,o,f,e);if(So(2048,8,T,[e]),f.getSnapshot!==n||v||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,ts(9,mu(),_p.bind(null,o,f,a,n),null),te===null)throw Error(s(349));d||(er&124)!==0||yp(o,n,a)}return a}function yp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=qf(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _p(e,n,a,o){n.value=a,n.getSnapshot=o,Ep(n)&&Tp(e)}function vp(e,n,a){return a(function(){Ep(n)&&Tp(e)})}function Ep(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ln(e,a)}catch{return!0}}function Tp(e){var n=Fa(e,2);n!==null&&mn(n,e,2)}function Qf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),la){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n}function bp(e,n,a,o){return e.baseState=a,Gf(e,Xt,typeof o=="function"?o:Ci)}function aT(e,n,a,o,f){if(gu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Ap(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Ap(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=$.T,v={};$.T=v;try{var T=a(f,o),C=$.S;C!==null&&C(v,T),Sp(e,n,T)}catch(j){Yf(e,n,j)}finally{$.T=d}}else try{d=a(f,o),Sp(e,n,d)}catch(j){Yf(e,n,j)}}function Sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rp(e,n,o)},function(o){return Yf(e,n,o)}):Rp(e,n,a)}function Rp(e,n,a){n.status="fulfilled",n.value=a,wp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ap(e,a)))}function Yf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wp(n),n=n.next;while(n!==o)}e.action=null}function wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cp(e,n){return n}function Dp(e,n){if(jt){var a=te.formState;if(a!==null){t:{var o=wt;if(jt){if(ue){e:{for(var f=ue,d=Zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Ln(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ue=Ln(f.nextSibling),o=f.data==="F!";break t}}ra(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},a.queue=o,a=Yp.bind(null,wt,o),o.dispatch=a,o=Qf(!1),d=Jf.bind(null,wt,!1,o.queue),o=en(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=aT.bind(null,wt,f,d,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function xp(e){var n=_e();return Ip(n,Xt,e)}function Ip(e,n,a){if(n=Gf(e,n,Cp)[0],e=du(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ao(n)}catch(v){throw v===yo?ou:v}else o=n;n=_e();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,ts(9,mu(),sT.bind(null,f,a),null)),[o,d,e]}function sT(e,n){e.action=n}function Vp(e){var n=_e(),a=Xt;if(a!==null)return Ip(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ts(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=qf(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function mu(){return{destroy:void 0,resource:void 0}}function Np(){return _e().memoizedState}function pu(e,n,a,o){var f=en();o=o===void 0?null:o,wt.flags|=e,f.memoizedState=ts(1|n,mu(),a,o)}function So(e,n,a,o){var f=_e();o=o===void 0?null:o;var d=f.memoizedState.inst;Xt!==null&&o!==null&&Pf(o,Xt.memoizedState.deps)?f.memoizedState=ts(n,d,a,o):(wt.flags|=e,f.memoizedState=ts(1|n,d,a,o))}function Op(e,n){pu(8390656,8,e,n)}function Mp(e,n){So(2048,8,e,n)}function Lp(e,n){return So(4,2,e,n)}function Up(e,n){return So(4,4,e,n)}function Pp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zp(e,n,a){a=a!=null?a.concat([e]):null,So(4,4,Pp.bind(null,n,e),a)}function Xf(){}function kp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Bp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Pf(n,o[1]))return o[0];if(o=e(),la){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,n],o}function Kf(e,n,a){return a===void 0||(er&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Hg(),wt.lanes|=e,lr|=e,a)}function jp(e,n,a,o){return ln(a,n)?a:Za.current!==null?(e=Kf(e,a,o),ln(e,n)||(Ne=!0),e):(er&42)===0?(Ne=!0,e.memoizedState=a):(e=Hg(),wt.lanes|=e,lr|=e,n)}function qp(e,n,a,o,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,Jf(e,!1,n,a);try{var C=f(),j=$.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=nT(C,o);Ro(e,n,Z,dn(e))}else Ro(e,n,o,dn(e))}catch(W){Ro(e,n,{then:function(){},status:"rejected",reason:W},dn())}finally{ot.p=d,$.T=v}}function oT(){}function $f(e,n,a,o){if(e.tag!==5)throw Error(s(476));var f=Hp(e).queue;qp(e,f,n,dt,a===null?oT:function(){return Gp(e),a(o)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gp(e){var n=Hp(e).next.queue;Ro(e,n,{},dn())}function Zf(){return Fe(Ho)}function Fp(){return _e().memoizedState}function Qp(){return _e().memoizedState}function lT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();e=Wi(a);var o=tr(n,e,a);o!==null&&(mn(o,n,a),vo(o,n,a)),n={cache:Cf()},e.payload=n;return}n=n.return}}function uT(e,n,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gu(e)?Xp(n,a):(a=yf(e,n,a,o),a!==null&&(mn(a,e,o),Kp(a,n,o)))}function Yp(e,n,a){var o=dn();Ro(e,n,a,o)}function Ro(e,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(e))Xp(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,ln(T,v))return Wl(e,n,f,0),te===null&&Jl(),!1}catch{}finally{}if(a=yf(e,n,f,o),a!==null)return mn(a,e,o),Kp(a,n,o),!0}return!1}function Jf(e,n,a,o){if(o={lane:2,revertLane:Ih(),action:o,hasEagerState:!1,eagerState:null,next:null},gu(e)){if(n)throw Error(s(479))}else n=yf(e,a,o,2),n!==null&&mn(n,e,2)}function gu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Xp(e,n){Ja=cu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Kp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Qs(e,a)}}var yu={readContext:Fe,use:hu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},$p={readContext:Fe,use:hu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Op,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,pu(4194308,4,Pp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return pu(4194308,4,e,n)},useInsertionEffect:function(e,n){pu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(la){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var f=a(n);if(la){sn(!0);try{a(n)}finally{sn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=uT.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Qf(e);var n=e.queue,a=Yp.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(e,n){var a=en();return Kf(a,e,n)},useTransition:function(){var e=Qf(!1);return e=qp.bind(null,wt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=wt,f=en();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(Lt&124)!==0||yp(o,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Op(vp.bind(null,o,d,e),[e]),o.flags|=2048,ts(9,mu(),_p.bind(null,o,d,a,n),null),a},useId:function(){var e=en(),n=te.identifierPrefix;if(jt){var a=Si,o=Ai;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=fu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=iT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Zf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Jf.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Hf,useCacheRefresh:function(){return en().memoizedState=lT.bind(null,wt)}},Zp={readContext:Fe,use:hu,useCallback:kp,useContext:Fe,useEffect:Mp,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Bp,useReducer:du,useRef:Np,useState:function(){return du(Ci)},useDebugValue:Xf,useDeferredValue:function(e,n){var a=_e();return jp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=du(Ci)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ao(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Zf,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var a=_e();return bp(a,Xt,e,n)},useMemoCache:Hf,useCacheRefresh:Qp},cT={readContext:Fe,use:hu,useCallback:kp,useContext:Fe,useEffect:Mp,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Bp,useReducer:Ff,useRef:Np,useState:function(){return Ff(Ci)},useDebugValue:Xf,useDeferredValue:function(e,n){var a=_e();return Xt===null?Kf(a,e,n):jp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=Ff(Ci)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Ao(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Zf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var a=_e();return Xt!==null?bp(a,Xt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:Qp},es=null,wo=0;function _u(e){var n=wo;return wo+=1,es===null&&(es=[]),lp(es,e,n)}function Co(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vu(e,n){throw n.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){var n=e._init;return n(e._payload)}function Wp(e){function n(z,O){if(e){var B=z.deletions;B===null?(z.deletions=[O],z.flags|=16):B.push(O)}}function a(z,O){if(!e)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function o(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function f(z,O){return z=bi(z,O),z.index=0,z.sibling=null,z}function d(z,O,B){return z.index=B,e?(B=z.alternate,B!==null?(B=B.index,B<O?(z.flags|=67108866,O):B):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function v(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,B,J){return O===null||O.tag!==6?(O=vf(B,z.mode,J),O.return=z,O):(O=f(O,B),O.return=z,O)}function C(z,O,B,J){var ht=B.type;return ht===N?Z(z,O,B.props.children,J,B.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Jp(ht)===O.type)?(O=f(O,B.props),Co(O,B),O.return=z,O):(O=eu(B.type,B.key,B.props,null,z.mode,J),Co(O,B),O.return=z,O)}function j(z,O,B,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Ef(B,z.mode,J),O.return=z,O):(O=f(O,B.children||[]),O.return=z,O)}function Z(z,O,B,J,ht){return O===null||O.tag!==7?(O=ta(B,z.mode,J,ht),O.return=z,O):(O=f(O,B),O.return=z,O)}function W(z,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vf(""+O,z.mode,B),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return B=eu(O.type,O.key,O.props,null,z.mode,B),Co(B,O),B.return=z,B;case L:return O=Ef(O,z.mode,B),O.return=z,O;case R:var J=O._init;return O=J(O._payload),W(z,O,B)}if(ee(O)||P(O))return O=ta(O,z.mode,B,null),O.return=z,O;if(typeof O.then=="function")return W(z,_u(O),B);if(O.$$typeof===Q)return W(z,au(z,O),B);vu(z,O)}return null}function H(z,O,B,J){var ht=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:T(z,O,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ht?C(z,O,B,J):null;case L:return B.key===ht?j(z,O,B,J):null;case R:return ht=B._init,B=ht(B._payload),H(z,O,B,J)}if(ee(B)||P(B))return ht!==null?null:Z(z,O,B,J,null);if(typeof B.then=="function")return H(z,O,_u(B),J);if(B.$$typeof===Q)return H(z,O,au(z,B),J);vu(z,B)}return null}function G(z,O,B,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(B)||null,T(O,z,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return z=z.get(J.key===null?B:J.key)||null,C(O,z,J,ht);case L:return z=z.get(J.key===null?B:J.key)||null,j(O,z,J,ht);case R:var xt=J._init;return J=xt(J._payload),G(z,O,B,J,ht)}if(ee(J)||P(J))return z=z.get(B)||null,Z(O,z,J,ht,null);if(typeof J.then=="function")return G(z,O,B,_u(J),ht);if(J.$$typeof===Q)return G(z,O,B,au(O,J),ht);vu(O,J)}return null}function Tt(z,O,B,J){for(var ht=null,xt=null,mt=O,vt=O=0,Me=null;mt!==null&&vt<B.length;vt++){mt.index>vt?(Me=mt,mt=null):Me=mt.sibling;var zt=H(z,mt,B[vt],J);if(zt===null){mt===null&&(mt=Me);break}e&&mt&&zt.alternate===null&&n(z,mt),O=d(zt,O,vt),xt===null?ht=zt:xt.sibling=zt,xt=zt,mt=Me}if(vt===B.length)return a(z,mt),jt&&na(z,vt),ht;if(mt===null){for(;vt<B.length;vt++)mt=W(z,B[vt],J),mt!==null&&(O=d(mt,O,vt),xt===null?ht=mt:xt.sibling=mt,xt=mt);return jt&&na(z,vt),ht}for(mt=o(mt);vt<B.length;vt++)Me=G(mt,z,vt,B[vt],J),Me!==null&&(e&&Me.alternate!==null&&mt.delete(Me.key===null?vt:Me.key),O=d(Me,O,vt),xt===null?ht=Me:xt.sibling=Me,xt=Me);return e&&mt.forEach(function(yr){return n(z,yr)}),jt&&na(z,vt),ht}function _t(z,O,B,J){if(B==null)throw Error(s(151));for(var ht=null,xt=null,mt=O,vt=O=0,Me=null,zt=B.next();mt!==null&&!zt.done;vt++,zt=B.next()){mt.index>vt?(Me=mt,mt=null):Me=mt.sibling;var yr=H(z,mt,zt.value,J);if(yr===null){mt===null&&(mt=Me);break}e&&mt&&yr.alternate===null&&n(z,mt),O=d(yr,O,vt),xt===null?ht=yr:xt.sibling=yr,xt=yr,mt=Me}if(zt.done)return a(z,mt),jt&&na(z,vt),ht;if(mt===null){for(;!zt.done;vt++,zt=B.next())zt=W(z,zt.value,J),zt!==null&&(O=d(zt,O,vt),xt===null?ht=zt:xt.sibling=zt,xt=zt);return jt&&na(z,vt),ht}for(mt=o(mt);!zt.done;vt++,zt=B.next())zt=G(mt,z,vt,zt.value,J),zt!==null&&(e&&zt.alternate!==null&&mt.delete(zt.key===null?vt:zt.key),O=d(zt,O,vt),xt===null?ht=zt:xt.sibling=zt,xt=zt);return e&&mt.forEach(function(f1){return n(z,f1)}),jt&&na(z,vt),ht}function $t(z,O,B,J){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:t:{for(var ht=B.key;O!==null;){if(O.key===ht){if(ht=B.type,ht===N){if(O.tag===7){a(z,O.sibling),J=f(O,B.props.children),J.return=z,z=J;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&Jp(ht)===O.type){a(z,O.sibling),J=f(O,B.props),Co(J,B),J.return=z,z=J;break t}a(z,O);break}else n(z,O);O=O.sibling}B.type===N?(J=ta(B.props.children,z.mode,J,B.key),J.return=z,z=J):(J=eu(B.type,B.key,B.props,null,z.mode,J),Co(J,B),J.return=z,z=J)}return v(z);case L:t:{for(ht=B.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(z,O.sibling),J=f(O,B.children||[]),J.return=z,z=J;break t}else{a(z,O);break}else n(z,O);O=O.sibling}J=Ef(B,z.mode,J),J.return=z,z=J}return v(z);case R:return ht=B._init,B=ht(B._payload),$t(z,O,B,J)}if(ee(B))return Tt(z,O,B,J);if(P(B)){if(ht=P(B),typeof ht!="function")throw Error(s(150));return B=ht.call(B),_t(z,O,B,J)}if(typeof B.then=="function")return $t(z,O,_u(B),J);if(B.$$typeof===Q)return $t(z,O,au(z,B),J);vu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(z,O.sibling),J=f(O,B),J.return=z,z=J):(a(z,O),J=vf(B,z.mode,J),J.return=z,z=J),v(z)):a(z,O)}return function(z,O,B,J){try{wo=0;var ht=$t(z,O,B,J);return es=null,ht}catch(mt){if(mt===yo||mt===ou)throw mt;var xt=un(29,mt,null,z.mode);return xt.lanes=J,xt.return=z,xt}finally{}}}var ns=Wp(!0),tg=Wp(!1),wn=it(null),Jn=null;function nr(e){var n=e.alternate;at(Ce,Ce.current&1),at(wn,e),Jn===null&&(n===null||Za.current!==null||n.memoizedState!==null)&&(Jn=e)}function eg(e){if(e.tag===22){if(at(Ce,Ce.current),at(wn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else ir()}function ir(){at(Ce,Ce.current),at(wn,wn.current)}function Di(e){ut(wn),Jn===e&&(Jn=null),ut(Ce)}var Ce=it(0);function Eu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Wf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var th={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=dn(),f=Wi(o);f.payload=n,a!=null&&(f.callback=a),n=tr(e,f,o),n!==null&&(mn(n,e,o),vo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=dn(),f=Wi(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=tr(e,f,o),n!==null&&(mn(n,e,o),vo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=dn(),o=Wi(a);o.tag=2,n!=null&&(o.callback=n),n=tr(e,o,a),n!==null&&(mn(n,e,a),vo(n,e,a))}};function ng(e,n,a,o,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!lo(a,o)||!lo(f,d):!0}function ig(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&th.enqueueReplaceState(n,n.state,null)}function ua(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rg(e){Tu(e)}function ag(e){console.error(e)}function sg(e){Tu(e)}function bu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function og(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function eh(e,n,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(e,n)},a}function lg(e){return e=Wi(e),e.tag=3,e}function ug(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){og(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){og(n,a,o),typeof f!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function fT(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&mo(n,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Jn===null?Rh():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===If?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ch(e,o,f)),!1;case 22:return a.flags|=65536,o===If?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ch(e,o,f)),!1}throw Error(s(435,a.tag))}return Ch(e,o,f),Rh(),!1}if(jt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Af&&(e=Error(s(422),{cause:o}),ho(bn(e,a)))):(o!==Af&&(n=Error(s(423),{cause:o}),ho(bn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=bn(o,a),f=eh(e.stateNode,o,f),Of(e,f),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:o});if(d=bn(d,a),Mo===null?Mo=[d]:Mo.push(d),ce!==4&&(ce=2),n===null)return!0;o=bn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=eh(a.stateNode,o,e),Of(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ur===null||!ur.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lg(f),ug(f,e,a,o),Of(a,f),!1}a=a.return}while(a!==null);return!1}var cg=Error(s(461)),Ne=!1;function ze(e,n,a,o){n.child=e===null?tg(n,null,a,o):ns(n,e.child,a,o)}function fg(e,n,a,o,f){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return sa(n),o=zf(e,n,a,v,d,f),T=kf(),e!==null&&!Ne?(Bf(e,n,f),xi(e,n,f)):(jt&&T&&Tf(n),n.flags|=1,ze(e,n,o,f),n.child)}function hg(e,n,a,o,f){if(e===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,dg(e,n,d,o,f)):(e=eu(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!uh(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:lo,a(v,o)&&e.ref===n.ref)return xi(e,n,f)}return n.flags|=1,e=bi(d,o),e.ref=n.ref,e.return=n,n.child=e}function dg(e,n,a,o,f){if(e!==null){var d=e.memoizedProps;if(lo(d,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=d,uh(e,f))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,xi(e,n,f)}return nh(e,n,a,o,f)}function mg(e,n,a){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return pg(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&su(n,d!==null?d.cachePool:null),d!==null?dp(n,d):Lf(),eg(n);else return n.lanes=n.childLanes=536870912,pg(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(su(n,d.cachePool),dp(n,d),ir(),n.memoizedState=null):(e!==null&&su(n,null),Lf(),ir());return ze(e,n,f,a),n.child}function pg(e,n,a,o){var f=xf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&su(n,null),Lf(),eg(n),e!==null&&mo(e,n,o,!0),null}function Au(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function nh(e,n,a,o,f){return sa(n),a=zf(e,n,a,o,void 0,f),o=kf(),e!==null&&!Ne?(Bf(e,n,f),xi(e,n,f)):(jt&&o&&Tf(n),n.flags|=1,ze(e,n,a,f),n.child)}function gg(e,n,a,o,f,d){return sa(n),n.updateQueue=null,a=pp(n,o,a,f),mp(e),o=kf(),e!==null&&!Ne?(Bf(e,n,d),xi(e,n,d)):(jt&&o&&Tf(n),n.flags|=1,ze(e,n,a,d),n.child)}function yg(e,n,a,o,f){if(sa(n),n.stateNode===null){var d=Qa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=th,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Vf(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):Qa,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wf(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&th.enqueueReplaceState(d,d.state,null),To(n,o,d,f),Eo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=ua(a,T);d.props=C;var j=d.context,Z=a.contextType;v=Qa,typeof Z=="object"&&Z!==null&&(v=Fe(Z));var W=a.getDerivedStateFromProps;Z=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&ig(n,d,o,v),Ji=!1;var H=n.memoizedState;d.state=H,To(n,o,d,f),Eo(),j=n.memoizedState,T||H!==j||Ji?(typeof W=="function"&&(Wf(n,a,W,o),j=n.memoizedState),(C=Ji||ng(n,a,C,o,H,j,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),d.props=o,d.state=j,d.context=v,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Nf(e,n),v=n.memoizedProps,Z=ua(a,v),d.props=Z,W=n.pendingProps,H=d.context,j=a.contextType,C=Qa,typeof j=="object"&&j!==null&&(C=Fe(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==C)&&ig(n,d,o,C),Ji=!1,H=n.memoizedState,d.state=H,To(n,o,d,f),Eo();var G=n.memoizedState;v!==W||H!==G||Ji||e!==null&&e.dependencies!==null&&ru(e.dependencies)?(typeof T=="function"&&(Wf(n,a,T,o),G=n.memoizedState),(Z=Ji||ng(n,a,Z,o,H,G,C)||e!==null&&e.dependencies!==null&&ru(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=C,o=Z):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Au(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=ns(n,e.child,null,f),n.child=ns(n,null,a,f)):ze(e,n,a,f),n.memoizedState=d.state,e=n.child):e=xi(e,n,f),e}function _g(e,n,a,o){return fo(),n.flags|=256,ze(e,n,a,o),n.child}var ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(e){return{baseLanes:e,cachePool:ap()}}function ah(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function vg(e,n,a){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(f?nr(n):ir(),jt){var T=ue,C;if(C=T){t:{for(C=T,T=Zn;C.nodeType!==8;){if(!T){T=null;break t}if(C=Ln(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ea!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},C=un(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,We=n,ue=null,C=!0):C=!1}C||ra(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return qh(T)?n.lanes=32:n.lanes=536870912,null;Di(n)}return T=o.children,o=o.fallback,f?(ir(),f=n.mode,T=Su({mode:"hidden",children:T},f),o=ta(o,f,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,f=n.child,f.memoizedState=rh(a),f.childLanes=ah(e,v,a),n.memoizedState=ih,o):(nr(n),sh(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(nr(n),n.flags&=-257,n=oh(e,n,a)):n.memoizedState!==null?(ir(),n.child=e.child,n.flags|=128,n=null):(ir(),f=o.fallback,T=n.mode,o=Su({mode:"visible",children:o.children},T),f=ta(f,T,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,ns(n,e.child,null,a),o=n.child,o.memoizedState=rh(a),o.childLanes=ah(e,v,a),n.memoizedState=ih,n=f);else if(nr(n),qh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(s(419)),o.stack="",o.digest=v,ho({value:o,source:null,stack:null}),n=oh(e,n,a)}else if(Ne||mo(e,n,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=te,v!==null&&(o=a&-a,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,Fa(e,o),mn(v,e,o),cg;T.data==="$?"||Rh(),n=oh(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ue=Ln(T.nextSibling),We=n,jt=!0,ia=null,Zn=!1,e!==null&&(Sn[Rn++]=Ai,Sn[Rn++]=Si,Sn[Rn++]=ea,Ai=e.id,Si=e.overflow,ea=n),n=sh(n,o.children),n.flags|=4096);return n}return f?(ir(),f=o.fallback,T=n.mode,C=e.child,j=C.sibling,o=bi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?f=bi(j,f):(f=ta(f,T,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,T=e.child.memoizedState,T===null?T=rh(a):(C=T.cachePool,C!==null?(j=we._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=ap(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=ah(e,v,a),n.memoizedState=ih,o):(nr(n),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function sh(e,n){return n=Su({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Su(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function oh(e,n,a){return ns(n,e.child,null,a),e=sh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Eg(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Rf(e.return,n,a)}function lh(e,n,a,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=f)}function Tg(e,n,a){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(ze(e,n,o.children,a),o=Ce.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eg(e,a,n);else if(e.tag===19)Eg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(at(Ce,o),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Eu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),lh(n,!1,f,a,d);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Eu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}lh(n,!0,a,null,d);break;case"together":lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(mo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function uh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ru(e)))}function hT(e,n,a){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Zi(n,we,e.memoizedState.cache),fo();break;case 27:case 5:Hi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?vg(e,n,a):(nr(n),e=xi(e,n,a),e!==null?e.sibling:null);nr(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(mo(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return Tg(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Ce,Ce.current),o)break;return null;case 22:case 23:return n.lanes=0,mg(e,n,a);case 24:Zi(n,we,e.memoizedState.cache)}return xi(e,n,a)}function bg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!uh(e,a)&&(n.flags&128)===0)return Ne=!1,hT(e,n,a);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&Jm(n,iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")_f(o)?(e=ua(o,e),n.tag=1,n=yg(null,n,o,e,a)):(n.tag=0,n=nh(null,n,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===rt){n.tag=11,n=fg(null,n,o,e,a);break t}else if(f===x){n.tag=14,n=hg(null,n,o,e,a);break t}}throw n=be(o)||o,Error(s(306,n,""))}}return n;case 0:return nh(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=ua(o,n.pendingProps),yg(e,n,o,f,a);case 3:t:{if(Wt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Nf(e,n),To(n,o,null,a);var v=n.memoizedState;if(o=v.cache,Zi(n,we,o),o!==d.cache&&wf(n,[we],a,!0),Eo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=_g(e,n,o,a);break t}else if(o!==f){f=bn(Error(s(424)),n),ho(f),n=_g(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Ln(e.firstChild),We=n,jt=!0,ia=null,Zn=!0,a=tg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fo(),o===f){n=xi(e,n,a);break t}ze(e,n,o,a)}n=n.child}return n;case 26:return Au(e,n),e===null?(a=wy(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=zu(bt.current).createElement(a),o[Ae]=n,o[pe]=e,Be(o,a,e),fe(o),n.stateNode=o):n.memoizedState=wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&jt&&(o=n.stateNode=Ay(n.type,n.pendingProps,bt.current),We=n,Zn=!0,f=ue,hr(n.type)?(Hh=f,ue=Ln(o.firstChild)):ue=f),ze(e,n,n.pendingProps.children,a),Au(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((f=o=ue)&&(o=BT(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,We=n,ue=Ln(o.firstChild),Zn=!1,f=!0):f=!1),f||ra(n)),Hi(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,kh(f,d)?o=null:v!==null&&kh(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=zf(e,n,rT,null,null,a),Ho._currentValue=f),Au(e,n),ze(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=ue)&&(a=jT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,We=n,ue=null,e=!0):e=!1),e||ra(n)),null;case 13:return vg(e,n,a);case 4:return Wt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ns(n,null,o,a):ze(e,n,o,a),n.child;case 11:return fg(e,n,n.type,n.pendingProps,a);case 7:return ze(e,n,n.pendingProps,a),n.child;case 8:return ze(e,n,n.pendingProps.children,a),n.child;case 12:return ze(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Zi(n,n.type,o.value),ze(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,sa(n),f=Fe(f),o=o(f),n.flags|=1,ze(e,n,o,a),n.child;case 14:return hg(e,n,n.type,n.pendingProps,a);case 15:return dg(e,n,n.type,n.pendingProps,a);case 19:return Tg(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Su(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bi(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return mg(e,n,a);case 24:return sa(n),o=Fe(we),e===null?(f=xf(),f===null&&(f=te,d=Cf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:o,cache:f},Vf(n),Zi(n,we,f)):((e.lanes&a)!==0&&(Nf(e,n),To(n,null,null,a),Eo()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Zi(n,we,o)):(o=d.cache,Zi(n,we,o),o!==f.cache&&wf(n,[we],a,!0))),ze(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(e){e.flags|=4}function Ag(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vy(n)){if(n=wn.current,n!==null&&((Lt&4194048)===Lt?Jn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==Jn))throw _o=If,sp;e.flags|=8192}}function Ru(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Gs():536870912,e.lanes|=n,ss|=n)}function Do(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function dT(e,n,a){var o=n.pendingProps;switch(bf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wi(we),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(co(n)?Ii(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ep())),ae(n),null;case 26:return a=n.memoizedState,e===null?(Ii(n),a!==null?(ae(n),Ag(n,a)):(ae(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ii(n),ae(n),Ag(n,a)):(ae(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ii(n),ae(n),n.flags&=-16777217),null;case 27:ui(n),a=bt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ii(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ae(n),null}e=yt.current,co(n)?Wm(n):(e=Ay(f,o,a),n.stateNode=e,Ii(n))}return ae(n),null;case 5:if(ui(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ii(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(e=yt.current,co(n))Wm(n);else{switch(f=zu(bt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[Ae]=n,e[pe]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(Be(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ii(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ii(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=bt.current,co(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=We,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gy(e.nodeValue,a)),e||ra(n)}else e=zu(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=co(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),f=!1}else f=ep(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Ru(n,n.updateQueue),ae(n),null;case 4:return kn(),e===null&&Mh(n.stateNode.containerInfo),ae(n),null;case 10:return wi(n.type),ae(n),null;case 19:if(ut(Ce),f=n.memoizedState,f===null)return ae(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Do(f,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Eu(e),d!==null){for(n.flags|=128,Do(f,!1),e=d.updateQueue,n.updateQueue=e,Ru(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Zm(a,e),a=a.sibling;return at(Ce,Ce.current&1|2),n.child}e=e.sibling}f.tail!==null&&gn()>Du&&(n.flags|=128,o=!0,Do(f,!1),n.lanes=4194304)}else{if(!o)if(e=Eu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Ru(n,e),Do(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!jt)return ae(n),null}else 2*gn()-f.renderingStartTime>Du&&a!==536870912&&(n.flags|=128,o=!0,Do(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=gn(),n.sibling=null,e=Ce.current,at(Ce,o?e&1|2:e&1),n):(ae(n),null);case 22:case 23:return Di(n),Uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&Ru(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&ut(oa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(we),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function mT(e,n){switch(bf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(we),kn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ut(Ce),null;case 4:return kn(),null;case 10:return wi(n.type),null;case 22:case 23:return Di(n),Uf(),e!==null&&ut(oa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(we),null;case 25:return null;default:return null}}function Sg(e,n){switch(bf(n),n.tag){case 3:wi(we),kn();break;case 26:case 27:case 5:ui(n);break;case 4:kn();break;case 13:Di(n);break;case 19:ut(Ce);break;case 10:wi(n.type);break;case 22:case 23:Di(n),Uf(),e!==null&&ut(oa);break;case 24:wi(we)}}function xo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==f)}}catch(T){Zt(n,n.return,T)}}function rr(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var C=a,j=T;try{j()}catch(Z){Zt(f,C,Z)}}}o=o.next}while(o!==d)}}catch(Z){Zt(n,n.return,Z)}}function Rg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hp(n,a)}catch(o){Zt(e,e.return,o)}}}function wg(e,n,a){a.props=ua(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,n,o)}}function Io(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(f){Zt(e,n,f)}}function Wn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Zt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(e,n,f)}else a.current=null}function Cg(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Zt(e,e.return,f)}}function ch(e,n,a){try{var o=e.stateNode;LT(o,e.type,a,n),o[pe]=n}catch(f){Zt(e,e.return,f)}}function Dg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hr(e.type)||e.tag===4}function fh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hh(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Pu));else if(o!==4&&(o===27&&hr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(hh(e,n,a),e=e.sibling;e!==null;)hh(e,n,a),e=e.sibling}function wu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&hr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(wu(e,n,a),e=e.sibling;e!==null;)wu(e,n,a),e=e.sibling}function xg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Be(n,o,a),n[Ae]=e,n[pe]=a}catch(d){Zt(e,e.return,d)}}var Vi=!1,de=!1,dh=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function pT(e,n){if(e=e.containerInfo,Ph=Gu,e=jm(e),ff(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,j=0,Z=0,W=e,H=null;e:for(;;){for(var G;W!==a||f!==0&&W.nodeType!==3||(T=v+f),W!==d||o!==0&&W.nodeType!==3||(C=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(G=W.firstChild)!==null;)H=W,W=G;for(;;){if(W===e)break e;if(H===a&&++j===f&&(T=v),H===d&&++Z===o&&(C=v),(G=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=G}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(zh={focusedElem:e,selectionRange:a},Gu=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Tt=ua(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Tt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Zt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)jh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function Vg(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ar(e,a),o&4&&xo(5,a);break;case 1:if(ar(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var f=ua(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}o&64&&Rg(a),o&512&&Io(a,a.return);break;case 3:if(ar(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hp(e,n)}catch(v){Zt(a,a.return,v)}}break;case 27:n===null&&o&4&&xg(a);case 26:case 5:ar(e,a),n===null&&o&4&&Cg(a),o&512&&Io(a,a.return);break;case 12:ar(e,a);break;case 13:ar(e,a),o&4&&Mg(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ST.bind(null,a),qT(e,a))));break;case 22:if(o=a.memoizedState!==null||Vi,!o){n=n!==null&&n.memoizedState!==null||de,f=Vi;var d=de;Vi=o,(de=n)&&!d?sr(e,a,(a.subtreeFlags&8772)!==0):ar(e,a),Vi=f,de=d}break;case 30:break;default:ar(e,a)}}function Ng(e){var n=e.alternate;n!==null&&(e.alternate=null,Ng(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,nn=!1;function Ni(e,n,a){for(a=a.child;a!==null;)Og(e,n,a),a=a.sibling}function Og(e,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||Wn(a,n),Ni(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||Wn(a,n);var o=re,f=nn;hr(a.type)&&(re=a.stateNode,nn=!1),Ni(e,n,a),ko(a.stateNode),re=o,nn=f;break;case 5:de||Wn(a,n);case 6:if(o=re,f=nn,re=null,Ni(e,n,a),re=o,nn=f,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){Zt(a,n,d)}else try{re.removeChild(a.stateNode)}catch(d){Zt(a,n,d)}break;case 18:re!==null&&(nn?(e=re,Ty(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Yo(e)):Ty(re,a.stateNode));break;case 4:o=re,f=nn,re=a.stateNode.containerInfo,nn=!0,Ni(e,n,a),re=o,nn=f;break;case 0:case 11:case 14:case 15:de||rr(2,a,n),de||rr(4,a,n),Ni(e,n,a);break;case 1:de||(Wn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wg(a,n,o)),Ni(e,n,a);break;case 21:Ni(e,n,a);break;case 22:de=(o=de)||a.memoizedState!==null,Ni(e,n,a),de=o;break;default:Ni(e,n,a)}}function Mg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yo(e)}catch(a){Zt(n,n.return,a)}}function gT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ig),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ig),n;default:throw Error(s(435,e.tag))}}function mh(e,n){var a=gT(e);n.forEach(function(o){var f=RT.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function cn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(hr(T.type)){re=T.stateNode,nn=!1;break t}break;case 5:re=T.stateNode,nn=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(re===null)throw Error(s(160));Og(d,v,f),re=null,nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,e),n=n.sibling}var Mn=null;function Lg(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),fn(e),o&4&&(rr(3,e,e.return),xo(3,e),rr(5,e,e.return));break;case 1:cn(n,e),fn(e),o&512&&(de||a===null||Wn(a,a.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Mn;if(cn(n,e),fn(e),o&512&&(de||a===null||Wn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[zr]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Be(d,o,a),d[Ae]=e,fe(d),o=d;break t;case"link":var v=xy("link","href",f).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(o),Be(d,o,a),f.head.appendChild(d);break;case"meta":if(v=xy("meta","content",f).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(o),Be(d,o,a),f.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ae]=e,fe(d),o=d}e.stateNode=o}else Iy(f,e.type,e.stateNode);else e.stateNode=Dy(f,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Iy(f,e.type,e.stateNode):Dy(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ch(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),fn(e),o&512&&(de||a===null||Wn(a,a.return)),a!==null&&o&4&&ch(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),fn(e),o&512&&(de||a===null||Wn(a,a.return)),e.flags&32){f=e.stateNode;try{_n(f,"")}catch(G){Zt(e,e.return,G)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,ch(e,f,a!==null?a.memoizedProps:f)),o&1024&&(dh=!0);break;case 6:if(cn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(G){Zt(e,e.return,G)}}break;case 3:if(ju=null,f=Mn,Mn=ku(n.containerInfo),cn(n,e),Mn=f,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(n.containerInfo)}catch(G){Zt(e,e.return,G)}dh&&(dh=!1,Ug(e));break;case 4:o=Mn,Mn=ku(e.stateNode.containerInfo),cn(n,e),fn(e),Mn=o;break;case 12:cn(n,e),fn(e);break;case 13:cn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eh=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mh(e,o)));break;case 22:f=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Vi,Z=de;if(Vi=j||f,de=Z||C,cn(n,e),de=Z,Vi=j,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||C||Vi||de||ca(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Zt(C,C.return,G)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(G){Zt(C,C.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mh(e,a))));break;case 19:cn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mh(e,o)));break;case 30:break;case 21:break;default:cn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Dg(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=fh(e);wu(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=fh(e);wu(e,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=fh(e);hh(e,j,C);break;default:throw Error(s(161))}}catch(Z){Zt(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ar(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vg(e,n.alternate,n),n=n.sibling}function ca(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ca(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wg(n,n.return,a),ca(n);break;case 27:ko(n.stateNode);case 26:case 5:Wn(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}e=e.sibling}}function sr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:sr(f,d,a),xo(4,d);break;case 1:if(sr(f,d,a),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Zt(o,o.return,j)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)fp(C[f],T)}catch(j){Zt(o,o.return,j)}}a&&v&64&&Rg(d),Io(d,d.return);break;case 27:xg(d);case 26:case 5:sr(f,d,a),a&&o===null&&v&4&&Cg(d),Io(d,d.return);break;case 12:sr(f,d,a);break;case 13:sr(f,d,a),a&&v&4&&Mg(f,d);break;case 22:d.memoizedState===null&&sr(f,d,a),Io(d,d.return);break;case 30:break;default:sr(f,d,a)}n=n.sibling}}function ph(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&po(a))}function gh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&po(e))}function ti(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pg(e,n,a,o),n=n.sibling}function Pg(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,a,o),f&2048&&xo(9,n);break;case 1:ti(e,n,a,o);break;case 3:ti(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&po(e)));break;case 12:if(f&2048){ti(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Zt(n,n.return,C)}}else ti(e,n,a,o);break;case 13:ti(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ti(e,n,a,o):Vo(e,n):d._visibility&2?ti(e,n,a,o):(d._visibility|=2,is(e,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&ph(v,n);break;case 24:ti(e,n,a,o),f&2048&&gh(n.alternate,n);break;default:ti(e,n,a,o)}}function is(e,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,C=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:is(d,v,T,C,f),xo(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?is(d,v,T,C,f):Vo(d,v):(Z._visibility|=2,is(d,v,T,C,f)),f&&j&2048&&ph(v.alternate,v);break;case 24:is(d,v,T,C,f),f&&j&2048&&gh(v.alternate,v);break;default:is(d,v,T,C,f)}n=n.sibling}}function Vo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:Vo(a,o),f&2048&&ph(o.alternate,o);break;case 24:Vo(a,o),f&2048&&gh(o.alternate,o);break;default:Vo(a,o)}n=n.sibling}}var No=8192;function rs(e){if(e.subtreeFlags&No)for(e=e.child;e!==null;)zg(e),e=e.sibling}function zg(e){switch(e.tag){case 26:rs(e),e.flags&No&&e.memoizedState!==null&&e1(Mn,e.memoizedState,e.memoizedProps);break;case 5:rs(e);break;case 3:case 4:var n=Mn;Mn=ku(e.stateNode.containerInfo),rs(e),Mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=No,No=16777216,rs(e),No=n):rs(e));break;default:rs(e)}}function kg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,jg(o,e)}kg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bg(e),e=e.sibling}function Bg(e){switch(e.tag){case 0:case 11:case 15:Oo(e),e.flags&2048&&rr(9,e,e.return);break;case 3:Oo(e);break;case 12:Oo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cu(e)):Oo(e);break;default:Oo(e)}}function Cu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,jg(o,e)}kg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Cu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Cu(n));break;default:Cu(n)}e=e.sibling}}function jg(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:rr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:po(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var f=o.sibling,d=o.return;if(Ng(o),o===a){Oe=null;break t}if(f!==null){f.return=d,Oe=f;break t}Oe=d}}}var yT={getCacheForType:function(e){var n=Fe(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},_T=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,It=null,Lt=0,Qt=0,hn=null,or=!1,as=!1,yh=!1,Oi=0,ce=0,lr=0,fa=0,_h=0,Cn=0,ss=0,Mo=null,rn=null,vh=!1,Eh=0,Du=1/0,xu=null,ur=null,ke=0,cr=null,os=null,ls=0,Th=0,bh=null,qg=null,Lo=0,Ah=null;function dn(){if((Ft&2)!==0&&Lt!==0)return Lt&-Lt;if($.T!==null){var e=Ka;return e!==0?e:Ih()}return Fi()}function Hg(){Cn===0&&(Cn=(Lt&536870912)===0||jt?Hs():536870912);var e=wn.current;return e!==null&&(e.flags|=32),Cn}function mn(e,n,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(us(e,0),fr(e,Lt,Cn,!1)),fi(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(fa|=a),ce===4&&fr(e,Lt,Cn,!1)),ei(e))}function Gg(e,n,a){if((Ft&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Pr(e,n),f=o?TT(e,n):wh(e,n,!0),d=o;do{if(f===0){as&&!o&&fr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!vT(a)){f=wh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;f=Mo;var C=T.current.memoizedState.isDehydrated;if(C&&(us(T,v).flags|=256),v=wh(T,v,!1),v!==2){if(yh&&!C){T.errorRecoveryDisabledLanes|=d,fa|=d,f=4;break t}d=rn,rn=f,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){us(e,0),fr(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:fr(o,n,Cn,!or);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Eh+300-gn(),10<f)){if(fr(o,n,Cn,!or),wa(o,0,!0)!==0)break t;o.timeoutHandle=vy(Fg.bind(null,o,a,rn,xu,vh,n,Cn,fa,ss,or,d,2,-0,0),f);break t}Fg(o,a,rn,xu,vh,n,Cn,fa,ss,or,d,0,-0,0)}}break}while(!0);ei(e)}function Fg(e,n,a,o,f,d,v,T,C,j,Z,W,H,G){if(e.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(qo={stylesheets:null,count:0,unsuspend:t1},zg(n),W=n1(),W!==null)){e.cancelPendingCommit=W(Jg.bind(null,e,n,d,a,o,f,v,T,C,Z,1,H,G)),fr(e,d,v,!j);return}Jg(e,n,d,a,o,f,v,T,C)}function vT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],d=f.getSnapshot;f=f.value;try{if(!ln(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(e,n,a,o){n&=~_h,n&=~fa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-Ge(f),v=1<<d;o[d]=-1,f&=~v}a!==0&&Bn(e,a,n)}function Iu(){return(Ft&6)===0?(Uo(0),!1):!0}function Sh(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Ri=aa=null,jf(e),es=null,wo=0,e=It;for(;e!==null;)Sg(e.alternate,e),e=e.return;It=null}}function us(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,PT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sh(),te=e,It=a=bi(e.current,null),Lt=n,Qt=0,hn=null,or=!1,as=Pr(e,n),yh=!1,ss=Cn=_h=fa=lr=ce=0,rn=Mo=null,vh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Ge(o),d=1<<f;n|=e[f],o&=~d}return Oi=n,Jl(),a}function Qg(e,n){wt=null,$.H=yu,n===yo||n===ou?(n=up(),Qt=3):n===sp?(n=up(),Qt=4):Qt=n===cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(ce=1,bu(e,bn(n,e.current)))}function Yg(){var e=$.H;return $.H=yu,e===null?yu:e}function Xg(){var e=$.A;return $.A=yT,e}function Rh(){ce=4,or||(Lt&4194048)!==Lt&&wn.current!==null||(as=!0),(lr&134217727)===0&&(fa&134217727)===0||te===null||fr(te,Lt,Cn,!1)}function wh(e,n,a){var o=Ft;Ft|=2;var f=Yg(),d=Xg();(te!==e||Lt!==n)&&(xu=null,us(e,n)),n=!1;var v=ce;t:do try{if(Qt!==0&&It!==null){var T=It,C=hn;switch(Qt){case 8:Sh(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var j=Qt;if(Qt=0,hn=null,cs(e,T,C,j),a&&as){v=0;break t}break;default:j=Qt,Qt=0,hn=null,cs(e,T,C,j)}}ET(),v=ce;break}catch(Z){Qg(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Ri=aa=null,Ft=o,$.H=f,$.A=d,It===null&&(te=null,Lt=0,Jl()),v}function ET(){for(;It!==null;)Kg(It)}function TT(e,n){var a=Ft;Ft|=2;var o=Yg(),f=Xg();te!==e||Lt!==n?(xu=null,Du=gn()+500,us(e,n)):as=Pr(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var d=hn;e:switch(Qt){case 1:Qt=0,hn=null,cs(e,n,d,1);break;case 2:case 9:if(op(d)){Qt=0,hn=null,$g(n);break}n=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),ei(e)},d.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:op(d)?(Qt=0,hn=null,$g(n)):(Qt=0,hn=null,cs(e,n,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||Vy(v)){Qt=0,hn=null;var C=T.sibling;if(C!==null)It=C;else{var j=T.return;j!==null?(It=j,Vu(j)):It=null}break e}}Qt=0,hn=null,cs(e,n,d,5);break;case 6:Qt=0,hn=null,cs(e,n,d,6);break;case 8:Sh(),ce=6;break t;default:throw Error(s(462))}}bT();break}catch(Z){Qg(e,Z)}while(!0);return Ri=aa=null,$.H=o,$.A=f,Ft=a,It!==null?0:(te=null,Lt=0,Jl(),ce)}function bT(){for(;It!==null&&!ks();)Kg(It)}function Kg(e){var n=bg(e.alternate,e,Oi);e.memoizedProps=e.pendingProps,n===null?Vu(e):It=n}function $g(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gg(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=gg(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:jf(n);default:Sg(a,n),n=It=Zm(n,Oi),n=bg(a,n,Oi)}e.memoizedProps=e.pendingProps,n===null?Vu(e):It=n}function cs(e,n,a,o){Ri=aa=null,jf(n),es=null,wo=0;var f=n.return;try{if(fT(e,f,n,a,Lt)){ce=1,bu(e,bn(a,e.current)),It=null;return}}catch(d){if(f!==null)throw It=f,d;ce=1,bu(e,bn(a,e.current)),It=null;return}n.flags&32768?(jt||o===1?e=!0:as||(Lt&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zg(n,e)):Vu(n)}function Vu(e){var n=e;do{if((n.flags&32768)!==0){Zg(n,or);return}e=n.return;var a=dT(n.alternate,n,Oi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Zg(e,n){do{var a=mT(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);ce=6,It=null}function Jg(e,n,a,o,f,d,v,T,C){e.cancelPendingCommit=null;do Nu();while(ke!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=gf,Fs(e,a,d,v,T,C),e===te&&(It=te=null,Lt=0),os=n,cr=e,ls=a,Th=d,bh=f,qg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wT(Or,function(){return iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,f=ot.p,ot.p=2,v=Ft,Ft|=4;try{pT(e,n,a)}finally{Ft=v,ot.p=f,$.T=o}}ke=1,Wg(),ty(),ey()}}function Wg(){if(ke===1){ke=0;var e=cr,n=os,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var o=ot.p;ot.p=2;var f=Ft;Ft|=4;try{Lg(n,e);var d=zh,v=jm(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Bm(T.ownerDocument.documentElement,T)){if(C!==null&&ff(T)){var j=C.start,Z=C.end;if(Z===void 0&&(Z=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Z,T.value.length);else{var W=T.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var G=H.getSelection(),Tt=T.textContent.length,_t=Math.min(C.start,Tt),$t=C.end===void 0?_t:Math.min(C.end,Tt);!G.extend&&_t>$t&&(v=$t,$t=_t,_t=v);var z=km(T,_t),O=km(T,$t);if(z&&O&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=W.createRange();B.setStart(z.node,z.offset),G.removeAllRanges(),_t>$t?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Gu=!!Ph,zh=Ph=null}finally{Ft=f,ot.p=o,$.T=a}}e.current=n,ke=2}}function ty(){if(ke===2){ke=0;var e=cr,n=os,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var o=ot.p;ot.p=2;var f=Ft;Ft|=4;try{Vg(e,n.alternate,n)}finally{Ft=f,ot.p=o,$.T=a}}ke=3}}function ey(){if(ke===4||ke===3){ke=0,Cl();var e=cr,n=os,a=ls,o=qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,os=cr=null,ny(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ur=null),Ca(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,f=ot.p,ot.p=2,$.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{$.T=n,ot.p=f}}(ls&3)!==0&&Nu(),ei(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Ah?Lo++:(Lo=0,Ah=e):Lo=0,Uo(0)}}function ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,po(n)))}function Nu(e){return Wg(),ty(),ey(),iy()}function iy(){if(ke!==5)return!1;var e=cr,n=Th;Th=0;var a=Ca(ls),o=$.T,f=ot.p;try{ot.p=32>a?32:a,$.T=null,a=bh,bh=null;var d=cr,v=ls;if(ke=0,os=cr=null,ls=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Bg(d.current),Pg(d,d.current,v,a),Ft=T,Uo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{ot.p=f,$.T=o,ny(e,n)}}function ry(e,n,a){n=bn(a,n),n=eh(e.stateNode,n,2),e=tr(e,n,2),e!==null&&(fi(e,2),ei(e))}function Zt(e,n,a){if(e.tag===3)ry(e,e,a);else for(;n!==null;){if(n.tag===3){ry(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=bn(a,e),a=lg(2),o=tr(n,a,2),o!==null&&(ug(a,o,n,e),fi(o,2),ei(o));break}}n=n.return}}function Ch(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new _T;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(yh=!0,f.add(a),e=AT.bind(null,e,n,a),n.then(e,e))}function AT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>gn()-Eh?(Ft&2)===0&&us(e,0):_h|=a,ss===Lt&&(ss=0)),ei(e)}function ay(e,n){n===0&&(n=Gs()),e=Fa(e,n),e!==null&&(fi(e,n),ei(e))}function ST(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ay(e,a)}function RT(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),ay(e,a)}function wT(e,n){return Vr(e,n)}var Ou=null,fs=null,Dh=!1,Mu=!1,xh=!1,ha=0;function ei(e){e!==fs&&e.next===null&&(fs===null?Ou=fs=e:fs=fs.next=e),Mu=!0,Dh||(Dh=!0,DT())}function Uo(e,n){if(!xh&&Mu){xh=!0;do for(var a=!1,o=Ou;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,uy(o,d))}else d=Lt,d=wa(o,o===te?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Pr(o,d)||(a=!0,uy(o,d));o=o.next}while(a);xh=!1}}function CT(){sy()}function sy(){Mu=Dh=!1;var e=0;ha!==0&&(UT()&&(e=ha),ha=0);for(var n=gn(),a=null,o=Ou;o!==null;){var f=o.next,d=oy(o,n);d===0?(o.next=null,a===null?Ou=f:a.next=f,f===null&&(fs=a)):(a=o,(e!==0||(d&3)!==0)&&(Mu=!0)),o=f}Uo(e)}function oy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&o)!==0)&&(f[v]=qs(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=te,a=Lt,a=wa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Nr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Nr(o),Ca(a)){case 2:case 8:a=Sa;break;case 32:a=Or;break;case 268435456:a=Ra;break;default:a=Or}return o=ly.bind(null,e),a=Vr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Nr(o),e.callbackPriority=2,e.callbackNode=null,2}function ly(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Nu()&&e.callbackNode!==a)return null;var o=Lt;return o=wa(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gg(e,o,n),oy(e,gn()),e.callbackNode!=null&&e.callbackNode===a?ly.bind(null,e):null)}function uy(e,n){if(Nu())return null;Gg(e,n,!0)}function DT(){zT(function(){(Ft&6)!==0?Vr(Bs,CT):sy()})}function Ih(){return ha===0&&(ha=Hs()),ha}function cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oa(""+e)}function fy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function xT(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var d=cy((f[pe]||null).action),v=o.submitter;v&&(n=(n=v[pe]||null)?cy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Ma("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ha!==0){var C=v?fy(f,v):new FormData(f);$f(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?fy(f,v):new FormData(f),$f(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Vh=0;Vh<pf.length;Vh++){var Nh=pf[Vh],IT=Nh.toLowerCase(),VT=Nh[0].toUpperCase()+Nh.slice(1);On(IT,"on"+VT)}On(Gm,"onAnimationEnd"),On(Fm,"onAnimationIteration"),On(Qm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(XE,"onTransitionRun"),On(KE,"onTransitionStart"),On($E,"onTransitionCancel"),On(Ym,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function hy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=j;try{d(f)}catch(Z){Tu(Z)}f.currentTarget=null,d=C}else for(v=0;v<o.length;v++){if(T=o[v],C=T.instance,j=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=j;try{d(f)}catch(Z){Tu(Z)}f.currentTarget=null,d=C}}}}function Vt(e,n){var a=n[Ys];a===void 0&&(a=n[Ys]=new Set);var o=e+"__bubble";a.has(o)||(dy(n,e,2,!1),a.add(o))}function Oh(e,n,a){var o=0;n&&(o|=4),dy(a,e,o,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Mh(e){if(!e[Lu]){e[Lu]=!0,Xs.forEach(function(a){a!=="selectionchange"&&(NT.has(a)||Oh(a,!1,e),Oh(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,Oh("selectionchange",!1,n))}}function dy(e,n,a,o){switch(Py(n)){case 2:var f=a1;break;case 8:f=s1;break;default:f=Xh}a=f.bind(null,n,a,e),f=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Lh(e,n,a,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=hi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=d=v;continue t}T=T.parentNode}}o=o.return}Pl(function(){var j=d,Z=vn(a),W=[];t:{var H=Xm.get(e);if(H!==void 0){var G=Ma,Tt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":G=Ba;break;case"focusin":Tt="focus",G=Pa;break;case"focusout":Tt="blur",G=Pa;break;case"beforeblur":case"afterblur":G=Pa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Fl;break;case Gm:case Fm:case Qm:G=za;break;case Ym:G=Yl;break;case"scroll":case"scrollend":G=zl;break;case"wheel":G=ja;break;case"copy":case"cut":case"paste":G=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=so;break;case"toggle":case"beforetoggle":G=Kl}var _t=(n&4)!==0,$t=!_t&&(e==="scroll"||e==="scrollend"),z=_t?H!==null?H+"Capture":null:H;_t=[];for(var O=j,B;O!==null;){var J=O;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||z===null||(J=Fr(O,z),J!=null&&_t.push(zo(O,J,B))),$t)break;O=O.return}0<_t.length&&(H=new G(H,Tt,null,a,Z),W.push({event:H,listeners:_t}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&a!==gi&&(Tt=a.relatedTarget||a.fromElement)&&(hi(Tt)||Tt[yn]))break t;if((G||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Tt=a.relatedTarget||a.toElement,G=j,Tt=Tt?hi(Tt):null,Tt!==null&&($t=c(Tt),_t=Tt.tag,Tt!==$t||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(G=null,Tt=j),G!==Tt)){if(_t=Tn,J="onMouseLeave",z="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=so,J="onPointerLeave",z="onPointerEnter",O="pointer"),$t=G==null?H:qn(G),B=Tt==null?H:qn(Tt),H=new _t(J,O+"leave",G,a,Z),H.target=$t,H.relatedTarget=B,J=null,hi(Z)===j&&(_t=new _t(z,O+"enter",Tt,a,Z),_t.target=B,_t.relatedTarget=$t,J=_t),$t=J,G&&Tt)e:{for(_t=G,z=Tt,O=0,B=_t;B;B=hs(B))O++;for(B=0,J=z;J;J=hs(J))B++;for(;0<O-B;)_t=hs(_t),O--;for(;0<B-O;)z=hs(z),B--;for(;O--;){if(_t===z||z!==null&&_t===z.alternate)break e;_t=hs(_t),z=hs(z)}_t=null}else _t=null;G!==null&&my(W,H,G,_t,!1),Tt!==null&&$t!==null&&my(W,$t,Tt,_t,!0)}}t:{if(H=j?qn(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ht=Om;else if(Re(H))if(Mm)ht=FE;else{ht=HE;var xt=qE}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Ws(j.elementType)&&(ht=Om):ht=GE;if(ht&&(ht=ht(e,j))){Ti(W,ht,a,Z);break t}xt&&xt(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&Ki(H,"number",H.value)}switch(xt=j?qn(j):window,e){case"focusin":(Re(xt)||xt.contentEditable==="true")&&(qa=xt,hf=j,uo=null);break;case"focusout":uo=hf=qa=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,qm(W,a,Z);break;case"selectionchange":if(YE)break;case"keydown":case"keyup":qm(W,a,Z)}var mt;if(Kn)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Ot?X(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Ot||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ot&&(mt=eo()):(Fn=Z,$i="value"in Fn?Fn.value:Fn.textContent,Ot=!0)),xt=Uu(j,vt),0<xt.length&&(vt=new ro(vt,e,null,a,Z),W.push({event:vt,listeners:xt}),mt?vt.data=mt:(mt=st(a),mt!==null&&(vt.data=mt)))),(mt=p?Se(e,a):Mt(e,a))&&(vt=Uu(j,"onBeforeInput"),0<vt.length&&(xt=new ro("onBeforeInput","beforeinput",null,a,Z),W.push({event:xt,listeners:vt}),xt.data=mt)),xT(W,e,j,a,Z)}hy(W,n)})}function zo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Uu(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Fr(e,a),f!=null&&o.unshift(zo(e,f,d)),f=Fr(e,n),f!=null&&o.push(zo(e,f,d))),e.tag===3)return o;e=e.return}return[]}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function my(e,n,a,o,f){for(var d=n._reactName,v=[];a!==null&&a!==o;){var T=a,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,f?(j=Fr(a,d),j!=null&&v.unshift(zo(a,j,C))):f||(j=Fr(a,d),j!=null&&v.push(zo(a,j,C)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(OT,`
`).replace(MT,"")}function gy(e,n){return n=py(n),py(e)===n}function Pu(){}function Kt(e,n,a,o,f,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,a,o);break;case"style":Js(e,o,d);break;case"data":if(n!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Oa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",f.name,f,null),Kt(e,n,"formEncType",f.formEncType,f,null),Kt(e,n,"formMethod",f.formMethod,f,null),Kt(e,n,"formTarget",f.formTarget,f,null)):(Kt(e,n,"encType",f.encType,f,null),Kt(e,n,"method",f.method,f,null),Kt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Oa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Pu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Xi(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=af.get(a)||a,Xi(e,a,o))}}function Uh(e,n,a,o,f,d){switch(a){case"style":Js(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Xi(e,a,o)}}}function Be(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,d,v,a,null)}}f&&Kt(e,n,"srcSet",a.srcSet,a,null),o&&Kt(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=f=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":v=Z;break;case"checked":C=Z;break;case"defaultChecked":j=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Kt(e,n,o,Z,a,null)}}qr(e,d,T,C,j,v,f,!1),Na(e);return;case"select":Vt("invalid",e),o=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Kt(e,n,f,T,a,null)}n=d,a=v,e.multiple=!!o,n!=null?pi(e,!!o,n,!1):a!=null&&pi(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),d=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,n,v,T,a,null)}Hr(e,o,f,d),Na(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,n,C,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Po.length;o++)Vt(Po[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,j,o,a,null)}return;default:if(Ws(n)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&Uh(e,n,Z,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Kt(e,n,T,o,a,null))}function LT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,j=null,Z=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=W;default:o.hasOwnProperty(G)||Kt(e,n,G,null,o,W)}}for(var H in o){var G=o[H];if(W=a[H],o.hasOwnProperty(H)&&(G!=null||W!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":j=G;break;case"defaultChecked":Z=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==W&&Kt(e,n,H,G,o,W)}}on(e,v,T,C,j,Z,d,f);return;case"select":G=v=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(d)||Kt(e,n,d,null,o,C)}for(f in o)if(d=o[f],C=a[f],o.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Kt(e,n,f,d,o,C)}n=T,a=v,o=G,H!=null?pi(e,!!a,H,!1):!!o!=!!a&&(n!=null?pi(e,!!a,n,!0):pi(e,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,n,T,null,o,f)}for(v in o)if(f=o[v],d=a[v],o.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Kt(e,n,v,f,o,d)}Yt(e,H,G);return;case"option":for(var Tt in a)if(H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Kt(e,n,Tt,null,o,H)}for(C in o)if(H=o[C],G=a[C],o.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(e,n,C,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)H=a[_t],a.hasOwnProperty(_t)&&H!=null&&!o.hasOwnProperty(_t)&&Kt(e,n,_t,null,o,H);for(j in o)if(H=o[j],G=a[j],o.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(e,n,j,H,o,G)}return;default:if(Ws(n)){for(var $t in a)H=a[$t],a.hasOwnProperty($t)&&H!==void 0&&!o.hasOwnProperty($t)&&Uh(e,n,$t,void 0,o,H);for(Z in o)H=o[Z],G=a[Z],!o.hasOwnProperty(Z)||H===G||H===void 0&&G===void 0||Uh(e,n,Z,H,o,G);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!o.hasOwnProperty(z)&&Kt(e,n,z,null,o,H);for(W in o)H=o[W],G=a[W],!o.hasOwnProperty(W)||H===G||H==null&&G==null||Kt(e,n,W,H,o,G)}var Ph=null,zh=null;function zu(e){return e.nodeType===9?e:e.ownerDocument}function yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function kh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bh=null;function UT(){var e=window.event;return e&&e.type==="popstate"?e===Bh?!1:(Bh=e,!0):(Bh=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(e){return Ey.resolve(null).then(e).catch(kT)}:vy;function kT(e){setTimeout(function(){throw e})}function hr(e){return e==="head"}function Ty(e,n){var a=n,o=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ko(v.documentElement),a&2&&ko(v.body),a&4)for(a=v.head,ko(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[zr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){e.removeChild(d),Yo(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Yo(n)}function jh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jh(a),Yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function BT(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function jT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function qh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function qT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Hh=null;function by(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ay(e,n,a){switch(n=zu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ko(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yi(e)}var Dn=new Map,Sy=new Set;function ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=ot.d;ot.d={f:HT,r:GT,D:FT,C:QT,L:YT,m:XT,X:$T,S:KT,M:ZT};function HT(){var e=Mi.f(),n=Iu();return e||n}function GT(e){var n=jn(e);n!==null&&n.tag===5&&n.type==="form"?Gp(n):Mi.r(e)}var ds=typeof document>"u"?null:document;function Ry(e,n,a){var o=ds;if(o&&typeof n=="string"&&n){var f=ge(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Sy.has(f)||(Sy.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Be(n,"link",e),fe(n),o.head.appendChild(n)))}}function FT(e){Mi.D(e),Ry("dns-prefetch",e,null)}function QT(e,n){Mi.C(e,n),Ry("preconnect",e,n)}function YT(e,n,a){Mi.L(e,n,a);var o=ds;if(o&&e&&n){var f='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ge(a.imageSizes)+'"]')):f+='[href="'+ge(e)+'"]';var d=f;switch(n){case"style":d=ms(e);break;case"script":d=ps(e)}Dn.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Dn.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Bo(d))||n==="script"&&o.querySelector(jo(d))||(n=o.createElement("link"),Be(n,"link",e),fe(n),o.head.appendChild(n)))}}function XT(e,n){Mi.m(e,n);var a=ds;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ps(e)}if(!Dn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Dn.set(d,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jo(d)))return}o=a.createElement("link"),Be(o,"link",e),fe(o),a.head.appendChild(o)}}}function KT(e,n,a){Mi.S(e,n,a);var o=ds;if(o&&e){var f=$e(o).hoistableStyles,d=ms(e);n=n||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Bo(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Dn.get(d))&&Gh(e,a);var C=v=o.createElement("link");fe(C),Be(C,"link",e),C._p=new Promise(function(j,Z){C.onload=j,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function $T(e,n){Mi.X(e,n);var a=ds;if(a&&e){var o=$e(a).hoistableScripts,f=ps(e),d=o.get(f);d||(d=a.querySelector(jo(f)),d||(e=E({src:e,async:!0},n),(n=Dn.get(f))&&Fh(e,n),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function ZT(e,n){Mi.M(e,n);var a=ds;if(a&&e){var o=$e(a).hoistableScripts,f=ps(e),d=o.get(f);d||(d=a.querySelector(jo(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Dn.get(f))&&Fh(e,n),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function wy(e,n,a,o){var f=(f=bt.current)?ku(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ms(a.href),a=$e(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ms(a.href);var d=$e(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(Bo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||JT(f,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(a),a=$e(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ms(e){return'href="'+ge(e)+'"'}function Bo(e){return'link[rel="stylesheet"]['+e+"]"}function Cy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function JT(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",a),fe(n),e.head.appendChild(n))}function ps(e){return'[src="'+ge(e)+'"]'}function jo(e){return"script[async]"+e}function Dy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return n.instance=o,fe(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),Be(o,"style",f),Bu(o,a.precedence,e),n.instance=o;case"stylesheet":f=ms(a.href);var d=e.querySelector(Bo(f));if(d)return n.state.loading|=4,n.instance=d,fe(d),d;o=Cy(a),(f=Dn.get(f))&&Gh(o,f),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Be(d,"link",o),n.state.loading|=4,Bu(d,a.precedence,e),n.instance=d;case"script":return d=ps(a.src),(f=e.querySelector(jo(d)))?(n.instance=f,fe(f),f):(o=a,(f=Dn.get(d))&&(o=E({},a),Fh(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),fe(f),Be(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Bu(o,a.precedence,e));return n.instance}function Bu(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Gh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ju=null;function xy(e,n,a){if(ju===null){var o=new Map,f=ju=new Map;f.set(a,o)}else f=ju,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[zr]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Iy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function WT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var qo=null;function t1(){}function e1(e,n,a){if(qo===null)throw Error(s(475));var o=qo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ms(a.href),d=e.querySelector(Bo(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=qu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,fe(d);return}d=e.ownerDocument||e,a=Cy(a),(f=Dn.get(f))&&Gh(a,f),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Be(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=qu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function n1(){if(qo===null)throw Error(s(475));var e=qo;return e.stylesheets&&e.count===0&&Qh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Qh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function qu(){if(this.count--,this.count===0){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hu=null;function Qh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hu=new Map,n.forEach(i1,e),Hu=null,qu.call(e))}function i1(e,n){if(!(n.state.loading&4)){var a=Hu.get(e);if(a)var o=a.get(null);else{a=new Map,Hu.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,f),a.set(v,f),this.count++,o=qu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ho={$$typeof:Q,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function r1(e,n,a,o,f,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ny(e,n,a,o,f,d,v,T,C,j,Z,W){return e=new r1(e,n,a,v,T,C,j,W),n=1,d===!0&&(n|=24),d=un(3,null,null,n),e.current=d,d.stateNode=e,n=Cf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Vf(d),e}function Oy(e){return e?(e=Qa,e):Qa}function My(e,n,a,o,f,d){f=Oy(f),o.context===null?o.context=f:o.pendingContext=f,o=Wi(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=tr(e,o,n),a!==null&&(mn(a,e,n),vo(a,e,n))}function Ly(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Yh(e,n){Ly(e,n),(e=e.alternate)&&Ly(e,n)}function Uy(e){if(e.tag===13){var n=Fa(e,67108864);n!==null&&mn(n,e,67108864),Yh(e,67108864)}}var Gu=!0;function a1(e,n,a,o){var f=$.T;$.T=null;var d=ot.p;try{ot.p=2,Xh(e,n,a,o)}finally{ot.p=d,$.T=f}}function s1(e,n,a,o){var f=$.T;$.T=null;var d=ot.p;try{ot.p=8,Xh(e,n,a,o)}finally{ot.p=d,$.T=f}}function Xh(e,n,a,o){if(Gu){var f=Kh(o);if(f===null)Lh(e,n,o,Fu,a),zy(e,o);else if(l1(f,e,n,a,o))o.stopPropagation();else if(zy(e,o),n&4&&-1<o1.indexOf(e)){for(;f!==null;){var d=jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=In(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Ge(v);T.entanglements[1]|=C,v&=~C}ei(d),(Ft&6)===0&&(Du=gn()+500,Uo(0))}}break;case 13:T=Fa(d,2),T!==null&&mn(T,d,2),Iu(),Yh(d,2)}if(d=Kh(o),d===null&&Lh(e,n,o,Fu,a),d===f)break;f=d}f!==null&&o.stopPropagation()}else Lh(e,n,o,null,a)}}function Kh(e){return e=vn(e),$h(e)}var Fu=null;function $h(e){if(Fu=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Fu=e,null}function Py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jc()){case Bs:return 2;case Sa:return 8;case Or:case Wc:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var Zh=!1,dr=null,mr=null,pr=null,Go=new Map,Fo=new Map,gr=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(e,n){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(n.pointerId)}}function Qo(e,n,a,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=jn(n),n!==null&&Uy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function l1(e,n,a,o,f){switch(n){case"focusin":return dr=Qo(dr,e,n,a,o,f),!0;case"dragenter":return mr=Qo(mr,e,n,a,o,f),!0;case"mouseover":return pr=Qo(pr,e,n,a,o,f),!0;case"pointerover":var d=f.pointerId;return Go.set(d,Qo(Go.get(d)||null,e,n,a,o,f)),!0;case"gotpointercapture":return d=f.pointerId,Fo.set(d,Qo(Fo.get(d)||null,e,n,a,o,f)),!0}return!1}function ky(e){var n=hi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Il(e.priority,function(){if(a.tag===13){var o=dn();o=Gi(o);var f=Fa(a,o);f!==null&&mn(f,a,o),Yh(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Kh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);gi=o,a.target.dispatchEvent(o),gi=null}else return n=jn(a),n!==null&&Uy(n),e.blockedOn=a,!1;n.shift()}return!0}function By(e,n,a){Qu(e)&&a.delete(n)}function u1(){Zh=!1,dr!==null&&Qu(dr)&&(dr=null),mr!==null&&Qu(mr)&&(mr=null),pr!==null&&Qu(pr)&&(pr=null),Go.forEach(By),Fo.forEach(By)}function Yu(e,n){e.blockedOn===n&&(e.blockedOn=null,Zh||(Zh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,u1)))}var Xu=null;function jy(e){Xu!==e&&(Xu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===e&&(Xu=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if($h(o||a)===null)continue;break}var d=jn(a);d!==null&&(e.splice(n,3),n-=3,$f(d,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Yo(e){function n(C){return Yu(C,e)}dr!==null&&Yu(dr,e),mr!==null&&Yu(mr,e),pr!==null&&Yu(pr,e),Go.forEach(n),Fo.forEach(n);for(var a=0;a<gr.length;a++){var o=gr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)ky(a),a.blockedOn===null&&gr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],d=a[o+1],v=f[pe]||null;if(typeof d=="function")v||jy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[pe]||null)T=v.formAction;else if($h(f)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),jy(a)}}}function Jh(e){this._internalRoot=e}Ku.prototype.render=Jh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=dn();My(a,o,e,n,null,null)},Ku.prototype.unmount=Jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;My(e.current,2,null,e,null,null),Iu(),n[yn]=null}};function Ku(e){this._internalRoot=e}Ku.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<gr.length&&n!==0&&n<gr[a].priority;a++);gr.splice(a,0,e),a===0&&ky(e)}};var qy=t.version;if(qy!=="19.1.0")throw Error(s(527,qy,"19.1.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var c1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{le=$u.inject(c1),Gt=$u}catch{}}return Ko.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",f=rg,d=ag,v=sg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Ny(e,1,!1,null,null,a,o,f,d,v,T,null),e[yn]=n.current,Mh(e),new Jh(n)},Ko.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,f="",d=rg,v=ag,T=sg,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=Ny(e,1,!0,n,a??null,o,f,d,v,T,C,j),n.context=Oy(null),a=n.current,o=dn(),o=Gi(o),f=Wi(o),f.callback=null,tr(a,f,o),a=o,n.current.lanes=a,fi(n,a),ei(n),e[yn]=n.current,Mh(e),new Ku(n)},Ko.version="19.1.0",Ko}var Jy;function T1(){if(Jy)return ed.exports;Jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ed.exports=E1(),ed.exports}var b1=T1(),$o={},Wy;function A1(){if(Wy)return $o;Wy=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.parse=h,$o.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,L){const N=new c,F=S.length;if(F<2)return N;const U=(L==null?void 0:L.decode)||E;let Y=0;do{const K=S.indexOf("=",Y);if(K===-1)break;const Q=S.indexOf(";",Y),rt=Q===-1?F:Q;if(K>rt){Y=S.lastIndexOf(";",K-1)+1;continue}const lt=m(S,Y,K),gt=g(S,K,lt),x=S.slice(lt,gt);if(N[x]===void 0){let R=m(S,K+1,rt),w=g(S,rt,R);const I=U(S.slice(R,w));N[x]=I}Y=rt+1}while(Y<F);return N}function m(S,L,N){do{const F=S.charCodeAt(L);if(F!==32&&F!==9)return L}while(++L<N);return N}function g(S,L,N){for(;L>N;){const F=S.charCodeAt(--L);if(F!==32&&F!==9)return L+1}return N}function y(S,L,N){const F=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const U=F(L);if(!t.test(U))throw new TypeError(`argument val is invalid: ${L}`);let Y=S+"="+U;if(!N)return Y;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Y+="; Max-Age="+N.maxAge}if(N.domain){if(!i.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Y+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Y+="; Path="+N.path}if(N.expires){if(!A(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Y+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Y+="; HttpOnly"),N.secure&&(Y+="; Secure"),N.partitioned&&(Y+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Y}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return l.call(S)==="[object Date]"}return $o}A1();var t_="popstate";function S1(r={}){function t(s,l){let{pathname:c,search:h,hash:m}=s.location;return pd("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:ol(l)}return w1(t,i,null,r)}function se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ai(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R1(){return Math.random().toString(36).substring(2,10)}function e_(r,t){return{usr:r.state,key:r.key,idx:t}}function pd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Vs(t):t,state:i,key:t&&t.key||s||R1()}}function ol({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Vs(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function w1(r,t,i,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,h=l.history,m="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let U=E(),Y=U==null?null:U-y;y=U,g&&g({action:m,location:F.location,delta:Y})}function S(U,Y){m="PUSH";let K=pd(F.location,U,Y);y=E()+1;let Q=e_(K,y),rt=F.createHref(K);try{h.pushState(Q,"",rt)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;l.location.assign(rt)}c&&g&&g({action:m,location:F.location,delta:1})}function L(U,Y){m="REPLACE";let K=pd(F.location,U,Y);y=E();let Q=e_(K,y),rt=F.createHref(K);h.replaceState(Q,"",rt),c&&g&&g({action:m,location:F.location,delta:0})}function N(U){return C1(U)}let F={get action(){return m},get location(){return r(l,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(t_,A),g=U,()=>{l.removeEventListener(t_,A),g=null}},createHref(U){return t(l,U)},createURL:N,encodeLocation(U){let Y=N(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:L,go(U){return h.go(U)}};return F}function C1(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),se(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ol(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Tv(r,t,i="/"){return D1(r,t,i,!1)}function D1(r,t,i,s){let l=typeof t=="string"?Vs(t):t,c=zi(l.pathname||"/",i);if(c==null)return null;let h=bv(r);x1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=B1(c);m=z1(h[g],y,s)}return m}function bv(r,t=[],i=[],s=""){let l=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(se(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Li([s,g.relativePath]),E=i.concat(g);c.children&&c.children.length>0&&(se(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),bv(c.children,t,E,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:U1(y,c.index),routesMeta:E})};return r.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,h);else for(let g of Av(c.path))l(c,h,g)}),t}function Av(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,l=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let h=Av(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),l&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function x1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:P1(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var I1=/^:[\w-]+$/,V1=3,N1=2,O1=1,M1=10,L1=-2,n_=r=>r==="*";function U1(r,t){let i=r.split("/"),s=i.length;return i.some(n_)&&(s+=L1),t&&(s+=N1),i.filter(l=>!n_(l)).reduce((l,c)=>l+(I1.test(c)?V1:c===""?O1:M1),s)}function P1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function z1(r,t,i=!1){let{routesMeta:s}=r,l={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",A=fc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!A&&y&&i&&!s[s.length-1].route.index&&(A=fc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),h.push({params:l,pathname:Li([c,A.pathname]),pathnameBase:G1(Li([c,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(c=Li([c,A.pathnameBase]))}return h}function fc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=k1(r.path,r.caseSensitive,r.end),l=t.match(i);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},S)=>{if(E==="*"){let N=m[S]||"";h=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const L=m[S];return A&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function k1(r,t=!1,i=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function B1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function zi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function j1(r,t="/"){let{pathname:i,search:s="",hash:l=""}=typeof r=="string"?Vs(r):r;return{pathname:i?i.startsWith("/")?i:q1(i,t):t,search:F1(s),hash:Q1(l)}}function q1(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function ad(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H1(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Sv(r){let t=H1(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Rv(r,t,i,s=!1){let l;typeof r=="string"?l=Vs(r):(l={...r},se(!l.pathname||!l.pathname.includes("?"),ad("?","pathname","search",l)),se(!l.pathname||!l.pathname.includes("#"),ad("#","pathname","hash",l)),se(!l.search||!l.search.includes("#"),ad("#","search","hash",l)));let c=r===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=i;else{let A=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),A-=1;l.pathname=S.join("/")}m=A>=0?t[A]:"/"}let g=j1(l,m),y=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),G1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),F1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Q1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Y1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wv=["POST","PUT","PATCH","DELETE"];new Set(wv);var X1=["GET",...wv];new Set(X1);var Ns=q.createContext(null);Ns.displayName="DataRouter";var Vc=q.createContext(null);Vc.displayName="DataRouterState";var Cv=q.createContext({isTransitioning:!1});Cv.displayName="ViewTransition";var K1=q.createContext(new Map);K1.displayName="Fetchers";var $1=q.createContext(null);$1.displayName="Await";var oi=q.createContext(null);oi.displayName="Navigation";var yl=q.createContext(null);yl.displayName="Location";var li=q.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Fd=q.createContext(null);Fd.displayName="RouteError";function Z1(r,{relative:t}={}){se(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=q.useContext(oi),{hash:l,pathname:c,search:h}=vl(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Li([i,c])),s.createHref({pathname:m,search:h,hash:l})}function _l(){return q.useContext(yl)!=null}function va(){return se(_l(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(yl).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(r){q.useContext(oi).static||q.useLayoutEffect(r)}function Qd(){let{isDataRoute:r}=q.useContext(li);return r?cb():J1()}function J1(){se(_l(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(Ns),{basename:t,navigator:i}=q.useContext(oi),{matches:s}=q.useContext(li),{pathname:l}=va(),c=JSON.stringify(Sv(s)),h=q.useRef(!1);return xv(()=>{h.current=!0}),q.useCallback((g,y={})=>{if(ai(h.current,Dv),!h.current)return;if(typeof g=="number"){i.go(g);return}let E=Rv(g,JSON.parse(c),l,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Li([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,c,l,r])}q.createContext(null);function Iv(){let{matches:r}=q.useContext(li),t=r[r.length-1];return t?t.params:{}}function vl(r,{relative:t}={}){let{matches:i}=q.useContext(li),{pathname:s}=va(),l=JSON.stringify(Sv(i));return q.useMemo(()=>Rv(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function W1(r,t){return Vv(r,t)}function Vv(r,t,i,s){var K;se(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=q.useContext(oi),{matches:h}=q.useContext(li),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let Q=A&&A.path||"";Nv(y,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=va(),L;if(t){let Q=typeof t=="string"?Vs(t):t;se(E==="/"||((K=Q.pathname)==null?void 0:K.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),L=Q}else L=S;let N=L.pathname||"/",F=N;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");F="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=!c&&i&&i.matches&&i.matches.length>0?i.matches:Tv(r,{pathname:F});ai(A||U!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ai(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=rb(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:Li([E,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:Li([E,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,i,s);return t&&Y?q.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},Y):Y}function tb(){let r=ub(),t=Y1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:c},"ErrorBoundary")," or"," ",q.createElement("code",{style:c},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),i?q.createElement("pre",{style:l},i):null,h)}var eb=q.createElement(tb,null),nb=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(li.Provider,{value:this.props.routeContext},q.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ib({routeContext:r,match:t,children:i}){let s=q.useContext(Ns);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(li.Provider,{value:r},i)}function rb(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,c=i==null?void 0:i.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);se(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(i)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=i,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||S){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let A,S=!1,L=null,N=null;i&&(A=c&&y.route.id?c[y.route.id]:void 0,L=y.route.errorElement||eb,h&&(m<0&&E===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):m===E&&(S=!0,N=y.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,E+1)),U=()=>{let Y;return A?Y=L:S?Y=N:y.route.Component?Y=q.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=g,q.createElement(ib,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:i!=null},children:Y})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?q.createElement(nb,{location:i.location,revalidation:i.revalidation,component:L,error:A,children:U(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):U()},null)}function Yd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(r){let t=q.useContext(Ns);return se(t,Yd(r)),t}function sb(r){let t=q.useContext(Vc);return se(t,Yd(r)),t}function ob(r){let t=q.useContext(li);return se(t,Yd(r)),t}function Xd(r){let t=ob(r),i=t.matches[t.matches.length-1];return se(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function lb(){return Xd("useRouteId")}function ub(){var s;let r=q.useContext(Fd),t=sb("useRouteError"),i=Xd("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function cb(){let{router:r}=ab("useNavigate"),t=Xd("useNavigate"),i=q.useRef(!1);return xv(()=>{i.current=!0}),q.useCallback(async(l,c={})=>{ai(i.current,Dv),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...c}))},[r,t])}var i_={};function Nv(r,t,i){!t&&!i_[r]&&(i_[r]=!0,ai(!1,i))}q.memo(fb);function fb({routes:r,future:t,state:i}){return Vv(r,void 0,i,t)}function _r(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hb({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}){se(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof i=="string"&&(i=Vs(i));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:S="default"}=i,L=q.useMemo(()=>{let N=zi(g,h);return N==null?null:{location:{pathname:N,search:y,hash:E,state:A,key:S},navigationType:s}},[h,g,y,E,A,S,s]);return ai(L!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(oi.Provider,{value:m},q.createElement(yl.Provider,{children:t,value:L}))}function db({children:r,location:t}){return W1(gd(r),t)}function gd(r,t=[]){let i=[];return q.Children.forEach(r,(s,l)=>{if(!q.isValidElement(s))return;let c=[...t,l];if(s.type===q.Fragment){i.push.apply(i,gd(s.props.children,c));return}se(s.type===_r,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=gd(s.props.children,c)),i.push(h)}),i}var ic="get",rc="application/x-www-form-urlencoded";function Nc(r){return r!=null&&typeof r.tagName=="string"}function mb(r){return Nc(r)&&r.tagName.toLowerCase()==="button"}function pb(r){return Nc(r)&&r.tagName.toLowerCase()==="form"}function gb(r){return Nc(r)&&r.tagName.toLowerCase()==="input"}function yb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _b(r,t){return r.button===0&&(!t||t==="_self")&&!yb(r)}var Zu=null;function vb(){if(Zu===null)try{new FormData(document.createElement("form"),0),Zu=!1}catch{Zu=!0}return Zu}var Eb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(r){return r!=null&&!Eb.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):r}function Tb(r,t){let i,s,l,c,h;if(pb(r)){let m=r.getAttribute("action");s=m?zi(m,t):null,i=r.getAttribute("method")||ic,l=sd(r.getAttribute("enctype"))||rc,c=new FormData(r)}else if(mb(r)||gb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?zi(g,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||ic,l=sd(r.getAttribute("formenctype"))||sd(m.getAttribute("enctype"))||rc,c=new FormData(m,r),!vb()){let{name:y,type:E,value:A}=r;if(E==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,A)}}else{if(Nc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ic,s=null,l=rc,h=r}return c&&l==="text/plain"&&(h=c,c=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:c,body:h}}function Kd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function bb(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ab(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Sb(r,t,i){let s=await Promise.all(r.map(async l=>{let c=t.routes[l.route.id];if(c){let h=await bb(c,i);return h.links?h.links():[]}return[]}));return Db(s.flat(1).filter(Ab).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function r_(r,t,i,s,l,c){let h=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>{var E;return i[y].pathname!==g.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return c==="assets"?t.filter((g,y)=>h(g,y)||m(g,y)):c==="data"?t.filter((g,y)=>{var A;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=i[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Rb(r,t,{includeHydrateFallback:i}={}){return wb(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function wb(r){return[...new Set(r)]}function Cb(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function Db(r,t){let i=new Set;return new Set(t),r.reduce((s,l)=>{let c=JSON.stringify(Cb(l));return i.has(c)||(i.add(c),s.push({key:c,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xb=new Set([100,101,204,205]);function Ib(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&zi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Ov(){let r=q.useContext(Ns);return Kd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vb(){let r=q.useContext(Vc);return Kd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $d=q.createContext(void 0);$d.displayName="FrameworkContext";function Mv(){let r=q.useContext($d);return Kd(r,"You must render this element inside a <HydratedRouter> element"),r}function Nb(r,t){let i=q.useContext($d),[s,l]=q.useState(!1),[c,h]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,S=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=Y=>{Y.forEach(K=>{h(K.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[r]),q.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let L=()=>{l(!0)},N=()=>{l(!1),h(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Zo(m,L),onBlur:Zo(g,N),onMouseEnter:Zo(y,L),onMouseLeave:Zo(E,N),onTouchStart:Zo(A,L)}]:[!1,S,{}]}function Zo(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function Ob({page:r,...t}){let{router:i}=Ov(),s=q.useMemo(()=>Tv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?q.createElement(Lb,{page:r,matches:s,...t}):null}function Mb(r){let{manifest:t,routeModules:i}=Mv(),[s,l]=q.useState([]);return q.useEffect(()=>{let c=!1;return Sb(r,t,i).then(h=>{c||l(h)}),()=>{c=!0}},[r,t,i]),s}function Lb({page:r,matches:t,...i}){let s=va(),{manifest:l,routeModules:c}=Mv(),{basename:h}=Ov(),{loaderData:m,matches:g}=Vb(),y=q.useMemo(()=>r_(r,t,g,l,s,"data"),[r,t,g,l,s]),E=q.useMemo(()=>r_(r,t,g,l,s,"assets"),[r,t,g,l,s]),A=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,F=!1;if(t.forEach(Y=>{var Q;let K=l.routes[Y.route.id];!K||!K.hasLoader||(!y.some(rt=>rt.route.id===Y.route.id)&&Y.route.id in m&&((Q=c[Y.route.id])!=null&&Q.shouldRevalidate)||K.hasClientLoader?F=!0:N.add(Y.route.id))}),N.size===0)return[];let U=Ib(r,h);return F&&N.size>0&&U.searchParams.set("_routes",t.filter(Y=>N.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[h,m,s,l,y,t,r,c]),S=q.useMemo(()=>Rb(E,l),[E,l]),L=Mb(E);return q.createElement(q.Fragment,null,A.map(N=>q.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),S.map(N=>q.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),L.map(({key:N,link:F})=>q.createElement("link",{key:N,...F})))}function Ub(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lv&&(window.__reactRouterVersion="7.6.0")}catch{}function Pb({basename:r,children:t,window:i}){let s=q.useRef();s.current==null&&(s.current=S1({window:i,v5Compat:!0}));let l=s.current,[c,h]=q.useState({action:l.action,location:l.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>l.listen(m),[l,m]),q.createElement(hb,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:l})}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=q.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:l,reloadDocument:c,replace:h,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...S},L){let{basename:N}=q.useContext(oi),F=typeof y=="string"&&Uv.test(y),U,Y=!1;if(typeof y=="string"&&F&&(U=y,Lv))try{let w=new URL(window.location.href),I=y.startsWith("//")?new URL(w.protocol+y):new URL(y),M=zi(I.pathname,N);I.origin===w.origin&&M!=null?y=M+I.search+I.hash:Y=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Z1(y,{relative:l}),[Q,rt,lt]=Nb(s,S),gt=jb(y,{replace:h,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:A});function x(w){t&&t(w),w.defaultPrevented||gt(w)}let R=q.createElement("a",{...S,...lt,href:U||K,onClick:Y||c?t:x,ref:Ub(L,rt),target:g,"data-discover":!F&&i==="render"?"true":void 0});return Q&&!F?q.createElement(q.Fragment,null,R,q.createElement(Ob,{page:K})):R});Pn.displayName="Link";var zb=q.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:c,to:h,viewTransition:m,children:g,...y},E){let A=vl(h,{relative:y.relative}),S=va(),L=q.useContext(Vc),{navigator:N,basename:F}=q.useContext(oi),U=L!=null&&Qb(A)&&m===!0,Y=N.encodeLocation?N.encodeLocation(A).pathname:A.pathname,K=S.pathname,Q=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(K=K.toLowerCase(),Q=Q?Q.toLowerCase():null,Y=Y.toLowerCase()),Q&&F&&(Q=zi(Q,F)||Q);const rt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let lt=K===Y||!l&&K.startsWith(Y)&&K.charAt(rt)==="/",gt=Q!=null&&(Q===Y||!l&&Q.startsWith(Y)&&Q.charAt(Y.length)==="/"),x={isActive:lt,isPending:gt,isTransitioning:U},R=lt?t:void 0,w;typeof s=="function"?w=s(x):w=[s,lt?"active":null,gt?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(x):c;return q.createElement(Pn,{...y,"aria-current":R,className:w,ref:E,style:I,to:h,viewTransition:m},typeof g=="function"?g(x):g)});zb.displayName="NavLink";var kb=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:l,state:c,method:h=ic,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...S},L)=>{let N=Gb(),F=Fb(m,{relative:y}),U=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&Uv.test(m),K=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let rt=Q.nativeEvent.submitter,lt=(rt==null?void 0:rt.getAttribute("formmethod"))||h;N(rt||Q.currentTarget,{fetcherKey:t,method:lt,navigate:i,replace:l,state:c,relative:y,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:L,method:U,action:F,onSubmit:s?g:K,...S,"data-discover":!Y&&r==="render"?"true":void 0})});kb.displayName="Form";function Bb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pv(r){let t=q.useContext(Ns);return se(t,Bb(r)),t}function jb(r,{target:t,replace:i,state:s,preventScrollReset:l,relative:c,viewTransition:h}={}){let m=Qd(),g=va(),y=vl(r,{relative:c});return q.useCallback(E=>{if(_b(E,t)){E.preventDefault();let A=i!==void 0?i:ol(g)===ol(y);m(r,{replace:A,state:s,preventScrollReset:l,relative:c,viewTransition:h})}},[g,m,y,i,s,t,r,l,c,h])}var qb=0,Hb=()=>`__${String(++qb)}__`;function Gb(){let{router:r}=Pv("useSubmit"),{basename:t}=q.useContext(oi),i=lb();return q.useCallback(async(s,l={})=>{let{action:c,method:h,encType:m,formData:g,body:y}=Tb(s,t);if(l.navigate===!1){let E=l.fetcherKey||Hb();await r.fetch(E,i,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,i])}function Fb(r,{relative:t}={}){let{basename:i}=q.useContext(oi),s=q.useContext(li);se(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...vl(r||".",{relative:t})},h=va();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Li([i,c.pathname])),ol(c)}function Qb(r,t={}){let i=q.useContext(Cv);se(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pv("useViewTransitionState"),l=vl(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=zi(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=zi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return fc(l.pathname,h)!=null||fc(l.pathname,c)!=null}[...xb];const Yb=()=>tt.jsxs("section",{className:"home",children:[tt.jsx("h2",{children:"¡Bienvenido a TecnoStore!"}),tt.jsx("p",{children:"Tu tienda de tecnología favorita. Descubre los mejores productos al mejor precio."}),tt.jsx(Pn,{to:"/catalogo",children:"Descubre nuestro catálogo"})]}),zv=q.createContext();function Oc(){return q.useContext(zv)}function kv({children:r}){const[t,i]=q.useState([]),[s,l]=q.useState(""),c=(E,A)=>{const S=t.find(N=>N.id===E.id);return(S?S.cantidad:0)+A>E.stock?(l("❌ No hay suficiente stock disponible."),!1):(i(N=>N.find(U=>U.id===E.id)?N.map(U=>U.id===E.id?{...U,cantidad:U.cantidad+A}:U):[...N,{...E,cantidad:A}]),l(""),!0)},h=E=>{i(A=>A.filter(S=>S.id!==E))},m=()=>{i([]),l("")},g=()=>t.reduce((E,A)=>E+A.cantidad,0),y=()=>t.reduce((E,A)=>E+A.cantidad*A.precio,0);return tt.jsx(zv.Provider,{value:{cart:t,addToCart:c,removeItem:h,clearCart:m,totalItems:g,totalAmount:y,mensajeError:s,setMensajeError:l},children:r})}var Bv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a_=kt.createContext&&kt.createContext(Bv),Xb=["attr","size","title"];function Kb(r,t){if(r==null)return{};var i=$b(r,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(i[s]=r[s])}return i}function $b(r,t){if(r==null)return{};var i={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;i[s]=r[s]}return i}function hc(){return hc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},hc.apply(this,arguments)}function s_(r,t){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),i.push.apply(i,s)}return i}function dc(r){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(i),!0).forEach(function(s){Zb(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):s_(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function Zb(r,t,i){return t=Jb(t),t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}function Jb(r){var t=Wb(r,"string");return typeof t=="symbol"?t:t+""}function Wb(r,t){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function jv(r){return r&&r.map((t,i)=>kt.createElement(t.tag,dc({key:i},t.attr),jv(t.child)))}function tA(r){return t=>kt.createElement(eA,hc({attr:dc({},r.attr)},t),jv(r.child))}function eA(r){var t=i=>{var{attr:s,size:l,title:c}=r,h=Kb(r,Xb),m=l||i.size||"1em",g;return i.className&&(g=i.className),r.className&&(g=(g?g+" ":"")+r.className),kt.createElement("svg",hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,h,{className:g,style:dc(dc({color:r.color||i.color},i.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&kt.createElement("title",null,c),r.children)};return a_!==void 0?kt.createElement(a_.Consumer,null,i=>t(i)):t(Bv)}function nA(r){return tA({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(r)}function iA(){const{totalItems:r}=Oc();return tt.jsxs(Pn,{to:"/carrito",className:"cart-widget",children:[tt.jsx(nA,{size:24}),r()>0&&tt.jsx("span",{className:"cart-count",children:r()})]})}const rA=()=>tt.jsxs("nav",{className:"NavBar",children:[tt.jsx(Pn,{to:"/",children:tt.jsx("h1",{children:"TecnoStore"})}),tt.jsx(Pn,{to:"/",children:"Inicio"}),tt.jsx(Pn,{to:"/catalogo",children:"Catálogo"}),tt.jsx(iA,{})]}),aA=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},sA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],h=r[i++],m=r[i++],g=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],h=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return t.join("")},Hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],h=l+1<r.length,m=h?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,E=c>>2,A=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,L=y&63;g||(L=64,h||(S=64)),s.push(i[E],i[A],i[S],i[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(qv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||m==null||y==null||A==null)throw new oA;const S=c<<2|m>>4;if(s.push(S),y!==64){const L=m<<4&240|y>>2;if(s.push(L),A!==64){const N=y<<6&192|A;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lA=function(r){const t=qv(r);return Hv.encodeByteArray(t,!0)},mc=function(r){return lA(r).replace(/\./g,"")},uA=function(r){try{return Hv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>cA().__FIREBASE_DEFAULTS__,hA=()=>{if(typeof process>"u"||typeof o_>"u")return;const r=o_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&uA(r[1]);return t&&JSON.parse(t)},Zd=()=>{try{return aA()||fA()||hA()||dA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mA=r=>{var t,i;return(i=(t=Zd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},pA=r=>{const t=mA(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Gv=()=>{var r;return(r=Zd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r){return r.endsWith(".cloudworkstations.dev")}async function yA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[mc(JSON.stringify(i)),mc(JSON.stringify(h)),""].join(".")}const nl={};function vA(){const r={prod:[],emulator:[]};for(const t of Object.keys(nl))nl[t]?r.emulator.push(t):r.prod.push(t);return r}function EA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let l_=!1;function TA(r,t){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||nl[r]===t||nl[r]||l_)return;nl[r]=t;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=vA().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{l_=!0,h()},S}function E(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=EA(s),L=i("text"),N=document.getElementById(L)||document.createElement("span"),F=i("learnmore"),U=document.getElementById(F)||document.createElement("a"),Y=i("preprendIcon"),K=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;m(Q),E(U,F);const rt=y();g(K,Y),Q.append(K,N,U,rt),document.body.appendChild(Q)}c?(N.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AA(){var r;const t=(r=Zd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="FirebaseError";class Os extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=CA,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fv.prototype.create)}}class Fv{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],h=c?DA(c,s):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Os(l,m,s)}}function DA(r,t){return r.replace(xA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const xA=/\{\$([^}]+)}/g;function pc(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],h=t[l];if(u_(c)&&u_(h)){if(!pc(c,h))return!1}else if(c!==h)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function u_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(r){return r&&r._delegate?r._delegate:r}class ll{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new gA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NA(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&t(h,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(r){return r===da?void 0:r}function NA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new IA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const MA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},LA=Pt.INFO,UA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},PA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=UA[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qv{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const zA=(r,t)=>t.some(i=>r instanceof i);let c_,f_;function kA(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BA(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yv=new WeakMap,yd=new WeakMap,Xv=new WeakMap,od=new WeakMap,Wd=new WeakMap;function jA(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i(Er(r.result)),l()},h=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Yv.set(i,r)}).catch(()=>{}),Wd.set(t,r),t}function qA(r){if(yd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),l()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});yd.set(r,t)}let _d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function HA(r){_d=r(_d)}function GA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(ld(this),t,...i);return Xv.set(s,t.sort?t.sort():[t]),Er(s)}:BA().includes(r)?function(...t){return r.apply(ld(this),t),Er(Yv.get(this))}:function(...t){return Er(r.apply(ld(this),t))}}function FA(r){return typeof r=="function"?GA(r):(r instanceof IDBTransaction&&qA(r),zA(r,kA())?new Proxy(r,_d):r)}function Er(r){if(r instanceof IDBRequest)return jA(r);if(od.has(r))return od.get(r);const t=FA(r);return t!==r&&(od.set(r,t),Wd.set(t,r)),t}const ld=r=>Wd.get(r);function QA(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const h=indexedDB.open(r,t),m=Er(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Er(h.result),g.oldVersion,g.newVersion,Er(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const YA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],ud=new Map;function h_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ud.get(t))return ud.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=XA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||YA.includes(i)))return;const c=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),l&&g.done]))[0]};return ud.set(t,c),c}HA(r=>({...r,get:(t,i,s)=>h_(t,i)||r.get(t,i,s),has:(t,i)=>!!h_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($A(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function $A(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vd="@firebase/app",d_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Qv("@firebase/app"),ZA="@firebase/app-compat",JA="@firebase/analytics-compat",WA="@firebase/analytics",tS="@firebase/app-check-compat",eS="@firebase/app-check",nS="@firebase/auth",iS="@firebase/auth-compat",rS="@firebase/database",aS="@firebase/data-connect",sS="@firebase/database-compat",oS="@firebase/functions",lS="@firebase/functions-compat",uS="@firebase/installations",cS="@firebase/installations-compat",fS="@firebase/messaging",hS="@firebase/messaging-compat",dS="@firebase/performance",mS="@firebase/performance-compat",pS="@firebase/remote-config",gS="@firebase/remote-config-compat",yS="@firebase/storage",_S="@firebase/storage-compat",vS="@firebase/firestore",ES="@firebase/ai",TS="@firebase/firestore-compat",bS="firebase",AS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="[DEFAULT]",SS={[vd]:"fire-core",[ZA]:"fire-core-compat",[WA]:"fire-analytics",[JA]:"fire-analytics-compat",[eS]:"fire-app-check",[tS]:"fire-app-check-compat",[nS]:"fire-auth",[iS]:"fire-auth-compat",[rS]:"fire-rtdb",[aS]:"fire-data-connect",[sS]:"fire-rtdb-compat",[oS]:"fire-fn",[lS]:"fire-fn-compat",[uS]:"fire-iid",[cS]:"fire-iid-compat",[fS]:"fire-fcm",[hS]:"fire-fcm-compat",[dS]:"fire-perf",[mS]:"fire-perf-compat",[pS]:"fire-rc",[gS]:"fire-rc-compat",[yS]:"fire-gcs",[_S]:"fire-gcs-compat",[vS]:"fire-fst",[TS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[bS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,RS=new Map,Td=new Map;function m_(r,t){try{r.container.addComponent(t)}catch(i){ki.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function yc(r){const t=r.name;if(Td.has(t))return ki.debug(`There were multiple attempts to register component ${t}.`),!1;Td.set(t,r);for(const i of gc.values())m_(i,r);for(const i of RS.values())m_(i,r);return!0}function wS(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function CS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Fv("app","Firebase",DS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=AS;function Kv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ed,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Tr.create("bad-app-name",{appName:String(l)});if(i||(i=Gv()),!i)throw Tr.create("no-options");const c=gc.get(l);if(c){if(pc(i,c.options)&&pc(s,c.config))return c;throw Tr.create("duplicate-app",{appName:l})}const h=new OA(l);for(const g of Td.values())h.addComponent(g);const m=new xS(i,s,h);return gc.set(l,m),m}function VS(r=Ed){const t=gc.get(r);if(!t&&r===Ed&&Gv())return Kv();if(!t)throw Tr.create("no-app",{appName:r});return t}function Es(r,t,i){var s;let l=(s=SS[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${t}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ki.warn(m.join(" "));return}yc(new ll(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebase-heartbeat-database",OS=1,ul="firebase-heartbeat-store";let cd=null;function $v(){return cd||(cd=QA(NS,OS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),cd}async function MS(r){try{const i=(await $v()).transaction(ul),s=await i.objectStore(ul).get(Zv(r));return await i.done,s}catch(t){if(t instanceof Os)ki.warn(t.message);else{const i=Tr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ki.warn(i.message)}}}async function p_(r,t){try{const s=(await $v()).transaction(ul,"readwrite");await s.objectStore(ul).put(t,Zv(r)),await s.done}catch(i){if(i instanceof Os)ki.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ki.warn(s.message)}}}function Zv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=1024,US=30;class PS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=g_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>US){const h=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ki.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=g_(),{heartbeatsToSend:s,unsentEntries:l}=zS(this._heartbeatsCache.heartbeats),c=mc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ki.warn(i),""}}}function g_(){return new Date().toISOString().substring(0,10)}function zS(r,t=LS){const i=[];let s=r.slice();for(const l of r){const c=i.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),y_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),y_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class kS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function y_(r){return mc(JSON.stringify({version:2,heartbeats:r})).length}function BS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r){yc(new ll("platform-logger",t=>new KA(t),"PRIVATE")),yc(new ll("heartbeat",t=>new PS(t),"PRIVATE")),Es(vd,d_,r),Es(vd,d_,"esm2017"),Es("fire-js","")}jS("");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Jv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,R){function w(){}w.prototype=R.prototype,x.D=R.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(I,M,P){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return R.prototype[M].apply(I,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,R,w){w||(w=0);var I=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)I[M]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(M=0;16>M;++M)I[M]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=x.g[0],w=x.g[1],M=x.g[2];var P=x.g[3],D=R+(P^w&(M^P))+I[0]+3614090360&4294967295;R=w+(D<<7&4294967295|D>>>25),D=P+(M^R&(w^M))+I[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(w^P&(R^w))+I[2]+606105819&4294967295,M=P+(D<<17&4294967295|D>>>15),D=w+(R^M&(P^R))+I[3]+3250441966&4294967295,w=M+(D<<22&4294967295|D>>>10),D=R+(P^w&(M^P))+I[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=P+(M^R&(w^M))+I[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(w^P&(R^w))+I[6]+2821735955&4294967295,M=P+(D<<17&4294967295|D>>>15),D=w+(R^M&(P^R))+I[7]+4249261313&4294967295,w=M+(D<<22&4294967295|D>>>10),D=R+(P^w&(M^P))+I[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=P+(M^R&(w^M))+I[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(w^P&(R^w))+I[10]+4294925233&4294967295,M=P+(D<<17&4294967295|D>>>15),D=w+(R^M&(P^R))+I[11]+2304563134&4294967295,w=M+(D<<22&4294967295|D>>>10),D=R+(P^w&(M^P))+I[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=P+(M^R&(w^M))+I[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=M+(w^P&(R^w))+I[14]+2792965006&4294967295,M=P+(D<<17&4294967295|D>>>15),D=w+(R^M&(P^R))+I[15]+1236535329&4294967295,w=M+(D<<22&4294967295|D>>>10),D=R+(M^P&(w^M))+I[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=P+(w^M&(R^w))+I[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^w&(P^R))+I[11]+643717713&4294967295,M=P+(D<<14&4294967295|D>>>18),D=w+(P^R&(M^P))+I[0]+3921069994&4294967295,w=M+(D<<20&4294967295|D>>>12),D=R+(M^P&(w^M))+I[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=P+(w^M&(R^w))+I[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^w&(P^R))+I[15]+3634488961&4294967295,M=P+(D<<14&4294967295|D>>>18),D=w+(P^R&(M^P))+I[4]+3889429448&4294967295,w=M+(D<<20&4294967295|D>>>12),D=R+(M^P&(w^M))+I[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=P+(w^M&(R^w))+I[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^w&(P^R))+I[3]+4107603335&4294967295,M=P+(D<<14&4294967295|D>>>18),D=w+(P^R&(M^P))+I[8]+1163531501&4294967295,w=M+(D<<20&4294967295|D>>>12),D=R+(M^P&(w^M))+I[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=P+(w^M&(R^w))+I[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=M+(R^w&(P^R))+I[7]+1735328473&4294967295,M=P+(D<<14&4294967295|D>>>18),D=w+(P^R&(M^P))+I[12]+2368359562&4294967295,w=M+(D<<20&4294967295|D>>>12),D=R+(w^M^P)+I[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=P+(R^w^M)+I[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^w)+I[11]+1839030562&4294967295,M=P+(D<<16&4294967295|D>>>16),D=w+(M^P^R)+I[14]+4259657740&4294967295,w=M+(D<<23&4294967295|D>>>9),D=R+(w^M^P)+I[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=P+(R^w^M)+I[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^w)+I[7]+4139469664&4294967295,M=P+(D<<16&4294967295|D>>>16),D=w+(M^P^R)+I[10]+3200236656&4294967295,w=M+(D<<23&4294967295|D>>>9),D=R+(w^M^P)+I[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=P+(R^w^M)+I[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^w)+I[3]+3572445317&4294967295,M=P+(D<<16&4294967295|D>>>16),D=w+(M^P^R)+I[6]+76029189&4294967295,w=M+(D<<23&4294967295|D>>>9),D=R+(w^M^P)+I[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=P+(R^w^M)+I[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=M+(P^R^w)+I[15]+530742520&4294967295,M=P+(D<<16&4294967295|D>>>16),D=w+(M^P^R)+I[2]+3299628645&4294967295,w=M+(D<<23&4294967295|D>>>9),D=R+(M^(w|~P))+I[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=P+(w^(R|~M))+I[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~w))+I[14]+2878612391&4294967295,M=P+(D<<15&4294967295|D>>>17),D=w+(P^(M|~R))+I[5]+4237533241&4294967295,w=M+(D<<21&4294967295|D>>>11),D=R+(M^(w|~P))+I[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=P+(w^(R|~M))+I[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~w))+I[10]+4293915773&4294967295,M=P+(D<<15&4294967295|D>>>17),D=w+(P^(M|~R))+I[1]+2240044497&4294967295,w=M+(D<<21&4294967295|D>>>11),D=R+(M^(w|~P))+I[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=P+(w^(R|~M))+I[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~w))+I[6]+2734768916&4294967295,M=P+(D<<15&4294967295|D>>>17),D=w+(P^(M|~R))+I[13]+1309151649&4294967295,w=M+(D<<21&4294967295|D>>>11),D=R+(M^(w|~P))+I[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=P+(w^(R|~M))+I[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=M+(R^(P|~w))+I[2]+718787259&4294967295,M=P+(D<<15&4294967295|D>>>17),D=w+(P^(M|~R))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var w=R-this.blockSize,I=this.B,M=this.h,P=0;P<R;){if(M==0)for(;P<=w;)l(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(I[M++]=x.charCodeAt(P++),M==this.blockSize){l(this,I),M=0;break}}else for(;P<R;)if(I[M++]=x[P++],M==this.blockSize){l(this,I),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var w=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=w&255,w/=256;for(this.u(x),x=Array(16),R=w=0;4>R;++R)for(var I=0;32>I;I+=8)x[w++]=this.g[R]>>>I&255;return x};function c(x,R){var w=m;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=R(x)}function h(x,R){this.h=R;for(var w=[],I=!0,M=x.length-1;0<=M;M--){var P=x[M]|0;I&&P==R||(w[M]=P,I=!1)}this.g=w}var m={};function g(x){return-128<=x&&128>x?c(x,function(R){return new h([R|0],0>R?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return U(y(-x));for(var R=[],w=1,I=0;x>=w;I++)R[I]=x/w|0,w*=4294967296;return new h(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return U(E(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),I=A,M=0;M<x.length;M+=8){var P=Math.min(8,x.length-M),D=parseInt(x.substring(M,M+P),R);8>P?(P=y(Math.pow(R,P)),I=I.j(P).add(y(D))):(I=I.j(w),I=I.add(y(D)))}return I}var A=g(0),S=g(1),L=g(16777216);r=h.prototype,r.m=function(){if(F(this))return-U(this).m();for(var x=0,R=1,w=0;w<this.g.length;w++){var I=this.i(w);x+=(0<=I?I:4294967296+I)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N(this))return"0";if(F(this))return"-"+U(this).toString(x);for(var R=y(Math.pow(x,6)),w=this,I="";;){var M=rt(w,R).g;w=Y(w,M.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=M,N(w))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function N(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function F(x){return x.h==-1}r.l=function(x){return x=Y(this,x),F(x)?-1:N(x)?0:1};function U(x){for(var R=x.g.length,w=[],I=0;I<R;I++)w[I]=~x.g[I];return new h(w,~x.h).add(S)}r.abs=function(){return F(this)?U(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],I=0,M=0;M<=R;M++){var P=I+(this.i(M)&65535)+(x.i(M)&65535),D=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);I=D>>>16,P&=65535,D&=65535,w[M]=D<<16|P}return new h(w,w[w.length-1]&-2147483648?-1:0)};function Y(x,R){return x.add(U(R))}r.j=function(x){if(N(this)||N(x))return A;if(F(this))return F(x)?U(this).j(U(x)):U(U(this).j(x));if(F(x))return U(this.j(U(x)));if(0>this.l(L)&&0>x.l(L))return y(this.m()*x.m());for(var R=this.g.length+x.g.length,w=[],I=0;I<2*R;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<x.g.length;M++){var P=this.i(I)>>>16,D=this.i(I)&65535,be=x.i(M)>>>16,ee=x.i(M)&65535;w[2*I+2*M]+=D*ee,K(w,2*I+2*M),w[2*I+2*M+1]+=P*ee,K(w,2*I+2*M+1),w[2*I+2*M+1]+=D*be,K(w,2*I+2*M+1),w[2*I+2*M+2]+=P*be,K(w,2*I+2*M+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new h(w,0)};function K(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Q(x,R){this.g=x,this.h=R}function rt(x,R){if(N(R))throw Error("division by zero");if(N(x))return new Q(A,A);if(F(x))return R=rt(U(x),R),new Q(U(R.g),U(R.h));if(F(R))return R=rt(x,U(R)),new Q(U(R.g),R.h);if(30<x.g.length){if(F(x)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,I=R;0>=I.l(x);)w=lt(w),I=lt(I);var M=gt(w,1),P=gt(I,1);for(I=gt(I,2),w=gt(w,2);!N(I);){var D=P.add(I);0>=D.l(x)&&(M=M.add(w),P=D),I=gt(I,1),w=gt(w,1)}return R=Y(x,M.j(R)),new Q(M,R)}for(M=A;0<=x.l(R);){for(w=Math.max(1,Math.floor(x.m()/R.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=y(w),D=P.j(R);F(D)||0<D.l(x);)w-=I,P=y(w),D=P.j(R);N(P)&&(P=S),M=M.add(P),x=Y(x,D)}return new Q(M,x)}r.A=function(x){return rt(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)&x.i(I);return new h(w,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)|x.i(I);return new h(w,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)^x.i(I);return new h(w,this.h^x.h)};function lt(x){for(var R=x.g.length+1,w=[],I=0;I<R;I++)w[I]=x.i(I)<<1|x.i(I-1)>>>31;return new h(w,x.h)}function gt(x,R){var w=R>>5;R%=32;for(var I=x.g.length-w,M=[],P=0;P<I;P++)M[P]=0<R?x.i(P+w)>>>R|x.i(P+w+1)<<32-R:x.i(P+w);return new h(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Jv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,br=h}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wv,Jo,t0,ac,bd,e0,n0,i0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,p){if(p)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var k=u[b];if(!(k in _))break t;_=_[k]}u=u[u.length-1],b=_[u],p=p(b),p!=b&&p!=null&&t(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,b=!1,k={next:function(){if(!b&&_<u.length){var X=_++;return{value:p(X,u[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function A(u,p,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),u.apply(p,k)}}return function(){return u.apply(p,arguments)}}function S(u,p,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function L(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function N(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,k,X){for(var st=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)st[Ot-2]=arguments[Ot];return p.prototype[k].apply(b,st)}}function F(u){const p=u.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=u[b];return _}return[]}function U(u,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const k=u.length||0,X=b.length||0;u.length=k+X;for(let st=0;st<X;st++)u[k+st]=b[st]}else u.push(b)}}class Y{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function rt(u){return rt[" "](u),u}rt[" "]=function(){};var lt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function gt(u,p,_){for(const b in u)p.call(_,u[b],b,u)}function x(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function R(u){const p={};for(const _ in u)p[_]=u[_];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,p){let _,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(_ in b)u[_]=b[_];for(let X=0;X<w.length;X++)_=w[X],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function M(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function P(u){m.setTimeout(()=>{throw u},0)}function D(){var u=Bt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class be{constructor(){this.h=this.g=null}add(p,_){const b=ee.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new Y(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,dt=!1,Bt=new be,V=()=>{const u=m.Promise.resolve(void 0);ot=()=>{u.then(it)}};var it=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){P(_)}var p=ee;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}dt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function Dt(u,p){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(lt){t:{try{rt(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}N(Dt,at);var bt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function kn(u,p,_,b,k){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=k,this.key=++Wt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,p,_,b,k){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var st=Vr(u,p,b,k);return-1<st?(p=u[st],_||(p.fa=!1)):(p=new kn(p,this.src,X,!!b,k),p.fa=_,u.push(p)),p};function Ir(u,p){var _=p.type;if(_ in u.g){var b=u.g[_],k=Array.prototype.indexOf.call(b,p,void 0),X;(X=0<=k)&&Array.prototype.splice.call(b,k,1),X&&(Hi(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Vr(u,p,_,b){for(var k=0;k<u.length;++k){var X=u[k];if(!X.da&&X.listener==p&&X.capture==!!_&&X.ha==b)return k}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),ks={};function Cl(u,p,_,b,k){if(Array.isArray(p)){for(var X=0;X<p.length;X++)Cl(u,p[X],_,b,k);return null}return _=Dl(_),u&&u[xe]?u.K(p,_,y(b)?!!b.capture:!1,k):gn(u,p,_,!1,b,k)}function gn(u,p,_,b,k,X){if(!p)throw Error("Invalid event type");var st=y(k)?!!k.capture:!!k,Ot=Ra(u);if(Ot||(u[Nr]=Ot=new ui(u)),_=Ot.add(p,_,b,st,X),_.proxy)return _;if(b=Jc(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)yt||(k=st),k===void 0&&(k=!1),u.addEventListener(p.toString(),b,k);else if(u.attachEvent)u.attachEvent(Or(p.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Jc(){function u(_){return p.call(u.src,u.listener,_)}const p=Wc;return u}function Bs(u,p,_,b,k){if(Array.isArray(p))for(var X=0;X<p.length;X++)Bs(u,p[X],_,b,k);else b=y(b)?!!b.capture:!!b,_=Dl(_),u&&u[xe]?(u=u.i,p=String(p).toString(),p in u.g&&(X=u.g[p],_=Vr(X,_,b,k),-1<_&&(Hi(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[p],u.h--)))):u&&(u=Ra(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Vr(p,_,b,k)),(_=-1<u?p[u]:null)&&Sa(_))}function Sa(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[xe])Ir(p.i,u);else{var _=u.type,b=u.proxy;p.removeEventListener?p.removeEventListener(_,b,u.capture):p.detachEvent?p.detachEvent(Or(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=Ra(p))?(Ir(_,u),_.h==0&&(_.src=null,p[Nr]=null)):Hi(u)}}}function Or(u){return u in ks?ks[u]:ks[u]="on"+u}function Wc(u,p){if(u.da)u=!0;else{p=new Dt(p,this);var _=u.listener,b=u.ha||u.src;u.fa&&Sa(u),u=_.call(b,p)}return u}function Ra(u){return u=u[Nr],u instanceof ui?u:null}var js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dl(u){return typeof u=="function"?u:(u[js]||(u[js]=function(p){return u.handleEvent(p)}),u[js])}function le(){ut.call(this),this.i=new ui(this),this.M=this,this.F=null}N(le,ut),le.prototype[xe]=!0,le.prototype.removeEventListener=function(u,p,_,b){Bs(this,u,p,_,b)};function Gt(u,p){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=p.type||p,typeof p=="string")p=new at(p,u);else if(p instanceof at)p.target=p.target||u;else{var k=p;p=new at(b,u),I(p,k)}if(k=!0,_)for(var X=_.length-1;0<=X;X--){var st=p.g=_[X];k=sn(st,b,!0,p)&&k}if(st=p.g=u,k=sn(st,b,!0,p)&&k,k=sn(st,b,!1,p)&&k,_)for(X=0;X<_.length;X++)st=p.g=_[X],k=sn(st,b,!1,p)&&k}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],b=0;b<_.length;b++)Hi(_[b]);delete u.g[p],u.h--}}this.F=null},le.prototype.K=function(u,p,_,b){return this.i.add(String(u),p,!1,_,b)},le.prototype.L=function(u,p,_,b){return this.i.add(String(u),p,!0,_,b)};function sn(u,p,_,b){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,X=0;X<p.length;++X){var st=p[X];if(st&&!st.da&&st.capture==_){var Ot=st.listener,Se=st.ha||st.src;st.fa&&Ir(u.i,st),k=Ot.call(Se,b)!==!1&&k}}return k&&!b.defaultPrevented}function Ge(u,p,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function xl(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,xl(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class tf extends ut{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){ut.call(this),this.h=u,this.g={}}N(Mr,ut);var Lr=[];function Ur(u){gt(u.g,function(p,_){this.g.hasOwnProperty(_)&&Sa(p)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=m.JSON.stringify,wa=m.JSON.parse,Pr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function qs(){}qs.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function Gs(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){at.call(this,"d")}N(fi,at);function Fs(){at.call(this,"c")}N(Fs,at);var Bn={},Qs=null;function Gi(){return Qs=Qs||new le}Bn.La="serverreachability";function Ca(u){at.call(this,Bn.La,u)}N(Ca,at);function Fi(u){const p=Gi();Gt(p,new Ca(p))}Bn.STAT_EVENT="statevent";function Il(u,p){at.call(this,Bn.STAT_EVENT,u),this.stat=p}N(Il,at);function ie(u){const p=Gi();Gt(p,new Il(p,u))}Bn.Ma="timingevent";function Ae(u,p){at.call(this,Bn.Ma,u),this.size=p}N(Ae,at);function pe(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Ys(u,p,_,b,k,X){u.info(function(){if(u.g)if(X)for(var st="",Ot=X.split("&"),Se=0;Se<Ot.length;Se++){var Mt=Ot[Se].split("=");if(1<Mt.length){var Ve=Mt[0];Mt=Mt[1];var Re=Ve.split("_");st=2<=Re.length&&Re[1]=="type"?st+(Ve+"="+Mt+"&"):st+(Ve+"=redacted&")}}else st=null;else st=X;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+p+`
`+_+`
`+st})}function ef(u,p,_,b,k,X,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+p+`
`+_+`
`+X+" "+st})}function Qi(u,p,_,b){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+zr(u,_)+(b?" "+b:"")})}function Vl(u,p){u.info(function(){return"TIMEOUT: "+p})}yn.prototype.info=function(){};function zr(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var X=k[0];if(X!="noop"&&X!="stop"&&X!="close")for(var st=1;st<k.length;st++)k[st]=""}}}}return In(_)}catch{return p}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function qn(){}N(qn,qs),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},jn=new qn;function $e(u,p,_,b){this.j=u,this.i=p,this.l=_,this.R=b||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Xs={},Da={};function Vn(u,p,_){u.L=1,u.v=Hr(on(p)),u.m=_,u.P=!0,di(u,null)}function di(u,p){u.F=Date.now(),kr(u),u.A=on(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),to(_.i,"t",b),u.C=0,_=u.j.J,u.h=new fe,u.g=Yl(u.j,_?p:null,!u.m),0<u.O&&(u.M=new tf(S(u.Y,u,u.g),u.O)),p=u.U,_=u.g,b=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Lr[0]=k.toString()),k=Lr);for(var X=0;X<k.length;X++){var st=Cl(_,k[X],b||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Fi(),Ys(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const p=this.M;p&&Tn(u)==3?p.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Re=Tn(this.g);var p=this.g.Ba();const Ti=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||kl(this.g)))){this.J||Re!=4||p==7||(p==8||0>=Ti?Fi(3):Fi(2)),Xi(this);var _=this.g.Z();this.X=_;e:if(Nl(this)){var b=kl(this.g);u="";var k=b.length,X=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Hn(this);var st="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,u+=this.h.i.decode(b[p],{stream:!(X&&p==k-1)});b.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,ef(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Se=this.g;if((Ot=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)Qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,_);else{this.o=!1,this.s=3,ie(12),Ue(this),Hn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<st.length;)if(Pe=Ol(this,st),Pe==Da){Re==4&&(this.s=4,ie(14),_=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==Xs){this.s=4,ie(15),Qi(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else Qi(this.i,this.l,Pe,null),Br(this,Pe);if(Nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||st.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)Qi(this.i,this.l,st,"[Invalid Chunked Response]"),Ue(this),Hn(this);else if(0<st.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Zr(Ve),Ve.M=!0,ie(11))}}else Qi(this.i,this.l,st,null),Br(this,st);Re==4&&Ue(this),this.o&&!this.J&&(Re==4?Gl(this.j,this):(this.o=!1,kr(this)))}else of(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Ue(this),Hn(this)}}}catch{}finally{}};function Nl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ol(u,p){var _=u.C,b=p.indexOf(`
`,_);return b==-1?Da:(_=Number(p.substring(_,b)),isNaN(_)?Xs:(b+=1,b+_>p.length?Da:(p=p.slice(b,b+_),u.C=b+_,p)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function kr(u){u.S=Date.now()+u.I,Ml(u,u.I)}function Ml(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(S(u.ba,u),p)}function Xi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Vl(this.i,this.A),this.L!=2&&(Fi(),ie(17)),Ue(this),this.s=2,Hn(this)):Ml(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Gl(u.j,u)}function Ue(u){Xi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ur(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Br(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||Ks(_.h,u))){if(!u.K&&Ks(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ba(_),za(_);else break t;ao(_),ie(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(S(_.Za,_),6e3));if(1>=Ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&Ba(_),!K(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let Mt=k[p];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ve=Mt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Re=Mt[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Ti=Mt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(b=1.5*Ti,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Pe=u.g;if(Pe){const $n=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var X=b.h;X.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Va(X,X.h),X.h=null))}if(b.D){const oo=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(b.ya=oo,Yt(b.I,b.D,oo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=u;if(b.qa=Ql(b,b.J?b.ia:null,b.W),st.K){Ze(b.h,st);var Ot=st,Se=b.L;Se&&(Ot.I=Se),Ot.B&&(Xi(Ot),kr(Ot)),b.g=st}else ql(b);0<_.i.length&&ka(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ei(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ei(_,7):io(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Fi(4)}catch{}}var Ll=class{constructor(u,p){this.g=u,this.map=p}};function mi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ia(u){return u.h?1:u.g?u.g.size:0}function Ks(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Va(u,p){u.g?u.g.add(p):u.h=p}function Ze(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}mi.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $s(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return F(u.i)}function nf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,b=0;b<_;b++)p.push(u[b]);return p}p=[],_=0;for(b in u)p[_++]=u[b];return p}function Na(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const b in u)p[_++]=b;return p}}}function Zs(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Na(u),b=nf(u),k=b.length,X=0;X<k;X++)p.call(void 0,b[X],_&&_[X],u)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rf(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),k=null;if(0<=b){var X=u[_].substring(0,b);k=u[_].substring(b+1)}else X=u[_];p(X,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,qr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var p=u.i,_=new gi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),pi(this,_),this.m=u.m}else u&&(p=String(u).match(jr))?(this.h=!1,qr(this,p[1]||"",!0),this.o=_n(p[2]||""),this.g=_n(p[3]||"",!0),Ki(this,p[4]),this.l=_n(p[5]||"",!0),pi(this,p[6]||"",!0),this.m=_n(p[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}ge.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Gr(p,Js,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Gr(p,Js,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Gr(_,_.charAt(0)=="/"?af:Ws,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Gr(_,Oa)),u.join("")};function on(u){return new ge(u)}function qr(u,p,_){u.j=_?_n(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function pi(u,p,_){p instanceof gi?(u.i=p,Pl(u.i,u.h)):(_||(p=Gr(p,sf)),u.i=new gi(p,u.h))}function Yt(u,p,_){u.i.set(p,_)}function Hr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Ul),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,Ws=/[#\?:]/g,af=/[#\?]/g,sf=/[#\?@]/g,Oa=/#/g;function gi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&rf(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=gi.prototype,r.add=function(u,p){vn(this),this.i=null,u=Gn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function yi(u,p){vn(u),p=Gn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function _i(u,p){return vn(u),p=Gn(u,p),u.g.has(p)}r.forEach=function(u,p){vn(this),this.g.forEach(function(_,b){_.forEach(function(k){u.call(p,k,b,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const k=u[b];for(let X=0;X<k.length;X++)_.push(p[b])}return _},r.V=function(u){vn(this);let p=[];if(typeof u=="string")_i(this,u)&&(p=p.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return vn(this),this.i=null,u=Gn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function to(u,p,_){yi(u,p),0<_.length&&(u.i=null,u.g.set(Gn(u,p),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const X=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var k=X;st[b]!==""&&(k+="="+encodeURIComponent(String(st[b]))),u.push(k)}}return this.i=u.join("&")};function Gn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Pl(u,p){p&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,b){var k=b.toLowerCase();b!=k&&(yi(this,b),to(this,k,_))},u)),u.j=p}function Fr(u,p){const _=new yn;if(m.Image){const b=new Image;b.onload=L(En,_,"TestLoadImage: loaded",!0,p,b),b.onerror=L(En,_,"TestLoadImage: error",!1,p,b),b.onabort=L(En,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=L(En,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else p(!1)}function Nn(u,p){const _=new yn,b=new AbortController,k=setTimeout(()=>{b.abort(),En(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:b.signal}).then(X=>{clearTimeout(k),X.ok?En(_,"TestPingServer: ok",!0,p):En(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),En(_,"TestPingServer: error",!1,p)})}function En(u,p,_,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(_)}catch{}}function Qr(){this.g=new Pr}function Fn(u,p,_){const b=_||"";try{Zs(u,function(k,X){let st=k;y(k)&&(st=In(k)),p.push(b+X+"="+encodeURIComponent(st))})}catch(k){throw p.push(b+"type="+encodeURIComponent("_badmap")),k}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}N($i,qs),$i.prototype.g=function(){return new vi(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function vi(u,p){le.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(vi,le),r=vi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Qn(this):Yn(this),this.readyState==3&&eo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function no(u){let p="";return gt(u,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Ie(u,p,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=no(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Yt(u,p,_))}function qt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qt,le);var Ma=/^https?$/i,Yr=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Hs(this.o):Hs(jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(X){zl(this,X);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)_.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),k=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Yr,p,void 0))||b||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,st]of _)this.g.setRequestHeader(X,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xr(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){zl(this,X)}};function zl(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,La(u),Xn(u)}function La(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},r.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(Gt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var b;if(b=st===0){var k=String(u.D).match(jr)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),b=!Ma.test(k?k.toLowerCase():"")}_=b}if(_)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var X=2<Tn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",La(u)}}finally{Xn(u)}}}}function Xn(u,p){if(u.g){Xr(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Gt(u,"ready");try{_.onreadystatechange=b}catch{}}}function Xr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),wa(p)}};function kl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function of(u){const p={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(K(u[b]))continue;var _=M(u[b]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=p[k]||[];p[k]=X,X.push(_)}x(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Pa(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pa.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,b){ie(0),this.W=u,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Ql(this,null,this.W),ka(this)};function io(u){if(Bl(u),u.G==3){var p=u.U++,_=on(u.I);if(Yt(_,"SID",u.K),Yt(_,"RID",p),Yt(_,"TYPE","terminate"),$r(u,_),p=new $e(u,u.j,p),p.L=2,p.v=Hr(on(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Yl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),kr(p)}Fl(u)}function za(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function Bl(u){za(u),u.u&&(m.clearTimeout(u.u),u.u=null),Ba(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ka(u){if(!xa(u.h)&&!u.s){u.s=!0;var p=u.Ga;ot||V(),dt||(ot(),dt=!0),Bt.add(p,u),u.B=0}}function lf(u,p){return Ia(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(S(u.Ga,u,p),so(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new $e(this,this.j,u);let X=this.o;if(this.S&&(X?(X=R(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(k.H=X,X=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=jl(this,k,p),_=on(this.I),Yt(_,"RID",u),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),$r(this,_),X&&(this.O?p="headers="+encodeURIComponent(String(no(X)))+"&"+p:this.m&&Ie(_,this.m,X)),Va(this.h,k),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",p),Yt(_,"SID","null"),k.T=!0,Vn(k,_,null)):Vn(k,_,p),this.G=2}}else this.G==3&&(u?ro(this,u):this.i.length==0||xa(this.h)||ro(this))};function ro(u,p){var _;p?_=p.l:_=u.U++;const b=on(u.I);Yt(b,"SID",u.K),Yt(b,"RID",_),Yt(b,"AID",u.T),$r(u,b),u.m&&u.o&&Ie(b,u.m,u.o),_=new $e(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=jl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,_),Vn(_,b,p)}function $r(u,p){u.H&&gt(u.H,function(_,b){Yt(p,b,_)}),u.l&&Zs({},function(_,b){Yt(p,b,_)})}function jl(u,p,_){_=Math.min(u.i.length,_);var b=u.l?S(u.l.Na,u.l,u):null;t:{var k=u.i;let X=-1;for(;;){const st=["count="+_];X==-1?0<_?(X=k[0].g,st.push("ofs="+X)):X=0:st.push("ofs="+X);let Ot=!0;for(let Se=0;Se<_;Se++){let Mt=k[Se].g;const Ve=k[Se].map;if(Mt-=X,0>Mt)X=Math.max(0,k[Se].g-100),Ot=!1;else try{Fn(Ve,st,"req"+Mt+"_")}catch{b&&b(Ve)}}if(Ot){b=st.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,b}function ql(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ot||V(),dt||(ot(),dt=!0),Bt.add(p,u),u.v=0}}function ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(S(u.Fa,u),so(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Hl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),za(this),Hl(this))};function Zr(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Hl(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=on(u.qa);Yt(p,"RID","rpc"),Yt(p,"SID",u.K),Yt(p,"AID",u.T),Yt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(p,"TO",u.ja),Yt(p,"TYPE","xmlhttp"),$r(u,p),u.m&&u.o&&Ie(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hr(on(p)),_.m=null,_.P=!0,di(_,u)}r.Za=function(){this.C!=null&&(this.C=null,za(this),ao(this),ie(19))};function Ba(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Gl(u,p){var _=null;if(u.g==p){Ba(u),Zr(u),u.g=null;var b=2}else if(Ks(u.h,p))_=p.D,Ze(u.h,p),b=1;else return;if(u.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=u.B;b=Gi(),Gt(b,new Ae(b,_)),ka(u)}else ql(u);else if(k=p.s,k==3||k==0&&0<p.X||!(b==1&&lf(u,p)||b==2&&ao(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),k){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function so(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Ei(u,p){if(u.j.info("Error code "+p),p==2){var _=S(u.fb,u),b=u.Xa;const k=!b;b=new ge(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||qr(b,"https"),Hr(b),k?Fr(b.toString(),_):Nn(b.toString(),_)}else ie(2);u.G=0,u.l&&u.l.sa(p),Fl(u),Bl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Fl(u){if(u.G=0,u.ka=[],u.l){const p=$s(u.h);(p.length!=0||u.i.length!=0)&&(U(u.ka,p),U(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Ql(u,p,_){var b=_ instanceof ge?on(_):new ge(_);if(b.g!="")p&&(b.g=p+"."+b.g),Ki(b,b.s);else{var k=m.location;b=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var X=new ge(null);b&&qr(X,b),p&&(X.g=p),k&&Ki(X,k),_&&(X.l=_),b=X}return _=u.D,p=u.ya,_&&p&&Yt(b,_,p),Yt(b,"VER",u.la),$r(u,b),b}function Yl(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new qt(new $i({eb:_})):new qt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}r=Xl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ja(){}ja.prototype.g=function(u,p){return new Je(u,p)};function Je(u,p){le.call(this),this.g=new Pa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!K(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!K(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Kn(this)}N(Je,le),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){io(this.g)},Je.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);p.i.push(new Ll(p.Ya++,u)),p.G==3&&ka(p)},Je.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,Je.aa.N.call(this)};function Kl(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}N(Kl,fi);function $l(){Fs.call(this),this.status=1}N($l,Fs);function Kn(u){this.g=u}N(Kn,Xl),Kn.prototype.ua=function(){Gt(this.g,"a")},Kn.prototype.ta=function(u){Gt(this.g,new Kl(u))},Kn.prototype.sa=function(u){Gt(this.g,new $l)},Kn.prototype.ra=function(){Gt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,i0=function(){return new ja},n0=function(){return Gi()},e0=Bn,bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,ac=Yi,hi.COMPLETE="complete",t0=hi,Gs.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",le.prototype.listen=le.prototype.K,Jo=Gs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Wv=qt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const v_="@firebase/firestore",E_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Qv("@firebase/firestore");function gs(){return ga.logLevel}function ct(r,...t){if(ga.logLevel<=Pt.DEBUG){const i=t.map(tm);ga.debug(`Firestore (${Ms}): ${r}`,...i)}}function Bi(r,...t){if(ga.logLevel<=Pt.ERROR){const i=t.map(tm);ga.error(`Firestore (${Ms}): ${r}`,...i)}}function As(r,...t){if(ga.logLevel<=Pt.WARN){const i=t.map(tm);ga.warn(`Firestore (${Ms}): ${r}`,...i)}}function tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,r0(r,s,i)}function r0(r,t,i){let s=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Bi(s),new Error(s)}function Ht(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||r0(t,l,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Xe.UNAUTHENTICATED))}shutdown(){}}class HS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class GS{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ui,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ui)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new a0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class FS{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QS{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new FS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,CS(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=XS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Ad(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Ct(s,l);{const c=s0(),h=KS(c.encode(b_(r,i)),c.encode(b_(t,i)));return h!==0?h:Ct(s,l)}}i+=s>65535?2:1}return Ct(r.length,t.length)}function b_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function KS(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Ct(r[i],t[i]);return Ct(r.length,t.length)}function Ss(r,t,i){return r.length===t.length&&r.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=-62135596800,S_=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*S_);return new Te(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<A_)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-A_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Te(0,0))}static max(){return new At(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="__name__";class ni{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ct(t.length,i.length)}static compareSegments(t,i){const s=ni.isNumericId(t),l=ni.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ni.extractNumericId(t).compare(ni.extractNumericId(i)):Ad(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return br.fromString(t.substring(4,t.length-2))}}class ne extends ni{construct(t,i,s){return new ne(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new ne(i)}static emptyPath(){return new ne([])}}const $S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ni{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return $S.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new qe([R_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ft(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(s+=m,l++):(c(),l++)}if(c(),h)throw new ft(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function ZS(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new Te(i+1,0):new Te(i,s));return new Sr(l,pt.empty(),t)}function JS(r){return new Sr(r.readTime,r.key,cl)}class Sr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Sr(At.min(),pt.empty(),cl)}static max(){return new Sr(At.max(),pt.empty(),cl)}}function WS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==t2)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new et((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):et.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):et.reject(i)}static resolve(t){return new et((i,s)=>{i(t)})}static reject(t){return new et((i,s)=>{s(t)})}static waitFor(t){return new et((i,s)=>{let l=0,c=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&i()},g=>s(g))}),h=!0,c===l&&i()})}static or(t){let i=et.resolve(!1);for(const s of t)i=i.next(l=>l?et.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new et((s,l)=>{const c=t.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(t[y]).next(E=>{h[y]=E,++m,m===c&&s(h)},E=>l(E))}})}static doWhile(t,i){return new et((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function n2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Us(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Mc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=-1;function Lc(r){return r==null}function _c(r){return r===0&&1/r==-1/0}function i2(r){return typeof r=="number"&&Number.isInteger(r)&&!_c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="";function r2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=w_(t)),t=a2(r.get(i),t);return w_(t)}function a2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case l0:i+="";break;default:i+=c}}return i}function w_(r){return r+l0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ea(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function u0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wu(this.root,t,this.comparator,!0)}}class Wu{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??je.RED,this.left=l??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new je(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(t){return new D_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class D_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Un([])}unionWith(t){let i=new De(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Un(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ss(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new c0("Invalid base64 string: "+c):c}}(t);return new He(i)}static fromUint8Array(t){const i=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const s2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=s2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",h0="__type__",d0="__previous_value__",m0="__local_write_time__";function nm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[h0])===null||i===void 0?void 0:i.stringValue)===f0}function Uc(r){const t=r.mapValue.fields[d0];return nm(t)?Uc(t):t}function fl(r){const t=Rr(r.mapValue.fields[m0].timestampValue);return new Te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,i,s,l,c,h,m,g,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const vc="(default)";class hl{constructor(t,i){this.projectId=t,this.database=i||vc}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===vc}isEqual(t){return t instanceof hl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__type__",l2="__max__",tc={mapValue:{}},g0="__vector__",Ec="value";function Cr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nm(r)?4:c2(r)?9007199254740991:u2(r)?10:11:Et(28295,{value:r})}function si(r,t){if(r===t)return!0;const i=Cr(r);if(i!==Cr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return fl(r).isEqual(fl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Rr(l.timestampValue),m=Rr(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return wr(l.bytesValue).isEqual(wr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=me(l.doubleValue),m=me(c.doubleValue);return h===m?_c(h)===_c(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return Ss(r.arrayValue.values||[],t.arrayValue.values||[],si);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(C_(h)!==C_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!si(h[g],m[g])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function dl(r,t){return(r.values||[]).find(i=>si(i,t))!==void 0}function Rs(r,t){if(r===t)return 0;const i=Cr(r),s=Cr(t);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,h){const m=me(c.integerValue||c.doubleValue),g=me(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return x_(r.timestampValue,t.timestampValue);case 4:return x_(fl(r),fl(t));case 5:return Ad(r.stringValue,t.stringValue);case 6:return function(c,h){const m=wr(c),g=wr(h);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ct(m[y],g[y]);if(E!==0)return E}return Ct(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,h){const m=Ct(me(c.latitude),me(h.latitude));return m!==0?m:Ct(me(c.longitude),me(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return I_(r.arrayValue,t.arrayValue);case 10:return function(c,h){var m,g,y,E;const A=c.fields||{},S=h.fields||{},L=(m=A[Ec])===null||m===void 0?void 0:m.arrayValue,N=(g=S[Ec])===null||g===void 0?void 0:g.arrayValue,F=Ct(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:I_(L,N)}(r.mapValue,t.mapValue);case 11:return function(c,h){if(c===tc.mapValue&&h===tc.mapValue)return 0;if(c===tc.mapValue)return 1;if(h===tc.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const S=Ad(g[A],E[A]);if(S!==0)return S;const L=Rs(m[g[A]],y[E[A]]);if(L!==0)return L}return Ct(g.length,E.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:i})}}function x_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const i=Rr(r),s=Rr(t),l=Ct(i.seconds,s.seconds);return l!==0?l:Ct(i.nanos,s.nanos)}function I_(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Rs(i[l],s[l]);if(c)return c}return Ct(i.length,s.length)}function ws(r){return Sd(r)}function Sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Rr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return wr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Sd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const h of s)c?c=!1:l+=",",l+=`${h}:${Sd(i.fields[h])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function sc(r){switch(Cr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uc(r);return t?16+sc(t):16;case 5:return 2*r.stringValue.length;case 6:return wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+sc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ea(s.fields,(c,h)=>{l+=c.length+sc(h)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function V_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Rd(r){return!!r&&"integerValue"in r}function im(r){return!!r&&"arrayValue"in r}function N_(r){return!!r&&"nullValue"in r}function O_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oc(r){return!!r&&"mapValue"in r}function u2(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[p0])===null||i===void 0?void 0:i.stringValue)===g0}function il(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ea(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=il(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=il(r.arrayValue.values[i]);return t}return Object.assign({},r)}function c2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===l2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=il(i)}setAll(t){let i=qe.emptyPath(),s={},l=[];t.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=m.popLast()}h?s[m.lastSegment()]=il(h):l.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ea(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new xn(il(this.value))}}function y0(r){const t=[];return Ea(r.fields,(i,s)=>{const l=new qe([i]);if(oc(s)){const c=y0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const h of c)t.push(l.child(h))}else t.push(l)}),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,l,c,h,m){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ke(t,1,i,At.min(),s,l,0)}static newNoDocument(t,i){return new Ke(t,2,i,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i){this.position=t,this.inclusive=i}}function M_(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],h=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(h.referenceValue),i.key):s=Rs(h,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function L_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!si(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function f2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class Ee extends _0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new d2(t,i,s):i==="array-contains"?new g2(t,s):i==="in"?new y2(t,s):i==="not-in"?new _2(t,s):i==="array-contains-any"?new v2(t,s):new Ee(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new m2(t,s):new p2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Rs(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Rs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends _0{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new zn(t,i)}matches(t){return v0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function v0(r){return r.op==="and"}function E0(r){return h2(r)&&v0(r)}function h2(r){for(const t of r.filters)if(t instanceof zn)return!1;return!0}function wd(r){if(r instanceof Ee)return r.field.canonicalString()+r.op.toString()+ws(r.value);if(E0(r))return r.filters.map(t=>wd(t)).join(",");{const t=r.filters.map(i=>wd(i)).join(",");return`${r.op}(${t})`}}function T0(r,t){return r instanceof Ee?function(s,l){return l instanceof Ee&&s.op===l.op&&s.field.isEqual(l.field)&&si(s.value,l.value)}(r,t):r instanceof zn?function(s,l){return l instanceof zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,h,m)=>c&&T0(h,l.filters[m]),!0):!1}(r,t):void Et(19439)}function b0(r){return r instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${ws(i.value)}`}(r):r instanceof zn?function(i){return i.op.toString()+" {"+i.getFilters().map(b0).join(" ,")+"}"}(r):"Filter"}class d2 extends Ee{constructor(t,i,s){super(t,i,s),this.key=pt.fromName(s.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class m2 extends Ee{constructor(t,i){super(t,"in",i),this.keys=A0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class p2 extends Ee{constructor(t,i){super(t,"not-in",i),this.keys=A0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function A0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class g2 extends Ee{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return im(i)&&dl(i.arrayValue,this.value)}}class y2 extends Ee{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&dl(this.value.arrayValue,i)}}class _2 extends Ee{constructor(t,i){super(t,"not-in",i)}matches(t){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!dl(this.value.arrayValue,i)}}class v2 extends Ee{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!im(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,i=null,s=[],l=[],c=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.Ie=null}}function U_(r,t=null,i=[],s=[],l=null,c=null,h=null){return new E2(r,t,i,s,l,c,h)}function rm(r){const t=St(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>wd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Lc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ws(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ws(s)).join(",")),t.Ie=i}return t.Ie}function am(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!f2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!T0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L_(r.startAt,t.startAt)&&L_(r.endAt,t.endAt)}function Cd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,i=null,s=[],l=[],c=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function T2(r,t,i,s,l,c,h,m){return new El(r,t,i,s,l,c,h,m)}function sm(r){return new El(r)}function P_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function S0(r){return r.collectionGroup!==null}function rl(r){const t=St(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new De(qe.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new bc(c,s))}),i.has(qe.keyField().canonicalString())||t.Ee.push(new bc(qe.keyField(),s))}return t.Ee}function ii(r){const t=St(r);return t.de||(t.de=b2(t,rl(r))),t.de}function b2(r,t){if(r.limitType==="F")return U_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new bc(l.field,c)});const i=r.endAt?new Tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Tc(r.startAt.position,r.startAt.inclusive):null;return U_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Dd(r,t){const i=r.filters.concat([t]);return new El(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function xd(r,t,i){return new El(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Pc(r,t){return am(ii(r),ii(t))&&r.limitType===t.limitType}function R0(r){return`${rm(ii(r))}|lt:${r.limitType}`}function ys(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>b0(l)).join(", ")}]`),Lc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>ws(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>ws(l)).join(",")),`Target(${s})`}(ii(r))}; limitType=${r.limitType})`}function zc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of rl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(h,m,g){const y=M_(h,m,g);return h.inclusive?y<=0:y<0}(s.startAt,rl(s),l)||s.endAt&&!function(h,m,g){const y=M_(h,m,g);return h.inclusive?y>=0:y>0}(s.endAt,rl(s),l))}(r,t)}function A2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function w0(r){return(t,i)=>{let s=!1;for(const l of rl(r)){const c=S2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function S2(r,t,i){const s=r.field.isKeyField()?pt.comparator(t.key,i.key):function(c,h,m){const g=h.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Rs(g,y):Et(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ea(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new oe(pt.comparator);function ji(){return R2}const C0=new oe(pt.comparator);function Wo(...r){let t=C0;for(const i of r)t=t.insert(i.key,i);return t}function D0(r){let t=C0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function ma(){return al()}function x0(){return al()}function al(){return new Ta(r=>r.toString(),(r,t)=>r.isEqual(t))}const w2=new oe(pt.comparator),C2=new De(pt.comparator);function Nt(...r){let t=C2;for(const i of r)t=t.add(i);return t}const D2=new De(Ct);function x2(){return D2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(t)?"-0":t}}function I0(r){return{integerValue:""+r}}function I2(r,t){return i2(t)?I0(t):om(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function V2(r,t,i){return r instanceof Ac?function(l,c){const h={fields:{[h0]:{stringValue:f0},[m0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&nm(c)&&(c=Uc(c)),c&&(h.fields[d0]=c),{mapValue:h}}(i,t):r instanceof ml?N0(r,t):r instanceof pl?O0(r,t):function(l,c){const h=V0(l,c),m=z_(h)+z_(l.Re);return Rd(h)&&Rd(l.Re)?I0(m):om(l.serializer,m)}(r,t)}function N2(r,t,i){return r instanceof ml?N0(r,t):r instanceof pl?O0(r,t):i}function V0(r,t){return r instanceof Sc?function(s){return Rd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Ac extends kc{}class ml extends kc{constructor(t){super(),this.elements=t}}function N0(r,t){const i=M0(t);for(const s of r.elements)i.some(l=>si(l,s))||i.push(s);return{arrayValue:{values:i}}}class pl extends kc{constructor(t){super(),this.elements=t}}function O0(r,t){let i=M0(t);for(const s of r.elements)i=i.filter(l=>!si(l,s));return{arrayValue:{values:i}}}class Sc extends kc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function z_(r){return me(r.integerValue||r.doubleValue)}function M0(r){return im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function O2(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof ml&&l instanceof ml||s instanceof pl&&l instanceof pl?Ss(s.elements,l.elements,si):s instanceof Sc&&l instanceof Sc?si(s.Re,l.Re):s instanceof Ac&&l instanceof Ac}(r.transform,t.transform)}class M2{constructor(t,i){this.version=t,this.transformResults=i}}class Pi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Bc{}function L0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new P0(r.key,Pi.none()):new Tl(r.key,r.data,Pi.none());{const i=r.data,s=xn.empty();let l=new De(qe.comparator);for(let c of t.fields)if(!l.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?s.delete(c):s.set(c,h),l=l.add(c)}return new ba(r.key,s,new Un(l.toArray()),Pi.none())}}function L2(r,t,i){r instanceof Tl?function(l,c,h){const m=l.value.clone(),g=B_(l.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,i):r instanceof ba?function(l,c,h){if(!lc(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=B_(l.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(U0(l)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,t,i):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function sl(r,t,i,s){return r instanceof Tl?function(c,h,m,g){if(!lc(c.precondition,h))return m;const y=c.value.clone(),E=j_(c.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof ba?function(c,h,m,g){if(!lc(c.precondition,h))return m;const y=j_(c.fieldTransforms,g,h),E=h.data;return E.setAll(U0(c)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(r,t,i,s):function(c,h,m){return lc(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,i)}function U2(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=V0(s.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(s.field,c))}return i||null}function k_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ss(s,l,(c,h)=>O2(c,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Tl extends Bc{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ba extends Bc{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function U0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function B_(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let l=0;l<i.length;l++){const c=r[l],h=c.transform,m=t.data.field(c.field);s.set(c.field,N2(h,m,i[l]))}return s}function j_(r,t,i){const s=new Map;for(const l of r){const c=l.transform,h=i.data.field(l.field);s.set(l.field,V2(c,h,t))}return s}class P0 extends Bc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P2 extends Bc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&L2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=sl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=sl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=x0();return this.mutations.forEach(l=>{const c=t.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=i.has(l.key)?null:m;const g=L0(h,m);g!==null&&s.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Ss(this.mutations,t.mutations,(i,s)=>k_(i,s))&&Ss(this.baseMutations,t.baseMutations,(i,s)=>k_(i,s))}}class lm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return w2}();const c=t.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,s[h].version);return new lm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function j2(r){switch(r){case nt.OK:return Et(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function z0(r){if(r===void 0)return Bi("GRPC error has no .code"),nt.UNKNOWN;switch(r){case ve.OK:return nt.OK;case ve.CANCELLED:return nt.CANCELLED;case ve.UNKNOWN:return nt.UNKNOWN;case ve.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ve.INTERNAL:return nt.INTERNAL;case ve.UNAVAILABLE:return nt.UNAVAILABLE;case ve.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ve.NOT_FOUND:return nt.NOT_FOUND;case ve.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ve.ABORTED:return nt.ABORTED;case ve.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ve.DATA_LOSS:return nt.DATA_LOSS;default:return Et(39323,{code:r})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new br([4294967295,4294967295],0);function q_(r){const t=s0().encode(r),i=new Jv;return i.update(t),new Uint8Array(i.digest())}function H_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new br([i,s],0),new br([l,c],0)]}class um{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new tl(`Invalid padding: ${i}`);if(s<0)throw new tl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new tl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=br.fromNumber(this.pe)}we(t,i,s){let l=t.add(i.multiply(br.fromNumber(s)));return l.compare(q2)===1&&(l=new br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=q_(t),[s,l]=H_(i);for(let c=0;c<this.hashCount;c++){const h=this.we(s,l,c);if(!this.be(h))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),h=new um(c,l,i);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.pe===0)return;const i=q_(t),[s,l]=H_(i);for(let c=0;c<this.hashCount;c++){const h=this.we(s,l,c);this.Se(h)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,bl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new jc(At.min(),l,new oe(Ct),ji(),Nt())}}class bl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new bl(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,i,s,l){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=l}}class k0{constructor(t,i){this.targetId=t,this.Ce=i}}class B0{constructor(t,i,s=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class G_{constructor(){this.Fe=0,this.Me=F_(),this.xe=He.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Nt(),i=Nt(),s=Nt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}}),new bl(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=F_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class H2{constructor(t){this.ze=t,this.je=new Map,this.He=ji(),this.Je=ec(),this.Ye=ec(),this.Ze=new oe(Ct)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,s=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(Cd(c))if(s===0){const h=new pt(c.path);this.tt(i,h,Ke.newNoDocument(h,At.min()))}else Ht(s===1,20013,{expectedCount:s});else{const h=this.ut(i);if(h!==s){const m=this.ct(t),g=m?this.lt(m,t,h):1;if(g!==0){this.st(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let h,m;try{h=wr(s).toUint8Array()}catch(g){if(g instanceof c0)return As("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new um(h,l,c)}catch(g){return As(g instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,h)=>{const m=this._t(h);if(m){if(c.current&&Cd(m.target)){const g=new pt(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,Ke.newNoDocument(g,t))}c.Le&&(i.set(h,c.qe()),c.Qe())}});let s=Nt();this.Ye.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.He.forEach((c,h)=>h.setReadTime(t));const l=new jc(t,i,this.Ze,this.He,s);return this.He=ji(),this.Je=ec(),this.Ye=ec(),this.Ze=new oe(Ct),l}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new G_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new De(Ct),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new De(Ct),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new G_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function ec(){return new oe(pt.comparator)}function F_(){return new oe(pt.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class Y2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Id(r,t){return r.useProto3Json||Lc(t)?t:{value:t}}function Rc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function X2(r,t){return Rc(r,t.toTimestamp())}function ri(r){return Ht(!!r,49232),At.fromTimestamp(function(i){const s=Rr(i);return new Te(s.seconds,s.nanos)}(r))}function cm(r,t){return Vd(r,t).canonicalString()}function Vd(r,t){const i=function(l){return new ne(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function q0(r){const t=ne.fromString(r);return Ht(Y0(t),10190,{key:t.toString()}),t}function Nd(r,t){return cm(r.databaseId,t.path)}function fd(r,t){const i=q0(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(G0(i))}function H0(r,t){return cm(r.databaseId,t)}function K2(r){const t=q0(r);return t.length===4?ne.emptyPath():G0(t)}function Od(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q_(r,t,i){return{name:Nd(r,t),fields:i.value.mapValue.fields}}function $2(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const E=y.code===void 0?nt.UNKNOWN:z0(y.code);return new ft(E,y.message||"")}(h);i=new B0(s,l,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=fd(r,s.document.name),c=ri(s.document.updateTime),h=s.document.createTime?ri(s.document.createTime):At.min(),m=new xn({mapValue:{fields:s.document.fields}}),g=Ke.newFoundDocument(l,c,h,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new uc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=fd(r,s.document),c=s.readTime?ri(s.readTime):At.min(),h=Ke.newNoDocument(l,c),m=s.removedTargetIds||[];i=new uc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=fd(r,s.document),c=s.removedTargetIds||[];i=new uc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,h=new B2(l,c),m=s.targetId;i=new k0(m,h)}}return i}function Z2(r,t){let i;if(t instanceof Tl)i={update:Q_(r,t.key,t.value)};else if(t instanceof P0)i={delete:Nd(r,t.key)};else if(t instanceof ba)i={update:Q_(r,t.key,t.data),updateMask:sR(t.fieldMask)};else{if(!(t instanceof P2))return Et(16599,{ft:t.type});i={verify:Nd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof Ac)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ml)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sc)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Et(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:X2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),i}function J2(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(i=>function(l,c){let h=l.updateTime?ri(l.updateTime):ri(c);return h.isEqual(At.min())&&(h=ri(c)),new M2(h,l.transformResults||[])}(i,t))):[]}function W2(r,t){return{documents:[H0(r,t.path)]}}function tR(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=H0(r,l);const c=function(y){if(y.length!==0)return Q0(zn.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:_s(S.field),direction:iR(S.dir)}}(E))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=Id(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:i,parent:l}}function eR(r){let t=K2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(A){const S=F0(A);return S instanceof zn&&E0(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=function(A){return A.map(S=>function(N){return new bc(vs(N.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(i.orderBy));let m=null;i.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Lc(S)?null:S}(i.limit));let g=null;i.startAt&&(g=function(A){const S=!!A.before,L=A.values||[];return new Tc(L,S)}(i.startAt));let y=null;return i.endAt&&(y=function(A){const S=!A.before,L=A.values||[];return new Tc(L,S)}(i.endAt)),T2(t,l,h,c,m,"F",g,y)}function nR(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function F0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=vs(i.unaryFilter.field);return Ee.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=vs(i.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vs(i.unaryFilter.field);return Ee.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ee.create(vs(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return zn.create(i.compositeFilter.filters.map(s=>F0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(r):Et(30097,{filter:r})}function iR(r){return G2[r]}function rR(r){return F2[r]}function aR(r){return Q2[r]}function _s(r){return{fieldPath:r.canonicalString()}}function vs(r){return qe.fromServerFormat(r.fieldPath)}function Q0(r){return r instanceof Ee?function(i){if(i.op==="=="){if(O_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NAN"}};if(N_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NAN"}};if(N_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(i.field),op:rR(i.op),value:i.value}}}(r):r instanceof zn?function(i){const s=i.getFilters().map(l=>Q0(l));return s.length===1?s[0]:{compositeFilter:{op:aR(i.op),filters:s}}}(r):Et(54877,{filter:r})}function sR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,i,s,l,c=At.min(),h=At.min(),m=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.wt=t}}function lR(r){const t=eR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.Cn=new cR}addToCollectionParentIndex(t,i){return this.Cn.add(i),et.resolve()}getCollectionParents(t,i){return et.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return et.resolve()}deleteFieldIndex(t,i){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,i){return et.resolve()}getDocumentsMatchingTarget(t,i){return et.resolve(null)}getIndexType(t,i){return et.resolve(0)}getFieldIndexes(t,i){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,i){return et.resolve(Sr.min())}getMinOffsetFromCollectionGroup(t,i){return et.resolve(Sr.min())}updateCollectionGroup(t,i,s){return et.resolve()}updateIndexEntries(t,i){return et.resolve()}}class cR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new De(ne.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new De(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(X0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Cs(0)}static lr(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="LruGarbageCollector",fR=1048576;function K_([r,t],[i,s]){const l=Ct(r,i);return l===0?Ct(t,s):l}class hR{constructor(t){this.Er=t,this.buffer=new De(K_),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();K_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ct(X_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Us(i)?ct(X_,"Ignoring IndexedDB error during garbage collection: ",i):await Ls(i)}await this.mr(3e5)})}}class mR{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return et.resolve(Mc.le);const s=new hR(i);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.gr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Y_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let s,l,c,h,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,i))).next(A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(y=Date.now(),gs()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function pR(r,t){return new mR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.changes=new Ta(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&sl(s.mutation,l,Un.empty(),Te.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Nt()){const l=ma();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let h=Wo();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const s=ma();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Nt()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((h,m)=>{i.set(h,m)})})}computeViews(t,i,s,l){let c=ji();const h=al(),m=function(){return al()}();return i.forEach((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof ba)?c=c.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),sl(E.mutation,y,E.mutation.getFieldMask(),Te.now())):h.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((y,E)=>h.set(y,E)),i.forEach((y,E)=>{var A;return m.set(y,new yR(E,(A=h.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,i){const s=al();let l=new oe((h,m)=>h-m),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Un.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(l.get(m.batchId)||Nt()).add(g);l=l.insert(m.batchId,A)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=x0();E.forEach(S=>{if(!c.has(S)){const L=L0(i.get(S),s.get(S));L!==null&&A.set(S,L),c=c.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,A))}return et.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(h){return pt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):S0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):et.resolve(ma());let m=cl,g=c;return h.next(y=>et.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,g,y,Nt())).next(E=>({batchId:m,changes:D0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(s=>{let l=Wo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let h=Wo();return this.indexManager.getCollectionParents(t,c).next(m=>et.forEach(m,g=>{const y=function(A,S){return new El(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(E=>{E.forEach((A,S)=>{h=h.insert(A,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(h=>{c.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Ke.newInvalidDocument(E)))});let m=Wo();return h.forEach((g,y)=>{const E=c.get(g);E!==void 0&&sl(E.mutation,y,Un.empty(),Te.now()),zc(i,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return et.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ri(l.createTime)}}(i)),et.resolve()}getNamedQuery(t,i){return et.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(l){return{name:l.name,query:lR(l.bundledQuery),readTime:ri(l.readTime)}}(i)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.overlays=new oe(pt.comparator),this.Qr=new Map}getOverlay(t,i){return et.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ma();return et.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.St(t,i,c)}),et.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),et.resolve()}getOverlaysForCollection(t,i,s){const l=ma(),c=i.length+1,h=new pt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&l.set(g.getKey(),g)}return et.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new oe((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ma(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ma(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return et.resolve(m)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const h=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new k2(i,s));let c=this.Qr.get(i);c===void 0&&(c=Nt(),this.Qr.set(i,c)),this.Qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.$r=new De(Le.Ur),this.Kr=new De(Le.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const s=new Le(t,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.zr(new Le(t,i))}jr(t,i){t.forEach(s=>this.removeReference(s,i))}Hr(t){const i=new pt(new ne([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Kr.forEachInRange([s,l],h=>{this.zr(h),c.push(h.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new pt(new ne([])),s=new Le(i,t),l=new Le(i,t+1);let c=Nt();return this.Kr.forEachInRange([s,l],h=>{c=c.add(h.key)}),c}containsKey(t){const i=new Le(t,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return pt.comparator(t.key,i.key)||Ct(t.Zr,i.Zr)}static Wr(t,i){return Ct(t.Zr,i.Zr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new De(Le.Ur)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new z2(c,i,s,l);this.mutationQueue.push(h);for(const m of l)this.Xr=this.Xr.add(new Le(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,i){return et.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ti(s),c=l<0?0:l;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?em:this.nr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],h=>{const m=this.ei(h.Zr);c.push(m)}),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new De(Ct);return i.forEach(l=>{const c=new Le(l,0),h=new Le(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,h],m=>{s=s.add(m.Zr)})}),et.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const h=new Le(new pt(c),0);let m=new De(Ct);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Zr)),!0)},h),et.resolve(this.ni(m))}ni(t){const i=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Ht(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return et.forEach(i.mutations,l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,i){const s=new Le(i,0),l=this.Xr.firstAfterOrEqual(s);return et.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.ii=t,this.docs=function(){return new oe(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,h=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=ji();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ke.newInvalidDocument(l))}),et.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=ji();const h=i.path,m=new pt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||WS(JS(E),s)<=0||(l.has(E.key)||zc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(t,i,s,l){Et(9500)}si(t,i){return et.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new SR(this)}getSize(t){return et.resolve(this.size)}}class SR extends gR{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),et.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.persistence=t,this.oi=new Ta(i=>rm(i),am),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new fm,this.targetCount=0,this.ui=Cs.cr()}forEachTarget(t,i){return this.oi.forEach((s,l)=>i(l)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),et.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new Cs(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,et.resolve()}updateTargetData(t,i){return this.Tr(i),et.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.oi.delete(h),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),et.waitFor(c).next(()=>l)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,i){const s=this.oi.get(i)||null;return et.resolve(s)}addMatchingKeys(t,i,s){return this.ai.Gr(i,s),et.resolve()}removeMatchingKeys(t,i,s){this.ai.jr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(h=>{c.push(l.markPotentiallyOrphaned(t,h))}),et.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),et.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ai.Yr(i);return et.resolve(s)}containsKey(t,i){return et.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,i){this.ci={},this.overlays={},this.li=new Mc(0),this.hi=!1,this.hi=!0,this.Pi=new TR,this.referenceDelegate=t(this),this.Ti=new RR(this),this.indexManager=new uR,this.remoteDocumentCache=function(l){return new AR(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new oR(i),this.Ei=new vR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ER,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ci[t.toKey()];return s||(s=new bR(i,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,s){ct("MemoryPersistence","Starting transaction:",t);const l=new wR(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,i){return et.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,i)))}}class wR extends e2{constructor(t){super(),this.currentSequenceNumber=t}}class hm{constructor(t){this.persistence=t,this.Vi=new fm,this.mi=null}static fi(t){return new hm(t)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(t,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),et.resolve()}removeReference(t,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),et.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.gi,s=>{const l=pt.fromPath(s);return this.pi(t,l).next(c=>{c||i.removeEntry(l,At.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return et.or([()=>et.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class wc{constructor(t,i){this.persistence=t,this.yi=new Ta(s=>r2(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=pR(this,i)}static fi(t,i){return new wc(t,i)}di(){}Ai(t){return et.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}br(t){let i=0;return this.yr(t,s=>{i++}).next(()=>i)}yr(t,i){return et.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?et.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,h=>this.Dr(t,h,i).next(m=>{m||(s++,c.removeEntry(h,At.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),et.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,i,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),et.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=sc(t.data.value)),i}Dr(t,i,s){return et.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.yi.get(i);return et.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.ds=s,this.As=l}static Rs(t,i){let s=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new dm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return SA()?8:n2(bA())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ws(t,i).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.bs(t,i,l,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new CR;return this.Ss(t,i,h).next(m=>{if(c.result=m,this.fs)return this.Ds(t,i,h,m.size)})}).next(()=>c.result)}Ds(t,i,s,l){return s.documentReadCount<this.gs?(gs()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ys(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),et.resolve()):(gs()<=Pt.DEBUG&&ct("QueryEngine","Query:",ys(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(gs()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ys(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):et.resolve())}ws(t,i){if(P_(i))return et.resolve(null);let s=ii(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=xd(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const h=Nt(...c);return this.ys.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.vs(i,m);return this.Cs(i,y,h,g.readTime)?this.ws(t,xd(i,null,"F")):this.Fs(t,y,i,g)}))})))}bs(t,i,s,l){return P_(i)||l.isEqual(At.min())?et.resolve(null):this.ys.getDocuments(t,s).next(c=>{const h=this.vs(i,c);return this.Cs(i,h,s,l)?et.resolve(null):(gs()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ys(i)),this.Fs(t,h,i,ZS(l,cl)).next(m=>m))})}vs(t,i){let s=new De(w0(t));return i.forEach((l,c)=>{zc(t,c)&&(s=s.add(c))}),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return gs()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ys(i)),this.ys.getDocumentsMatchingQuery(t,i,Sr.min(),s)}Fs(t,i,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="LocalStore",xR=3e8;class IR{constructor(t,i,s,l){this.persistence=t,this.Ms=i,this.serializer=l,this.xs=new oe(Ct),this.Os=new Ta(c=>rm(c),am),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _R(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function VR(r,t,i,s){return new IR(r,t,i,s)}async function $0(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.Ls(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=Nt();for(const y of l){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next(y=>({ks:y,removedBatchIds:h,addedBatchIds:m}))})})}function NR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const A=y.batch,S=A.keys();let L=et.resolve();return S.forEach(N=>{L=L.next(()=>E.getEntry(g,N)).next(F=>{const U=y.docVersions.get(N);Ht(U!==null,48541),F.version.compareTo(U)<0&&(A.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Nt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function Z0(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function OR(r,t){const i=St(r),s=t.snapshotVersion;let l=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=i.Bs.newChangeBuffer({trackRemovals:!0});l=i.xs;const m=[];t.targetChanges.forEach((E,A)=>{const S=l.get(A);if(!S)return;m.push(i.Ti.removeMatchingKeys(c,E.removedDocuments,A).next(()=>i.Ti.addMatchingKeys(c,E.addedDocuments,A)));let L=S.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?L=L.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),l=l.insert(A,L),function(F,U,Y){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=xR?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,L,E)&&m.push(i.Ti.updateTargetData(c,L))});let g=ji(),y=Nt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(MR(c,h,t.documentUpdates).next(E=>{g=E.qs,y=E.Qs})),!s.isEqual(At.min())){const E=i.Ti.getLastRemoteSnapshotVersion(c).next(A=>i.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return et.waitFor(m).next(()=>h.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.xs=l,c))}function MR(r,t,i){let s=Nt(),l=Nt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let h=ji();return i.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):ct(mm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{qs:h,Qs:l}})}function LR(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=em),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function UR(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Ti.getTargetData(s,t).next(c=>c?(l=c,et.resolve(l)):i.Ti.allocateTargetId(s).next(h=>(l=new vr(t,h,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(t,s.targetId)),s})}async function Md(r,t,i){const s=St(r),l=s.xs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Us(h))throw h;ct(mm,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function $_(r,t,i){const s=St(r);let l=At.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const A=St(g),S=A.Os.get(E);return S!==void 0?et.resolve(A.xs.get(S)):A.Ti.getTargetData(y,E)}(s,h,ii(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,i?l:At.min(),i?c:Nt())).next(m=>(PR(s,A2(t),m),{documents:m,$s:c})))}function PR(r,t,i){let s=r.Ns.get(t)||At.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class Z_{constructor(){this.activeTargetIds=x2()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zR{constructor(){this.xo=new Z_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,s){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Z_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="ConnectivityMonitor";class W_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(J_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ct(J_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Ld(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="RestConnection",BR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jR{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===vc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,i,s,l,c){const h=Ld(),m=this.jo(t,i.toUriEncodedString());ct(hd,`Sending RPC '${t}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,l,c);const{host:y}=new URL(m),E=Jd(y);return this.Jo(t,m,g,s,E).then(A=>(ct(hd,`Received RPC '${t}' ${h}: `,A),A),A=>{throw As(hd,`RPC '${t}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(t,i,s,l,c,h){return this.zo(t,i,s,l,c)}Ho(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,i){const s=BR[t];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class HR extends jR{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const h=Ld();return new Promise((m,g)=>{const y=new Wv;y.setWithCredentials(!0),y.listenOnce(t0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ac.NO_ERROR:const A=y.getResponseJson();ct(Ye,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(A)),m(A);break;case ac.TIMEOUT:ct(Ye,`RPC '${t}' ${h} timed out`),g(new ft(nt.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const S=y.getStatus();if(ct(Ye,`RPC '${t}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const N=L==null?void 0:L.error;if(N&&N.status&&N.message){const F=function(Y){const K=Y.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(K)>=0?K:nt.UNKNOWN}(N.status);g(new ft(F,N.message))}else g(new ft(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ft(nt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{h_:t,streamId:h,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ct(Ye,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(l);ct(Ye,`RPC '${t}' ${h} sending request:`,l),y.send(i,"POST",E,s,15)})}I_(t,i,s){const l=Ld(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=i0(),m=n0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ct(Ye,`Creating RPC '${t}' stream ${l}: ${E}`,g);const A=h.createWebChannel(E,g);this.E_(A);let S=!1,L=!1;const N=new qR({Zo:U=>{L?ct(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,U):(S||(ct(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),ct(Ye,`RPC '${t}' stream ${l} sending:`,U),A.send(U))},Xo:()=>A.close()}),F=(U,Y,K)=>{U.listen(Y,Q=>{try{K(Q)}catch(rt){setTimeout(()=>{throw rt},0)}})};return F(A,Jo.EventType.OPEN,()=>{L||(ct(Ye,`RPC '${t}' stream ${l} transport opened.`),N.__())}),F(A,Jo.EventType.CLOSE,()=>{L||(L=!0,ct(Ye,`RPC '${t}' stream ${l} transport closed`),N.u_(),this.d_(A))}),F(A,Jo.EventType.ERROR,U=>{L||(L=!0,As(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),N.u_(new ft(nt.UNAVAILABLE,"The operation could not be completed")))}),F(A,Jo.EventType.MESSAGE,U=>{var Y;if(!L){const K=U.data[0];Ht(!!K,16349);const Q=K,rt=(Q==null?void 0:Q.error)||((Y=Q[0])===null||Y===void 0?void 0:Y.error);if(rt){ct(Ye,`RPC '${t}' stream ${l} received error:`,rt);const lt=rt.status;let gt=function(w){const I=ve[w];if(I!==void 0)return z0(I)}(lt),x=rt.message;gt===void 0&&(gt=nt.INTERNAL,x="Unknown error status: "+lt+" with message "+rt.message),L=!0,N.u_(new ft(gt,x)),A.close()}else ct(Ye,`RPC '${t}' stream ${l} received:`,K),N.c_(K)}}),F(m,e0.STAT_EVENT,U=>{U.stat===bd.PROXY?ct(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):U.stat===bd.NOPROXY&&ct(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(i=>i===t)}}function dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r){return new Y2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,i,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=i,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,i-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="PersistentStream";class W0{constructor(t,i,s,l,c,h,m,g){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new J0(t,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===i&&this.z_(s,l)},s=>{t(()=>{const l=new ft(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,i){const s=this.G_(this.v_);this.stream=this.H_(t,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ct(tv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return i=>{this.xi.enqueueAndForget(()=>this.v_===t?i():(ct(tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GR extends W0{constructor(t,i,s,l,c,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,h),this.serializer=c}H_(t,i){return this.connection.I_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const i=$2(this.serializer,t),s=function(c){if(!("targetChange"in c))return At.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?ri(h.readTime):At.min()}(t);return this.listener.Y_(i,s)}Z_(t){const i={};i.database=Od(this.serializer),i.addTarget=function(c,h){let m;const g=h.target;if(m=Cd(g)?{documents:W2(c,g)}:{query:tR(c,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=j0(c,h.resumeToken);const y=Id(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=Rc(c,h.snapshotVersion.toTimestamp());const y=Id(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=nR(this.serializer,t);s&&(i.labels=s),this.Q_(i)}X_(t){const i={};i.database=Od(this.serializer),i.removeTarget=t,this.Q_(i)}}class FR extends W0{constructor(t,i,s,l,c,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,h),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,i){return this.connection.I_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const i=J2(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.ra(s,i)}ia(){const t={};t.database=Od(this.serializer),this.Q_(t)}ta(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>Z2(this.serializer,s))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class YR extends QR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.zo(t,Vd(i,s),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(nt.UNKNOWN,c.toString())})}Yo(t,i,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(t,Vd(i,s),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(nt.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class XR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Bi(i),this.ua=!1):ct("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class KR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(h=>{s.enqueueAndForget(async()=>{Aa(this)&&(ct(ya,"Restarting streams for network reachability change."),await async function(g){const y=St(g);y.da.add(4),await Al(y),y.Va.set("Unknown"),y.da.delete(4),await Hc(y)}(this))})}),this.Va=new XR(s,l)}}async function Hc(r){if(Aa(r))for(const t of r.Aa)await t(!0)}async function Al(r){for(const t of r.Aa)await t(!1)}function tE(r,t){const i=St(r);i.Ea.has(t.targetId)||(i.Ea.set(t.targetId,t),_m(i)?ym(i):Ps(i).N_()&&gm(i,t))}function pm(r,t){const i=St(r),s=Ps(i);i.Ea.delete(t),s.N_()&&eE(i,t),i.Ea.size===0&&(s.N_()?s.k_():Aa(i)&&i.Va.set("Unknown"))}function gm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ps(r).Z_(t)}function eE(r,t){r.ma.Ke(t),Ps(r).X_(t)}function ym(r){r.ma=new H2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ps(r).start(),r.Va.ca()}function _m(r){return Aa(r)&&!Ps(r).O_()&&r.Ea.size>0}function Aa(r){return St(r).da.size===0}function nE(r){r.ma=void 0}async function $R(r){r.Va.set("Online")}async function ZR(r){r.Ea.forEach((t,i)=>{gm(r,t)})}async function JR(r,t){nE(r),_m(r)?(r.Va.Pa(t),ym(r)):r.Va.set("Unknown")}async function WR(r,t,i){if(r.Va.set("Online"),t instanceof B0&&t.state===2&&t.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.Ea.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ea.delete(m),l.ma.removeTarget(m))}(r,t)}catch(s){ct(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Cc(r,s)}else if(t instanceof uc?r.ma.Xe(t):t instanceof k0?r.ma.ot(t):r.ma.nt(t),!i.isEqual(At.min()))try{const s=await Z0(r.localStore);i.compareTo(s)>=0&&await function(c,h){const m=c.ma.It(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ea.get(y);E&&c.Ea.set(y,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const E=c.Ea.get(g);if(!E)return;c.Ea.set(g,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),eE(c,g);const A=new vr(E.target,g,y,E.sequenceNumber);gm(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ct(ya,"Failed to raise snapshot:",s),await Cc(r,s)}}async function Cc(r,t,i){if(!Us(t))throw t;r.da.add(1),await Al(r),r.Va.set("Offline"),i||(i=()=>Z0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(ya,"Retrying IndexedDB access"),await i(),r.da.delete(1),await Hc(r)})}function iE(r,t){return t().catch(i=>Cc(r,i,t))}async function Gc(r){const t=St(r),i=Dr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:em;for(;tw(t);)try{const l=await LR(t.localStore,s);if(l===null){t.Ia.length===0&&i.k_();break}s=l.batchId,ew(t,l)}catch(l){await Cc(t,l)}rE(t)&&aE(t)}function tw(r){return Aa(r)&&r.Ia.length<10}function ew(r,t){r.Ia.push(t);const i=Dr(r);i.N_()&&i.ea&&i.ta(t.mutations)}function rE(r){return Aa(r)&&!Dr(r).O_()&&r.Ia.length>0}function aE(r){Dr(r).start()}async function nw(r){Dr(r).ia()}async function iw(r){const t=Dr(r);for(const i of r.Ia)t.ta(i.mutations)}async function rw(r,t,i){const s=r.Ia.shift(),l=lm.from(s,t,i);await iE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Gc(r)}async function aw(r,t){t&&Dr(r).ea&&await async function(s,l){if(function(h){return j2(h)&&h!==nt.ABORTED}(l.code)){const c=s.Ia.shift();Dr(s).L_(),await iE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Gc(s)}}(r,t),rE(r)&&aE(r)}async function ev(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ct(ya,"RemoteStore received new credentials");const s=Aa(i);i.da.add(3),await Al(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.da.delete(3),await Hc(i)}async function sw(r,t){const i=St(r);t?(i.da.delete(2),await Hc(i)):t||(i.da.add(2),await Al(i),i.Va.set("Unknown"))}function Ps(r){return r.fa||(r.fa=function(i,s,l){const c=St(i);return c.oa(),new GR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:$R.bind(null,r),n_:ZR.bind(null,r),i_:JR.bind(null,r),Y_:WR.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),_m(r)?ym(r):r.Va.set("Unknown")):(await r.fa.stop(),nE(r))})),r.fa}function Dr(r){return r.ga||(r.ga=function(i,s,l){const c=St(i);return c.oa(),new FR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:nw.bind(null,r),i_:aw.bind(null,r),na:iw.bind(null,r),ra:rw.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await Gc(r)):(await r.ga.stop(),r.Ia.length>0&&(ct(ya,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const h=Date.now()+s,m=new vm(t,i,h,l,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(r,t){if(Bi("AsyncQueue",`${t}: ${r}`),Us(r))return new ft(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(t){return new Ts(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Wo(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ts)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ts;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.pa=new oe(pt.comparator)}track(t){const i=t.doc.key,s=this.pa.get(i);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(i,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(i):t.type===1&&s.type===2?this.pa=this.pa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(i,t)}wa(){const t=[];return this.pa.inorderTraversal((i,s)=>{t.push(s)}),t}}class Ds{constructor(t,i,s,l,c,h,m,g,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Ds(t,i,Ts.emptySet(i),h,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class lw{constructor(){this.queries=iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=St(i),c=l.queries;l.queries=iv(),c.forEach((h,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ft(nt.ABORTED,"Firestore shutting down"))}}function iv(){return new Ta(r=>R0(r),Pc)}async function sE(r,t){const i=St(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new ow,s=t.va()?0:1);try{switch(s){case 0:c.ba=await i.onListen(l,!0);break;case 1:c.ba=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(h){const m=Em(h,`Initialization of query '${ys(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,c),c.Sa.push(t),t.Fa(i.onlineState),c.ba&&t.Ma(c.ba)&&Tm(i)}async function oE(r,t){const i=St(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const h=c.Sa.indexOf(t);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function uw(r,t){const i=St(r);let s=!1;for(const l of t){const c=l.query,h=i.queries.get(c);if(h){for(const m of h.Sa)m.Ma(l)&&(s=!0);h.ba=l}}s&&Tm(i)}function cw(r,t,i){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Tm(r){r.Ca.forEach(t=>{t.next()})}var Ud,rv;(rv=Ud||(Ud={})).xa="default",rv.Cache="cache";class lE{constructor(t,i,s){this.query=t,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ds(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Na?this.La(t)&&(this.Oa.next(t),i=!0):this.ka(t,this.onlineState)&&(this.qa(t),i=!0),this.Ba=t,i}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),i=!0),i}ka(t,i){if(!t.fromCache||!this.va())return!0;const s=i!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}La(t){if(t.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(t){t=Ds.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this.key=t}}class cE{constructor(t){this.key=t}}class fw{constructor(t,i){this.query=t,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.Za=w0(t),this.Xa=new Ts(this.Za)}get eu(){return this.Ha}tu(t,i){const s=i?i.nu:new nv,l=i?i.Xa:this.Xa;let c=i?i.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,A)=>{const S=l.get(E),L=zc(this.query,A)?A:null,N=!!S&&this.mutatedKeys.has(S.key),F=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;S&&L?S.data.isEqual(L.data)?N!==F&&(s.track({type:3,doc:L}),U=!0):this.ru(S,L)||(s.track({type:2,doc:L}),U=!0,(g&&this.Za(L,g)>0||y&&this.Za(L,y)<0)&&(m=!0)):!S&&L?(s.track({type:0,doc:L}),U=!0):S&&!L&&(s.track({type:1,doc:S}),U=!0,(g||y)&&(m=!0)),U&&(L?(h=h.add(L),c=F?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Xa:h,nu:s,Cs:m,mutatedKeys:c}}ru(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((E,A)=>function(L,N){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:U})}};return F(L)-F(N)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(s),l=l!=null&&l;const m=i&&!l?this.su():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Ja;return this.Ja=g,h.length!==0||y?{snapshot:new Ds(this.query,t.Xa,c,h,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const i=[];return t.forEach(s=>{this.Ya.has(s)||i.push(new cE(s))}),this.Ya.forEach(s=>{t.has(s)||i.push(new uE(s))}),i}au(t){this.Ha=t.$s,this.Ya=Nt();const i=this.tu(t.documents);return this.applyChanges(i,!0)}uu(){return Ds.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const bm="SyncEngine";class hw{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class dw{constructor(t){this.key=t,this.cu=!1}}class mw{constructor(t,i,s,l,c,h){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Ta(m=>R0(m),Pc),this.Pu=new Map,this.Tu=new Set,this.Iu=new oe(pt.comparator),this.Eu=new Map,this.du=new fm,this.Au={},this.Ru=new Map,this.Vu=Cs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function pw(r,t,i=!0){const s=gE(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await fE(s,t,i,!0),l}async function gw(r,t){const i=gE(r);await fE(i,t,!0,!1)}async function fE(r,t,i,s){const l=await UR(r.localStore,ii(t)),c=l.targetId,h=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await yw(r,t,c,h==="current",l.resumeToken)),r.isPrimaryClient&&i&&tE(r.remoteStore,l),m}async function yw(r,t,i,s,l){r.fu=(A,S,L)=>async function(F,U,Y,K){let Q=U.view.tu(Y);Q.Cs&&(Q=await $_(F.localStore,U.query,!1).then(({documents:x})=>U.view.tu(x,Q)));const rt=K&&K.targetChanges.get(U.targetId),lt=K&&K.targetMismatches.get(U.targetId)!=null,gt=U.view.applyChanges(Q,F.isPrimaryClient,rt,lt);return sv(F,U.targetId,gt.ou),gt.snapshot}(r,A,S,L);const c=await $_(r.localStore,t,!0),h=new fw(t,c.$s),m=h.tu(c.documents),g=bl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=h.applyChanges(m,r.isPrimaryClient,g);sv(r,i,y.ou);const E=new hw(t,i,h);return r.hu.set(t,E),r.Pu.has(i)?r.Pu.get(i).push(t):r.Pu.set(i,[t]),y.snapshot}async function _w(r,t,i){const s=St(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(h=>!Pc(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Md(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&pm(s.remoteStore,l.targetId),Pd(s,l.targetId)}).catch(Ls)):(Pd(s,l.targetId),await Md(s.localStore,l.targetId,!0))}async function vw(r,t){const i=St(r),s=i.hu.get(t),l=i.Pu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),pm(i.remoteStore,s.targetId))}async function Ew(r,t,i){const s=Cw(r);try{const l=await function(h,m){const g=St(h),y=Te.now(),E=m.reduce((L,N)=>L.add(N.key),Nt());let A,S;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let N=ji(),F=Nt();return g.Bs.getEntries(L,E).next(U=>{N=U,N.forEach((Y,K)=>{K.isValidDocument()||(F=F.add(Y))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,N)).next(U=>{A=U;const Y=[];for(const K of m){const Q=U2(K,A.get(K.key).overlayedDocument);Q!=null&&Y.push(new ba(K.key,Q,y0(Q.value.mapValue),Pi.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,Y,m)}).next(U=>{S=U;const Y=U.applyToLocalDocumentSet(A,F);return g.documentOverlayCache.saveOverlays(L,U.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:D0(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(h,m,g){let y=h.Au[h.currentUser.toKey()];y||(y=new oe(Ct)),y=y.insert(m,g),h.Au[h.currentUser.toKey()]=y}(s,l.batchId,i),await Sl(s,l.changes),await Gc(s.remoteStore)}catch(l){const c=Em(l,"Failed to persist write");i.reject(c)}}async function hE(r,t){const i=St(r);try{const s=await OR(i.localStore,t);t.targetChanges.forEach((l,c)=>{const h=i.Eu.get(c);h&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.cu=!0:l.modifiedDocuments.size>0?Ht(h.cu,14607):l.removedDocuments.size>0&&(Ht(h.cu,42227),h.cu=!1))}),await Sl(i,s,t)}catch(s){await Ls(s)}}function av(r,t,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.hu.forEach((c,h)=>{const m=h.view.Fa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const g=St(h);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const S of A.Sa)S.Fa(m)&&(y=!0)}),y&&Tm(g)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Tw(r,t,i){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Eu.get(t),c=l&&l.key;if(c){let h=new oe(pt.comparator);h=h.insert(c,Ke.newNoDocument(c,At.min()));const m=Nt().add(c),g=new jc(At.min(),new Map,new oe(Ct),h,m);await hE(s,g),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Am(s)}else await Md(s.localStore,t,!1).then(()=>Pd(s,t,i)).catch(Ls)}async function bw(r,t){const i=St(r),s=t.batch.batchId;try{const l=await NR(i.localStore,t);mE(i,s,null),dE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Sl(i,l)}catch(l){await Ls(l)}}async function Aw(r,t,i){const s=St(r);try{const l=await function(h,m){const g=St(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(Ht(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);mE(s,t,i),dE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Sl(s,l)}catch(l){await Ls(l)}}function dE(r,t){(r.Ru.get(t)||[]).forEach(i=>{i.resolve()}),r.Ru.delete(t)}function mE(r,t,i){const s=St(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function Pd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),i&&r.lu.gu(s,i);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||pE(r,s)})}function pE(r,t){r.Tu.delete(t.path.canonicalString());const i=r.Iu.get(t);i!==null&&(pm(r.remoteStore,i),r.Iu=r.Iu.remove(t),r.Eu.delete(i),Am(r))}function sv(r,t,i){for(const s of i)s instanceof uE?(r.du.addReference(s.key,t),Sw(r,s)):s instanceof cE?(ct(bm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||pE(r,s.key)):Et(19791,{pu:s})}function Sw(r,t){const i=t.key,s=i.path.canonicalString();r.Iu.get(i)||r.Tu.has(s)||(ct(bm,"New document in limbo: "+i),r.Tu.add(s),Am(r))}function Am(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const i=new pt(ne.fromString(t)),s=r.Vu.next();r.Eu.set(s,new dw(i)),r.Iu=r.Iu.insert(i,s),tE(r.remoteStore,new vr(ii(sm(i.path)),s,"TargetPurposeLimboResolution",Mc.le))}}async function Sl(r,t,i){const s=St(r),l=[],c=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,g)=>{h.push(s.fu(g,t,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){l.push(y);const A=dm.Rs(g.targetId,y);c.push(A)}}))}),await Promise.all(h),s.lu.Y_(l),await async function(g,y){const E=St(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>et.forEach(y,S=>et.forEach(S.ds,L=>E.persistence.referenceDelegate.addReference(A,S.targetId,L)).next(()=>et.forEach(S.As,L=>E.persistence.referenceDelegate.removeReference(A,S.targetId,L)))))}catch(A){if(!Us(A))throw A;ct(mm,"Failed to update sequence numbers: "+A)}for(const A of y){const S=A.targetId;if(!A.fromCache){const L=E.xs.get(S),N=L.snapshotVersion,F=L.withLastLimboFreeSnapshotVersion(N);E.xs=E.xs.insert(S,F)}}}(s.localStore,c))}async function Rw(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ct(bm,"User change. New user:",t.toKey());const s=await $0(i.localStore,t);i.currentUser=t,function(c,h){c.Ru.forEach(m=>{m.forEach(g=>{g.reject(new ft(nt.CANCELLED,h))})}),c.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Sl(i,s.ks)}}function ww(r,t){const i=St(r),s=i.Eu.get(t);if(s&&s.cu)return Nt().add(s.key);{let l=Nt();const c=i.Pu.get(t);if(!c)return l;for(const h of c){const m=i.hu.get(h);l=l.unionWith(m.view.eu)}return l}}function gE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ww.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tw.bind(null,t),t.lu.Y_=uw.bind(null,t.eventManager),t.lu.gu=cw.bind(null,t.eventManager),t}function Cw(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Aw.bind(null,t),t}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,i){return null}Cu(t,i){return null}Du(t){return VR(this.persistence,new DR,t.initialUser,this.serializer)}Su(t){return new K0(hm.fi,this.serializer)}bu(t){return new zR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class Dw extends Dc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,i){Ht(this.persistence.referenceDelegate instanceof wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dR(s,t.asyncQueue,i)}Su(t){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new K0(s=>wc.fi(s,i),this.serializer)}}class zd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>av(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rw.bind(null,this.syncEngine),await sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new lw}()}createDatastore(t){const i=qc(t.databaseInfo.databaseId),s=function(c){return new HR(c)}(t.databaseInfo);return function(c,h,m,g){return new YR(c,h,m,g)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,h,m){return new KR(s,l,c,h,m)}(this.localStore,this.datastore,t.asyncQueue,i=>av(this.syncEngine,i,0),function(){return W_.C()?new W_:new kR}())}createSyncEngine(t,i){return function(l,c,h,m,g,y,E){const A=new mw(l,c,h,m,g,y);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=St(l);ct(ya,"RemoteStore shutting down."),c.da.add(5),await Al(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class xw{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{ct(xr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ct(xr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Em(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function md(r,t){r.asyncQueue.verifyOperationInProgress(),ct(xr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await $0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function ov(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Iw(r);ct(xr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>ev(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>ev(t.remoteStore,l)),r._onlineComponents=t}async function Iw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(xr,"Using user provided OfflineComponentProvider");try{await md(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;As("Error using user provided cache. Falling back to memory cache: "+i),await md(r,new Dc)}}else ct(xr,"Using default OfflineComponentProvider"),await md(r,new Dw(void 0));return r._offlineComponents}async function _E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(xr,"Using user provided OnlineComponentProvider"),await ov(r,r._uninitializedComponentsProvider._online)):(ct(xr,"Using default OnlineComponentProvider"),await ov(r,new zd))),r._onlineComponents}function Vw(r){return _E(r).then(t=>t.syncEngine)}async function vE(r){const t=await _E(r),i=t.eventManager;return i.onListen=pw.bind(null,t.syncEngine),i.onUnlisten=_w.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vw.bind(null,t.syncEngine),i}function Nw(r,t,i={}){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,y){const E=new yE({next:S=>{E.xu(),h.enqueueAndForget(()=>oE(c,A));const L=S.docs.has(m);!L&&S.fromCache?y.reject(new ft(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&g&&g.source==="server"?y.reject(new ft(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new lE(sm(m.path),E,{includeMetadataChanges:!0,Qa:!0});return sE(c,A)}(await vE(r),r.asyncQueue,t,i,s)),s.promise}function Ow(r,t,i={}){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,y){const E=new yE({next:S=>{E.xu(),h.enqueueAndForget(()=>oE(c,A)),S.fromCache&&g.source==="server"?y.reject(new ft(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new lE(m,E,{includeMetadataChanges:!0,Qa:!0});return sE(c,A)}(await vE(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r,t,i){if(!i)throw new ft(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Mw(r,t,i,s){if(t===!0&&s===!0)throw new ft(nt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function uv(r){if(!pt.isDocumentKey(r))throw new ft(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cv(r){if(pt.isDocumentKey(r))throw new ft(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Fc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function xs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fc(r);throw new ft(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firestore.googleapis.com",fv=!0;class hv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bE,this.ssl=fv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fR)throw new ft(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qc{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qS;switch(s.type){case"firstParty":return new QS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=lv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),lv.delete(i),s.terminate())}(this),Promise.resolve()}}function Lw(r,t,i,s={}){var l;r=xs(r,Qc);const c=Jd(t),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c&&(yA(`https://${g}`),TA("Firestore",!0)),h.host!==bE&&h.host!==g&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:s});if(!pc(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Xe.MOCK_USER;else{E=_A(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ft(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(S)}r._authCredentials=new HS(new a0(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zs(this.firestore,t,this._query)}}class pn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}}class Ar extends zs{constructor(t,i,s){super(t,i,sm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new pt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function kd(r,t,...i){if(r=bs(r),TE("collection","path",t),r instanceof Qc){const s=ne.fromString(t,...i);return cv(s),new Ar(r,null,s)}{if(!(r instanceof pn||r instanceof Ar))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return cv(s),new Ar(r.firestore,null,s)}}function AE(r,t,...i){if(r=bs(r),arguments.length===1&&(t=o0.newId()),TE("doc","path",t),r instanceof Qc){const s=ne.fromString(t,...i);return uv(s),new pn(r,null,new pt(s))}{if(!(r instanceof pn||r instanceof Ar))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return uv(s),new pn(r.firestore,r instanceof Ar?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new J0(this,"async_queue_retry"),this.rc=()=>{const s=dd();s&&ct(dv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const i=dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const i=dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Ui;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Us(t))throw t;ct(dv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const i=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Bi("INTERNAL UNHANDLED ERROR: ",pv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(t,i,s){this.oc(),this.nc.indexOf(t)>-1&&(i=0);const l=vm.createAndSchedule(this,t,i,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&Et(47125,{cc:pv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const i of this.Zu)if(i.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const i=this.Zu.indexOf(t);this.Zu.splice(i,1)}}function pv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Yc extends Qc{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new mv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function Uw(r,t){const i=typeof r=="object"?r:VS(),s=typeof r=="string"?r:vc,l=wS(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=pA("firestore");c&&Lw(l,...c)}return l}function Sm(r){if(r._terminated)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Pw(r),r._firestoreClient}function Pw(r){var t,i,s;const l=r._freezeSettings(),c=function(m,g,y,E){return new o2(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,EE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new xw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Is(He.fromBase64String(t))}catch(i){throw new ft(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Is(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^__.*__$/;class kw{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,i,this.fieldTransforms):new Tl(t,this.data,i,this.fieldTransforms)}}function RE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ic:r})}}class Dm{constructor(t,i,s,l,c,h){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return xc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(RE(this.Ic)&&zw.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Bw{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||qc(t)}bc(t,i,s,l=!1){return new Dm({Ic:t,methodName:i,wc:s,path:qe.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wE(r){const t=r._freezeSettings(),i=qc(r._databaseId);return new Bw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function jw(r,t,i,s,l,c={}){const h=r.bc(c.merge||c.mergeFields?2:0,t,i,l);xE("Data must be an object, but it was:",h,s);const m=CE(s,h);let g,y;if(c.merge)g=new Un(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const S=Hw(t,A,i);if(!h.contains(S))throw new ft(nt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Fw(E,S)||E.push(S)}g=new Un(E),y=h.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=h.fieldTransforms;return new kw(new xn(m),g,y)}function qw(r,t,i,s=!1){return xm(i,r.bc(s?4:3,t))}function xm(r,t){if(DE(r=bs(r)))return xE("Unsupported field value:",t,r),CE(r,t);if(r instanceof SE)return function(s,l){if(!RE(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let h=0;for(const m of s){let g=xm(m,l.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=bs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Te.fromDate(s);return{timestampValue:Rc(l.serializer,c)}}if(s instanceof Te){const c=new Te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(l.serializer,c)}}if(s instanceof wm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Is)return{bytesValue:j0(l.serializer,s._byteString)};if(s instanceof pn){const c=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw l.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Cm)return function(h,m){return{mapValue:{fields:{[p0]:{stringValue:g0},[Ec]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return om(m.serializer,y)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${Fc(s)}`)}(r,t)}function CE(r,t){const i={};return u0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ea(r,(s,l)=>{const c=xm(l,t.Ac(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function DE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Te||r instanceof wm||r instanceof Is||r instanceof pn||r instanceof SE||r instanceof Cm)}function xE(r,t,i){if(!DE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Fc(i);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function Hw(r,t,i){if((t=bs(t))instanceof Rm)return t._internalPath;if(typeof t=="string")return IE(r,t);throw xc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Gw=new RegExp("[~\\*/\\[\\]]");function IE(r,t,i){if(t.search(Gw)>=0)throw xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rm(...t.split("."))._internalPath}catch{throw xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function xc(r,t,i,s,l){const c=s&&!s.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${l}`),g+=")"),new ft(nt.INVALID_ARGUMENT,m+r+g)}function Fw(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Im("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qw extends VE{data(){return super.data()}}function Im(r,t){return typeof t=="string"?IE(r,t):t instanceof Rm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class Xw extends Vm{}function Kw(r,t,...i){let s=[];t instanceof Vm&&s.push(t),s=s.concat(i),function(c){const h=c.filter(g=>g instanceof Nm).length,m=c.filter(g=>g instanceof Xc).length;if(h>1||h>0&&m>0)throw new ft(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Xc extends Xw{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Xc(t,i,s)}_apply(t){const i=this._parse(t);return NE(t._query,i),new zs(t.firestore,t.converter,Dd(t._query,i))}_parse(t){const i=wE(t.firestore);return function(c,h,m,g,y,E,A){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){yv(A,E);const N=[];for(const F of A)N.push(gv(g,c,F));S={arrayValue:{values:N}}}else S=gv(g,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||yv(A,E),S=qw(m,h,A,E==="in"||E==="not-in");return Ee.create(y,E,S)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function $w(r,t,i){const s=t,l=Im("where",r);return Xc._create(l,s,i)}class Nm extends Vm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Nm(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const g of m)NE(h,g),h=Dd(h,g)}(t._query,i),new zs(t.firestore,t.converter,Dd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gv(r,t,i){if(typeof(i=bs(i))=="string"){if(i==="")throw new ft(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S0(t)&&i.indexOf("/")!==-1)throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ne.fromString(i));if(!pt.isDocumentKey(s))throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return V_(r,new pt(s))}if(i instanceof pn)return V_(r,i._key);throw new ft(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fc(i)}.`)}function yv(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function NE(r,t){const i=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ft(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Zw{convertValue(t,i="none"){switch(Cr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ea(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ec].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(h=>me(h.doubleValue));return new Cm(c)}convertGeoPoint(t){return new wm(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Uc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(fl(t));default:return null}}convertTimestamp(t){const i=Rr(t);return new Te(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ne.fromString(t);Ht(Y0(s),9688,{name:t});const l=new hl(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(i)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class OE extends VE{constructor(t,i,s,l,c,h){super(t,i,s,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Im("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class cc extends OE{data(t={}){return super.data(t)}}class Ww{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new el(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new cc(this._firestore,this._userDataWriter,s.key,s,new el(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const g=new cc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new el(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new cc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new el(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:tC(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function tC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){r=xs(r,pn);const t=xs(r.firestore,Yc);return Nw(Sm(t),r._key).then(i=>rC(t,r,i))}class ME extends Zw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Is(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,i)}}function _v(r){r=xs(r,zs);const t=xs(r.firestore,Yc),i=Sm(t),s=new ME(t);return Yw(r._query),Ow(i,r._query).then(l=>new Ww(t,s,r,l))}function nC(r,t){const i=xs(r.firestore,Yc),s=AE(r),l=Jw(r.converter,t);return iC(i,[jw(wE(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}function iC(r,t){return function(s,l){const c=new Ui;return s.asyncQueue.enqueueAndForget(async()=>Ew(await Vw(s),l,c)),c.promise}(Sm(r),t)}function rC(r,t,i){const s=i.docs.get(t._key),l=new ME(r);return new OE(r,l,t._key,s,new el(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ms=l})(IS),yc(new ll("firestore",(s,{instanceIdentifier:l,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new Yc(new GS(s.getProvider("auth-internal")),new YS(h,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(y.options.projectId,E)}(h,l),h);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Es(v_,E_,t),Es(v_,E_,"esm2017")})();var aC="firebase",sC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(aC,sC,"app");const oC={apiKey:"AIzaSyApnhEg6c5l2K5N677Pwk8aKDjtkQ9xKmg",authDomain:"tienda-coderhouse-7fd52.firebaseapp.com",projectId:"tienda-coderhouse-7fd52",storageBucket:"tienda-coderhouse-7fd52.appspot.com",messagingSenderId:"1020357378450",appId:"1:1020357378450:web:dfdf3171f5d66a0d2fc14b"},lC=Kv(oC),Ic=Uw(lC);function vv(){const[r,t]=q.useState([]),[i,s]=q.useState([]),[l,c]=q.useState(!0),{categoryId:h}=Iv(),m=Qd();q.useEffect(()=>{(async()=>{c(!0);try{let E=kd(Ic,"productos");h&&(E=Kw(E,$w("categoria","==",h)));const S=(await _v(E)).docs.map(U=>({id:U.id,...U.data()}));t(S);const N=(await _v(kd(Ic,"productos"))).docs.map(U=>U.data()),F=[...new Set(N.map(U=>U.categoria))];s(F)}catch(E){console.error("Error al cargar productos:",E)}finally{c(!1)}})()},[h]);const g=y=>{const E=y.target.value;m(E?`/categoria/${E}`:"/catalogo")};return tt.jsxs("div",{className:"item-list-container",children:[tt.jsx("h1",{className:"catalog-title",children:h?`Categoría: ${h}`:"Catálogo completo"}),tt.jsx("div",{className:"select-wrapper",children:tt.jsxs("select",{value:h||"",onChange:g,className:"categoria-select",children:[tt.jsx("option",{value:"",children:"Todas"}),i.map(y=>tt.jsx("option",{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))]})}),l?tt.jsxs("div",{className:"loader",children:[tt.jsx("div",{className:"loader-spinner"}),tt.jsx("p",{children:"Cargando productos..."})]}):r.length===0?tt.jsx("p",{className:"no-products",children:"No hay productos disponibles."}):tt.jsx("div",{className:"product-grid",children:r.map(y=>tt.jsxs("div",{className:"product-card",children:[tt.jsx("img",{src:y.imagen,alt:y.nombre,className:"product-image"}),tt.jsxs("div",{className:"product-info",children:[tt.jsx("h3",{children:y.nombre}),tt.jsxs("p",{className:"product-price",children:["$",y.precio]}),tt.jsx("button",{className:"ver-detalle-btn",onClick:()=>m(`/detalle/${y.id}`),children:"Ver detalle"})]})]},y.id))})]})}function uC({stock:r,initial:t=1,onAdd:i}){const[s,l]=q.useState(t),[c,h]=q.useState(""),m=()=>{s<r?(l(s+1),h("")):h("❌ No hay más stock disponible.")},g=()=>{s>1&&(l(s-1),h(""))},y=()=>{s<=r?(i(s),h("")):h("❌ No hay stock suficiente.")};return tt.jsxs("div",{className:"item-count",children:[tt.jsxs("div",{className:"contador",children:[tt.jsx("button",{onClick:g,disabled:s<=1,children:"-"}),tt.jsx("span",{children:s}),tt.jsx("button",{onClick:m,disabled:s>=r,children:"+"})]}),c&&tt.jsx("p",{className:"stock-error",children:c}),tt.jsx("button",{onClick:y,disabled:s>r,children:"Agregar al carrito"})]})}function cC({producto:r}){const{addToCart:t,mensajeError:i,setMensajeError:s}=Oc(),[l,c]=q.useState(!1),h=m=>{t(r,m)&&(c(!0),s(""))};return tt.jsxs("div",{className:"item-detail",children:[tt.jsx("img",{src:r.imagen,alt:r.nombre,className:"item-detail-image"}),tt.jsxs("div",{className:"item-detail-info",children:[tt.jsx("h2",{children:r.nombre}),tt.jsx("p",{children:r.descripcion}),tt.jsxs("p",{className:"precio",children:["Precio: $",r.precio]}),i&&tt.jsx("p",{className:"stock-error",children:i}),l?tt.jsx("p",{className:"mensaje-ok",children:"✔ Producto en el carrito"}):tt.jsx(uC,{stock:r.stock,onAdd:h})]})]})}function fC(){const{productoId:r}=Iv(),[t,i]=q.useState(null),[s,l]=q.useState(!0);return q.useEffect(()=>{const c=AE(Ic,"productos",r);eC(c).then(h=>{h.exists()?i({id:h.id,...h.data()}):i(null)}).finally(()=>l(!1))},[r]),s?tt.jsx("p",{children:"Cargando detalle..."}):t?tt.jsx("div",{className:"item-detail-container",children:tt.jsx(cC,{producto:t})}):tt.jsx("p",{children:"Producto no encontrado."})}function hC(){const{cart:r,removeItem:t,clearCart:i,totalAmount:s}=Oc(),[l,c]=q.useState(null);return l?tt.jsxs("div",{className:"orden-confirmada",children:[tt.jsx("h2",{children:"✅ ¡Compra realizada con éxito!"}),tt.jsx("p",{children:"Tu ID de verificación es:"}),tt.jsx("strong",{children:l}),tt.jsx("br",{}),tt.jsx(Pn,{to:"/catalogo",children:"Volver al catálogo"})]}):r.length===0?tt.jsxs("div",{className:"carrito-vacio",children:[tt.jsx("h2",{children:"🛒 Carrito vacío"}),tt.jsx(Pn,{to:"/catalogo",children:"Volver al catálogo"})]}):tt.jsxs("div",{className:"cart-container",children:[tt.jsx("h2",{children:"🛒 Tu carrito"}),tt.jsx("ul",{className:"cart-list",children:r.map(h=>tt.jsxs("li",{className:"cart-item",children:[tt.jsx("img",{src:h.imagen,alt:h.nombre,width:80}),tt.jsxs("div",{children:[tt.jsx("h3",{children:h.nombre}),tt.jsxs("p",{children:["Cantidad: ",h.cantidad]}),tt.jsxs("p",{children:["Precio unitario: $",h.precio]}),tt.jsxs("p",{children:["Subtotal: $",h.precio*h.cantidad]}),tt.jsx("button",{onClick:()=>t(h.id),children:"Eliminar"})]})]},h.id))}),tt.jsxs("h3",{className:"total",children:["Total: $",s()]}),tt.jsxs("div",{className:"cart-actions",children:[tt.jsx("button",{onClick:i,children:"Vaciar carrito"}),tt.jsx(Pn,{to:"/checkout",children:tt.jsx("button",{children:"Finalizar compra"})})]})]})}function dC(){const{cart:r,clearCart:t,totalAmount:i}=Oc(),[s,l]=q.useState(""),[c,h]=q.useState(""),[m,g]=q.useState(""),[y,E]=q.useState(null),[A,S]=q.useState(!1);Qd();const L=async N=>{N.preventDefault(),S(!0);const F={buyer:{nombre:s,email:c,telefono:m},items:r.map(U=>({id:U.id,nombre:U.nombre,cantidad:U.cantidad,precio:U.precio,total:U.precio*U.cantidad})),total:i(),date:Te.fromDate(new Date)};try{const U=await nC(kd(Ic,"ordenes"),F);E(U.id),t()}catch(U){console.error("Error al generar orden:",U)}finally{S(!1)}};return y?tt.jsxs("div",{className:"orden-confirmada",children:[tt.jsx("h2",{children:"✅ ¡Compra realizada con éxito!"}),tt.jsx("p",{children:"Tu ID de verificación es:"}),tt.jsx("strong",{children:y}),tt.jsx("br",{}),tt.jsx(Pn,{to:"/catalogo",children:"Volver al catálogo"})]}):tt.jsxs("div",{className:"checkout-form",children:[tt.jsx("h2",{children:"🧾 Finalizar compra"}),tt.jsxs("form",{onSubmit:L,children:[tt.jsx("input",{type:"text",placeholder:"Nombre completo",value:s,onChange:N=>l(N.target.value),required:!0}),tt.jsx("input",{type:"email",placeholder:"Correo electrónico",value:c,onChange:N=>h(N.target.value),required:!0}),tt.jsx("input",{type:"tel",placeholder:"Teléfono",value:m,onChange:N=>g(N.target.value),required:!0}),tt.jsx("button",{type:"submit",disabled:A,children:A?"Procesando...":"Confirmar compra"})]})]})}function LE(r){var t,i,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(i=LE(r[t]))&&(s&&(s+=" "),s+=i)}else for(i in r)r[i]&&(s&&(s+=" "),s+=i);return s}function pa(){for(var r,t,i=0,s="",l=arguments.length;i<l;i++)(r=arguments[i])&&(t=LE(r))&&(s&&(s+=" "),s+=t);return s}function mC(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}mC(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Rl=r=>typeof r=="number"&&!isNaN(r),_a=r=>typeof r=="string",qi=r=>typeof r=="function",pC=r=>_a(r)||Rl(r),Bd=r=>_a(r)||qi(r)?r:null,gC=(r,t)=>r===!1||Rl(r)&&r>0?r:t,jd=r=>q.isValidElement(r)||_a(r)||qi(r)||Rl(r);function yC(r,t,i=300){let{scrollHeight:s,style:l}=r;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${i}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,i)})})}function _C({enter:r,exit:t,appendPosition:i=!1,collapse:s=!0,collapseDuration:l=300}){return function({children:c,position:h,preventExitTransition:m,done:g,nodeRef:y,isIn:E,playToast:A}){let S=i?`${r}--${h}`:r,L=i?`${t}--${h}`:t,N=q.useRef(0);return q.useLayoutEffect(()=>{let F=y.current,U=S.split(" "),Y=K=>{K.target===y.current&&(A(),F.removeEventListener("animationend",Y),F.removeEventListener("animationcancel",Y),N.current===0&&K.type!=="animationcancel"&&F.classList.remove(...U))};F.classList.add(...U),F.addEventListener("animationend",Y),F.addEventListener("animationcancel",Y)},[]),q.useEffect(()=>{let F=y.current,U=()=>{F.removeEventListener("animationend",U),s?yC(F,g,l):g()};E||(m?U():(N.current=1,F.className+=` ${L}`,F.addEventListener("animationend",U)))},[E]),kt.createElement(kt.Fragment,null,c)}}function Ev(r,t){return{content:UE(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function UE(r,t,i=!1){return q.isValidElement(r)&&!_a(r.type)?q.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):qi(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):r}function vC({closeToast:r,theme:t,ariaLabel:i="close"}){return kt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":i},kt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},kt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function EC({delay:r,isRunning:t,closeToast:i,type:s="default",hide:l,className:c,controlledProgress:h,progress:m,rtl:g,isIn:y,theme:E}){let A=l||h&&m===0,S={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};h&&(S.transform=`scaleX(${m})`);let L=pa("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":g}),N=qi(c)?c({rtl:g,type:s,defaultClassName:L}):pa(L,c),F={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{y&&i()}};return kt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},kt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),kt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:N,style:S,...F}))}var TC=1,PE=()=>`${TC++}`;function bC(r,t,i){let s=1,l=0,c=[],h=[],m=t,g=new Map,y=new Set,E=K=>(y.add(K),()=>y.delete(K)),A=()=>{h=Array.from(g.values()),y.forEach(K=>K())},S=({containerId:K,toastId:Q,updateId:rt})=>{let lt=K?K!==r:r!==1,gt=g.has(Q)&&rt==null;return lt||gt},L=(K,Q)=>{g.forEach(rt=>{var lt;(Q==null||Q===rt.props.toastId)&&((lt=rt.toggle)==null||lt.call(rt,K))})},N=K=>{var Q,rt;(rt=(Q=K.props)==null?void 0:Q.onClose)==null||rt.call(Q,K.removalReason),K.isActive=!1},F=K=>{if(K==null)g.forEach(N);else{let Q=g.get(K);Q&&N(Q)}A()},U=()=>{l-=c.length,c=[]},Y=K=>{var Q,rt;let{toastId:lt,updateId:gt}=K.props,x=gt==null;K.staleId&&g.delete(K.staleId),K.isActive=!0,g.set(lt,K),A(),i(Ev(K,x?"added":"updated")),x&&((rt=(Q=K.props).onOpen)==null||rt.call(Q))};return{id:r,props:m,observe:E,toggle:L,removeToast:F,toasts:g,clearQueue:U,buildToast:(K,Q)=>{if(S(Q))return;let{toastId:rt,updateId:lt,data:gt,staleId:x,delay:R}=Q,w=lt==null;w&&l++;let I={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Q).filter(([P,D])=>D!=null)),toastId:rt,updateId:lt,data:gt,isIn:!1,className:Bd(Q.className||m.toastClassName),progressClassName:Bd(Q.progressClassName||m.progressClassName),autoClose:Q.isLoading?!1:gC(Q.autoClose,m.autoClose),closeToast(P){g.get(rt).removalReason=P,F(rt)},deleteToast(){let P=g.get(rt);if(P!=null){if(i(Ev(P,"removed")),g.delete(rt),l--,l<0&&(l=0),c.length>0){Y(c.shift());return}A()}}};I.closeButton=m.closeButton,Q.closeButton===!1||jd(Q.closeButton)?I.closeButton=Q.closeButton:Q.closeButton===!0&&(I.closeButton=jd(m.closeButton)?m.closeButton:!0);let M={content:K,props:I,staleId:x};m.limit&&m.limit>0&&l>m.limit&&w?c.push(M):Rl(R)?setTimeout(()=>{Y(M)},R):Y(M)},setProps(K){m=K},setToggle:(K,Q)=>{let rt=g.get(K);rt&&(rt.toggle=Q)},isToastActive:K=>{var Q;return(Q=g.get(K))==null?void 0:Q.isActive},getSnapshot:()=>h}}var tn=new Map,gl=[],qd=new Set,AC=r=>qd.forEach(t=>t(r)),zE=()=>tn.size>0;function SC(){gl.forEach(r=>BE(r.content,r.options)),gl=[]}var RC=(r,{containerId:t})=>{var i;return(i=tn.get(t||1))==null?void 0:i.toasts.get(r)};function kE(r,t){var i;if(t)return!!((i=tn.get(t))!=null&&i.isToastActive(r));let s=!1;return tn.forEach(l=>{l.isToastActive(r)&&(s=!0)}),s}function wC(r){if(!zE()){gl=gl.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||pC(r))tn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=tn.get(r.containerId);t?t.removeToast(r.id):tn.forEach(i=>{i.removeToast(r.id)})}}var CC=(r={})=>{tn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function BE(r,t){jd(r)&&(zE()||gl.push({content:r,options:t}),tn.forEach(i=>{i.buildToast(r,t)}))}function DC(r){var t;(t=tn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function jE(r,t){tn.forEach(i=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===i.id)&&i.toggle(r,t==null?void 0:t.id)})}function xC(r){let t=r.containerId||1;return{subscribe(i){let s=bC(t,r,AC);tn.set(t,s);let l=s.observe(i);return SC(),()=>{l(),tn.delete(t)}},setProps(i){var s;(s=tn.get(t))==null||s.setProps(i)},getSnapshot(){var i;return(i=tn.get(t))==null?void 0:i.getSnapshot()}}}function IC(r){return qd.add(r),()=>{qd.delete(r)}}function VC(r){return r&&(_a(r.toastId)||Rl(r.toastId))?r.toastId:PE()}function wl(r,t){return BE(r,t),t.toastId}function Kc(r,t){return{...t,type:t&&t.type||r,toastId:VC(t)}}function $c(r){return(t,i)=>wl(t,Kc(r,i))}function Jt(r,t){return wl(r,Kc("default",t))}Jt.loading=(r,t)=>wl(r,Kc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function NC(r,{pending:t,error:i,success:s},l){let c;t&&(c=_a(t)?Jt.loading(t,l):Jt.loading(t.render,{...l,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(y,E,A)=>{if(E==null){Jt.dismiss(c);return}let S={type:y,...h,...l,data:A},L=_a(E)?{render:E}:E;return c?Jt.update(c,{...S,...L}):Jt(L.render,{...S,...L}),A},g=qi(r)?r():r;return g.then(y=>m("success",s,y)).catch(y=>m("error",i,y)),g}Jt.promise=NC;Jt.success=$c("success");Jt.info=$c("info");Jt.error=$c("error");Jt.warning=$c("warning");Jt.warn=Jt.warning;Jt.dark=(r,t)=>wl(r,Kc("default",{theme:"dark",...t}));function OC(r){wC(r)}Jt.dismiss=OC;Jt.clearWaitingQueue=CC;Jt.isActive=kE;Jt.update=(r,t={})=>{let i=RC(r,t);if(i){let{props:s,content:l}=i,c={delay:100,...s,...t,toastId:t.toastId||r,updateId:PE()};c.toastId!==r&&(c.staleId=r);let h=c.render||l;delete c.render,wl(h,c)}};Jt.done=r=>{Jt.update(r,{progress:1})};Jt.onChange=IC;Jt.play=r=>jE(!0,r);Jt.pause=r=>jE(!1,r);function MC(r){var t;let{subscribe:i,getSnapshot:s,setProps:l}=q.useRef(xC(r)).current;l(r);let c=(t=q.useSyncExternalStore(i,s,s))==null?void 0:t.slice();function h(m){if(!c)return[];let g=new Map;return r.newestOnTop&&c.reverse(),c.forEach(y=>{let{position:E}=y.props;g.has(E)||g.set(E,[]),g.get(E).push(y)}),Array.from(g,y=>m(y[0],y[1]))}return{getToastToRender:h,isToastActive:kE,count:c==null?void 0:c.length}}function LC(r){let[t,i]=q.useState(!1),[s,l]=q.useState(!1),c=q.useRef(null),h=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:g,closeToast:y,onClick:E,closeOnClick:A}=r;DC({id:r.toastId,containerId:r.containerId,fn:i}),q.useEffect(()=>{if(r.pauseOnFocusLoss)return S(),()=>{L()}},[r.pauseOnFocusLoss]);function S(){document.hasFocus()||Y(),window.addEventListener("focus",U),window.addEventListener("blur",Y)}function L(){window.removeEventListener("focus",U),window.removeEventListener("blur",Y)}function N(x){if(r.draggable===!0||r.draggable===x.pointerType){K();let R=c.current;h.canCloseOnClick=!0,h.canDrag=!0,R.style.transition="none",r.draggableDirection==="x"?(h.start=x.clientX,h.removalDistance=R.offsetWidth*(r.draggablePercent/100)):(h.start=x.clientY,h.removalDistance=R.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function F(x){let{top:R,bottom:w,left:I,right:M}=c.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&r.pauseOnHover&&x.clientX>=I&&x.clientX<=M&&x.clientY>=R&&x.clientY<=w?Y():U()}function U(){i(!0)}function Y(){i(!1)}function K(){h.didMove=!1,document.addEventListener("pointermove",rt),document.addEventListener("pointerup",lt)}function Q(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",lt)}function rt(x){let R=c.current;if(h.canDrag&&R){h.didMove=!0,t&&Y(),r.draggableDirection==="x"?h.delta=x.clientX-h.start:h.delta=x.clientY-h.start,h.start!==x.clientX&&(h.canCloseOnClick=!1);let w=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;R.style.transform=`translate3d(${w},0)`,R.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function lt(){Q();let x=c.current;if(h.canDrag&&h.didMove&&x){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){l(!0),r.closeToast(!0),r.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let gt={onPointerDown:N,onPointerUp:F};return m&&g&&(gt.onMouseEnter=Y,r.stacked||(gt.onMouseLeave=U)),A&&(gt.onClick=x=>{E&&E(x),h.canCloseOnClick&&y(!0)}),{playToast:U,pauseToast:Y,isRunning:t,preventExitTransition:s,toastRef:c,eventHandlers:gt}}var UC=typeof window<"u"?q.useLayoutEffect:q.useEffect,Zc=({theme:r,type:t,isLoading:i,...s})=>kt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function PC(r){return kt.createElement(Zc,{...r},kt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function zC(r){return kt.createElement(Zc,{...r},kt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kC(r){return kt.createElement(Zc,{...r},kt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function BC(r){return kt.createElement(Zc,{...r},kt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jC(){return kt.createElement("div",{className:"Toastify__spinner"})}var Hd={info:zC,warning:PC,success:kC,error:BC,spinner:jC},qC=r=>r in Hd;function HC({theme:r,type:t,isLoading:i,icon:s}){let l=null,c={theme:r,type:t};return s===!1||(qi(s)?l=s({...c,isLoading:i}):q.isValidElement(s)?l=q.cloneElement(s,c):i?l=Hd.spinner():qC(t)&&(l=Hd[t](c))),l}var GC=r=>{let{isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:l,playToast:c}=LC(r),{closeButton:h,children:m,autoClose:g,onClick:y,type:E,hideProgressBar:A,closeToast:S,transition:L,position:N,className:F,style:U,progressClassName:Y,updateId:K,role:Q,progress:rt,rtl:lt,toastId:gt,deleteToast:x,isIn:R,isLoading:w,closeOnClick:I,theme:M,ariaLabel:P}=r,D=pa("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":lt},{"Toastify__toast--close-on-click":I}),be=qi(F)?F({rtl:lt,position:N,type:E,defaultClassName:D}):pa(D,F),ee=HC(r),$=!!rt||!g,ot={closeToast:S,type:E,theme:M},dt=null;return h===!1||(qi(h)?dt=h(ot):q.isValidElement(h)?dt=q.cloneElement(h,ot):dt=vC(ot)),kt.createElement(L,{isIn:R,done:x,position:N,preventExitTransition:i,nodeRef:s,playToast:c},kt.createElement("div",{id:gt,tabIndex:0,onClick:y,"data-in":R,className:be,...l,style:U,ref:s,...R&&{role:Q,"aria-label":P}},ee!=null&&kt.createElement("div",{className:pa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!w})},ee),UE(m,r,!t),dt,!r.customProgressBar&&kt.createElement(EC,{...K&&!$?{key:`p-${K}`}:{},rtl:lt,theme:M,delay:g,isRunning:t,isIn:R,closeToast:S,hide:A,type:E,className:Y,controlledProgress:$,progress:rt||0})))},FC=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),QC=_C(FC("bounce",!0)),YC={position:"top-right",transition:QC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function XC(r){let t={...YC,...r},i=r.stacked,[s,l]=q.useState(!0),c=q.useRef(null),{getToastToRender:h,isToastActive:m,count:g}=MC(t),{className:y,style:E,rtl:A,containerId:S,hotKeys:L}=t;function N(U){let Y=pa("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":A});return qi(y)?y({position:U,rtl:A,defaultClassName:Y}):pa(Y,Bd(y))}function F(){i&&(l(!0),Jt.play())}return UC(()=>{var U;if(i){let Y=c.current.querySelectorAll('[data-in="true"]'),K=12,Q=(U=t.position)==null?void 0:U.includes("top"),rt=0,lt=0;Array.from(Y).reverse().forEach((gt,x)=>{let R=gt;R.classList.add("Toastify__toast--stacked"),x>0&&(R.dataset.collapsed=`${s}`),R.dataset.pos||(R.dataset.pos=Q?"top":"bot");let w=rt*(s?.2:1)+(s?0:K*x);R.style.setProperty("--y",`${Q?w:w*-1}px`),R.style.setProperty("--g",`${K}`),R.style.setProperty("--s",`${1-(s?lt:0)}`),rt+=R.offsetHeight,lt+=.025})}},[s,g,i]),q.useEffect(()=>{function U(Y){var K;let Q=c.current;L(Y)&&((K=Q.querySelector('[tabIndex="0"]'))==null||K.focus(),l(!1),Jt.pause()),Y.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(l(!0),Jt.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[L]),kt.createElement("section",{ref:c,className:"Toastify",id:S,onMouseEnter:()=>{i&&(l(!1),Jt.pause())},onMouseLeave:F,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((U,Y)=>{let K=Y.length?{...E}:{...E,pointerEvents:"none"};return kt.createElement("div",{tabIndex:-1,className:N(U),"data-stacked":i,style:K,key:`c-${U}`},Y.map(({content:Q,props:rt})=>kt.createElement(GC,{...rt,stacked:i,collapseAll:F,isIn:m(rt.toastId,rt.containerId),key:`t-${rt.key}`},Q)))}))}function KC(){return tt.jsx(kv,{children:tt.jsxs(Pb,{basename:"/ProyectoFinal-Gonzalez",children:[tt.jsx(rA,{}),tt.jsx(XC,{autoClose:2e3,position:"top-center"}),tt.jsxs(db,{children:[tt.jsx(_r,{path:"/",element:tt.jsx(Yb,{})}),tt.jsx(_r,{path:"/catalogo",element:tt.jsx(vv,{})}),tt.jsx(_r,{path:"/categoria/:categoryId",element:tt.jsx(vv,{})}),tt.jsx(_r,{path:"/detalle/:productoId",element:tt.jsx(fC,{})}),tt.jsx(_r,{path:"/carrito",element:tt.jsx(hC,{})}),tt.jsx(_r,{path:"/checkout",element:tt.jsx(dC,{})}),tt.jsx(_r,{path:"*",element:tt.jsx("h2",{style:{color:"#fff",background:"linear-gradient(90deg,rgb(27, 29, 67),rgb(37, 36, 34))",padding:"2rem",borderRadius:"20px",textAlign:"center",marginTop:"3rem",fontFamily:"Comic Sans MS, Comic Sans, cursive",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",maxWidth:"500px",marginLeft:"auto",marginRight:"auto"},children:"🚧 404 - Página no encontrada 🚀"})})]})]})})}b1.createRoot(document.getElementById("root")).render(tt.jsx(q.StrictMode,{children:tt.jsx(kv,{children:tt.jsx(KC,{})})}));
